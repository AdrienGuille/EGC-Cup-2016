Extraction d’indices spatiaux et temporels
dans des se´quences vide´o couleur
Se´bastien Lefe`vre∗, Nicole Vincent∗
∗ LSIIT – Universite´ Louis Pasteur (Strasbourg I)
Parc d’Innovation, Bd Brant, BP 10413, 67412 Illkirch Cedex
lefevre@lsiit.u-strasbg.fr
∗∗ CRIP5 – Universite´ Rene´ Descartes (Paris V)
45 rue des Saints Pe`res, 75270 Paris Cedex 06
nicole.vincent@math-info.univ-paris5.fr
Re´sume´. Dans cet article, nous conside´rons les se´quences vide´o cou-
leur comme des donne´es complexes. Notre contribution porte sur deux
me´thodes adapte´es a` ce type de donne´es et permettant d’extraire des
indices spatiaux et temporels. Nous pensons que ces me´thodes peuvent
eˆtre inte´gre´es avec succe`s dans un processus plus complexe de fouille de
donne´es multime´dia, aspect qui ne sera pas aborde´ ici. Les me´thodes
pre´sente´es sont base´es sur l’espace Teinte Saturation Luminance. L’ex-
traction d’indices spatiaux est assimile´e au proble`me de la se´paration du
fond et des objets, re´solu par une approche multire´solution ne ne´cessitant
qu’une seule image. L’extraction d’indices temporels correspond a` la de´tec-
tion des changements de plans dans une se´quence d’images, obtenue par
l’utilisation de mesures de distances inde´pendantes du contexte. Les ca-
racte´ristiques communes de nos deux me´thodes sont l’utilisation de l’es-
pace TSL, l’efficacite´ calculatoire, et la robustesse aux artefacts. Nous
illustrons ces approches par des re´sultats obtenus sur des se´quences vide´o
sportives.
1 Introduction
A l’e`re de la socie´te´ de l’information et de la communication, les donne´es nume´riques
occupent une place de plus en plus importante et il devient ne´cessaire de disposer
d’outils adapte´s pour les traiter, les synthe´tiser, les fouiller. En particulier, les se´quences
vide´o issues des canaux te´le´visuels fournissent des volumes de donne´es dont la taille ne
permet plus aujourd’hui un parcours line´aire. L’acce´s aux e´le´ments pertinents requiert
la description des donne´es par des indices.
Nous nous inte´ressons ici au proble`me de l’extraction d’indices dans les se´quences
vide´o. Puisque celles-ci sont le plus souvent compose´es d’images couleur, nous pro-
posons d’utiliser l’espace couleur Teinte Saturation Luminance qui fournit des ca-
racte´ristiques inte´ressantes. En se basant sur cet espace, nous cherchons tout d’abord
a` extraire des indices spatiaux, que nous assimilons aux diffe´rents e´le´ments contenus
dans les images : les objets et l’arrie`re-plan de la sce`ne. Puis nous nous focalisons
sur l’extraction d’indices temporels repre´sentant les limites des diffe´rents plans d’une
se´quence. Notre article sera donc organise´ de la manie`re suivante : apre`s avoir pre´sente´
- 249 - RNTI-E-5
Extraction d’indices spatiaux et temporels dans des se´quences vide´o couleur
l’espace TSL, nous de´crirons nos me´thodes d’extraction d’indices spatiaux et temporels,
et enfin nous commenterons les re´sultats obtenus sur des se´quences vide´o sportives.
2 L’espace Teinte Saturation Luminance
Le codage de la couleur dans des images nume´riques peut eˆtre effectue´ en utilisant
diffe´rents espaces de repre´sentation, appele´s traditionnellement espaces couleur. Pour
plus d’informations, le lecteur pourra se re´fe´rer au re´cent ouvrage de Tre´meau et al.
(Tre´meau et al. 2004) ou au panorama de Chang et al. (Chang et al. 2001) sur la seg-
mentation couleur. Dans cet article, nous nous focalisons sur l’espace Teinte Saturation
Luminance (TSL) que nous pre´sentons ici.
L’espace TSL est repre´sente´ par trois composantes : la teinte, la saturation, et la
luminance. Tandis que la saturation et la luminance sont code´es ”de manie`re classique”
sous forme scalaire, la teinte est pour sa part une valeur angulaire. Ces composantes
peuvent eˆtre interpre´te´es de la manie`re suivante : la teinte repre´sente la couleur perc¸ue
(rouge, jaune, vert, etc.) ; la saturation mesure la purete´ de la couleur (par exemple
pour une teinte rouge, le rose se caracte´rise par une saturation plus faible que le rouge,
tandis que le noir, le blanc, et le gris sont caracte´rise´s par une saturation nulle) ; la
luminance repre´sente le niveau de gris, de ”sombre” pour une valeur faible a` ”clair”
pour une valeur e´leve´e. L’espace TSL fournit, au travers de ses 3 composantes, des
informations comple´mentaires. Il a l’avantage de permettre l’e´laboration de me´thodes
robustes aux changements d’illumination. En effet, ces artefacts affectent principa-
lement la composante de luminance. En ne tenant compte que des composantes de
chrominance (teinte et saturation), il est donc possible de diminuer la sensibilite´ aux
changements d’illumination. Nous avons e´galement observe´ que la teinte e´tait une com-
posante plus robuste que la saturation ou la luminance dans un cadre multire´solution,
ou` les donne´es peuvent eˆtre analyse´es a` une e´chelle plus ou moins fine. En effet, la
teinte est moins sensible aux artefacts dus a` des moyennages successifs des valeurs des
pixels, ne´cessaires dans le cas d’une repre´sentation multire´solution pyramidale. Nous
avons ainsi observe´ une inde´pendance vis-a`-vis de la re´solution de certaines mesures
calcule´es sur les teintes (comme la plage de valeur ou l’e´cart-type).
La teinte est donc une composante inte´ressante, invariante aux changements d’illu-
mination et aux cadres multire´solutions. Cependant elle doit eˆtre analyse´e avec pre´cau-
tion. En effet, sa fiabilite´ de´pend du niveau de saturation et la teinte n’est significative
que si la saturation est e´leve´e. Les me´thodes d’analyse base´es sur la teinte des pixels
doivent donc ve´rifier que ceux-ci ne sont pas achromatiques. Une autre contrainte de la
teinte provient de sa nature mathe´matique (mesure angulaire) qui ne´cessite l’utilisation
de mesures statistiques spe´cifiques. Ainsi, lorsqu’on cherche a` mesurer la similarite´ entre
deux valeurs, on est logiquement amene´ a` calculer la diffe´rence absolue entre ces deux
valeurs. Dans le cas de valeurs angulaires, la transposition est relativement triviale :
|θi − θj |∠ = min (|θi − θj | , 2pi − |θi − θj |) (1)
en notant |θi − θj |∠ la diffe´rence absolue de deux valeurs angulaires θi et θj . En cas
de fusion ou de combinaison d’informations, la moyenne est fre´quemment utilise´e en
- 250 -RNTI-E-5
Lefe`vre et al.
analyse d’images. Nous avons choisi d’utiliser la de´finition donne´e dans (Mardia et Jupp
2000) pour le calcul de la moyenne θ¯ d’un ensemble de mesures d’angles {θi}i∈[1,Θ] :
θ¯ =
{
ω si
∑Θ
i=1 cos(θi) ≥ 0,
ω + pi sinon
avec ω = Arctan
(∑Θ
i=1 sin(θi)∑Θ
i=1 cos(θi)
)
(2)
Dans (Mardia et Jupp 2000) est donne´ e´galement un algorithme permettant le calcul
de l’amplitude de variation de l’ensemble {θi}i∈[1,Θ]. Cette me´thode ne´cessite un tri
croissant pre´alable de tous les angles conside´re´s, et est donc caracte´rise´e par une com-
plexite´ algorithmique relativement e´leve´e. Nous proposons ici une me´thode applicable
dans le cas ou` l’angle moyen θ¯ a de´ja` e´te´ calcule´. Cette me´thode ne´cessite, en plus
de la moyenne, la connaissance des angles minimum et maximum dans l’intervalle de
longueur 2pi choisi, respectivement note´s θmin et θmax. Si la moyenne appartient a` l’in-
tervalle limite´ par les deux angles, c’est-a`-dire si θmin ≤ θ¯ ≤ θmax, alors l’amplitude
de variation est e´gale a` θmax− θmin. Dans le cas contraire, l’angle comple´mentaire doit
eˆtre conside´re´ et l’amplitude de variation est e´gale a` 2pi − (θmax − θmin).
Nous avons de´crit ici l’espace TSL et introduit des mesures relatives aux valeurs
angulaires. En se basant sur cet espace, nous allons maintenant de´crire deux me´thodes
d’extraction d’indices spatiaux et temporels.
3 Extraction d’indices spatiaux
Au sein des trames d’une se´quence vide´o, il est possible d’extraire diffe´rents types
d’indices spatiaux au cours d’un processus de fouille de donne´es. Nous avons choisi de
conside´rer comme indices les re´gions (position, taille, etc) appartenant soit a` des objets
soit a` l’arrie`re-plan de la sce`ne. Ce choix nous semble opportun dans la mesure ou` la
se´paration fond/objets est cruciale dans de nombreuses applications, telles que le suivi
d’objet, l’interpre´tation du contenu des images et des se´quences d’images, ou encore
la compression. En effet, la norme de compression MPEG-4 de´crit une sce`ne par les
diffe´rents objets qui la composent et par son arrie`re-plan (Haskell et al. 1998).
Afin d’extraire des indices relatifs aux objets ou a` l’arrie`re-plan d’une sce`ne, il est
ne´cessaire de disposer de plusieurs images et de les comparer : ainsi, les objets sont
de´limite´s par les zones de l’image dont le contenu a e´volue´ au cours du temps. Si une
image de re´fe´rence (sans objet) est disponible, les objets correspondent aux zones de
l’image analyse´e qui diffe´rent de l’image de re´fe´rence. Ce principe n’est malheureuse-
ment valable que si la came´ra est statique. Dans le cas d’une came´ra mobile, une e´tape
couˆteuse d’estimation/compensation de mouvement est ne´cessaire : le temps de calcul
du processus de fouille croˆıt alors conside´rablement. Nous pre´sentons ici une me´thode
d’extraction d’indices spatiaux relatifs aux e´le´ments d’une sce`ne (objets et arrie`re-plan)
qui ne requiert pas d’information de mouvement, pouvant eˆtre applique´e sur chaque
image de manie`re inde´pendante. Notre me´thode est adapte´e aux sce`nes ou` l’arrie`re-
plan occupe une partie du champ de vision plus importante que les objets (statiques
ou en mouvement). Elle est base´e sur le constat suivant : au fur et a` mesure que la
re´solution d’une image diminue, les de´tails disparaˆıssent et le contenu de l’image tend a`
repre´senter exclusivement l’arrie`re-plan au de´triment des objets pre´sents dans la sce`ne.
- 251 - RNTI-E-5
Extraction d’indices spatiaux et temporels dans des se´quences vide´o couleur
Cette re´flexion nous ame`ne a` proposer une approche multire´solution : en conside´rant
une image originale I0, il est possible de diminuer fortement sa re´solution pour obtenir
une image a` tre`s faible re´solution Irmax . Aucun objet n’est plus perceptible dans cette
image qui n’est compose´e que de l’arrie`re-plan. Un mode`le du fond peut donc eˆtre
calcule´ a` partir de cette image. En augmentant la re´solution r de manie`re ite´rative,
il est alors possible de comparer les diffe´rentes re´gions de l’image Ir avec le mode`le
de l’arrie`re-plan suivant un crite`re donne´. Cette comparaison permet de de´terminer si
chaque re´gion correspond ou non a` l’arrie`re-plan. De plus, le principe de multire´solution
permet d’analyser des donne´es a` un degre´ de pre´cision plus ou moins fin selon le
re´sultat attendu. Une analyse multire´solution a aussi ge´ne´ralement l’avantage de li-
miter le nombre de calculs ne´cessaires par rapport a` son homologue monore´solution.
L’inconve´nient principal est lie´ a` la difficulte´ du choix des re´solutions initiale et finale de
l’analyse. Le traitement de´crit pre´ce´demment s’effectue donc en quatre e´tapes succes-
sives : cre´ation de la repre´sentation multire´solution, estimation du mode`le de l’arrie`re-
plan, segmentation ite´rative aux diffe´rentes re´solutions, et enfin segmentation finale et
obtention des indices relatifs aux objets et a` l’arrie`re-plan. La premie`re e´tape consiste
en la cre´ation de la repre´sentation multire´solution de l’image, par de´composition py-
ramidale, ou` la valeur d’un pixel P (x, y) a` la re´solution r + 1 est calcule´e comme la
moyenne d’un ensemble de p2 pixels a` la re´solution r. La taille de l’image de´pend
alors de la re´solution. La moyenne a e´te´ pre´fe´re´e a` d’autres mesures ne´cessitant des
calculs plus importants, comme par exemple la valeur me´diane. Le calcul est effectue´
ite´rativement, a` partir de la re´solution originale r = 0, et jusqu’a` obtenir la re´solution
voulue r = rmax. Il est alors possible de mode´liser l’arrie`re-plan a` l’aide de l’image Irmax ,
sommet de la pyramide. Cette conside´ration n’est bien suˆr valable que si l’arrie`re-plan
occupe une partie importante de l’image, s’il diffe`re suffisamment des objets pre´sents
dans la sce`ne, et s’il est assez homoge`ne. Afin de garantir une faible complexite´ tout en
assurant une robustesse aux changements d’illumination, nous avons de´cide´ d’utiliser
comme mode`le la moyenne des teintes d’une re´gion, puisque la teinte nous semblait une
composante relativement robuste aux moyennages successifs ne´cessaires pour construire
la repre´sentation multire´solution de l’image. Le mode`le de l’image I est note´ ϕ(I) et
l’arrie`re-plan sera donc caracte´rise´ par ϕ (Irmax). Ce choix requiert la validite´ de deux
hypothe`ses : il est ne´cessaire que les pixels ne soient pas achromatiques (saturation
non nulle) pour que la valeur de leur teinte soit fiable, et l’arrie`re-plan doit eˆtre de
couleur (ou plutoˆt de teinte) homoge`ne. La caracte´risation de chaque re´gion (et donc
la ge´ne´ration des indices correspondants) peut ensuite eˆtre effectue´e et ame´liore´e de
manie`re ite´rative (a` la manie`re d’un quadtree incomplet) depuis la re´solution rmax − 1
jusqu’a` la re´solution initiale r = 0, base de la pyramide. A une re´solution donne´e r′
avec rmax > r′ > 0, l’image Ir′ doit eˆtre analyse´e. Cette image est comparable a` l’image
initiale I0 qui aurait e´te´ de´coupe´e en K = (K0)rmax−r
′
re´gions, avec K0 une constante
dont la valeur pourrait eˆtre en toute logique e´gale a` p2. Chacune de ces re´gions est
alors compare´e avec le mode`le de l’arrie`re-plan. Cet appariement entre deux re´gions
Im et In s’effectue en calculant sur les moyennes respectives des teintes la mesure de
similarite´ δ(ϕ(Im), ϕ(In)) = |ϕ(Im) − ϕ(In)|∠. Une fois cette mesure δ calcule´e entre
le mode`le d’une re´gion donne´e et le mode`le de l’arrie`re-plan, elle est compare´e a` un
seuil S1 afin d’effectuer ou non la reconnaissance. Une valeur infe´rieure au seuil signifie
- 252 -RNTI-E-5
Lefe`vre et al.
que la re´gion est conside´re´e appartenir a` l’arrie`re-plan. Cependant, un second test est
ne´cessaire pour ve´rifier la cohe´rence de la re´gion e´tudie´e et e´viter les artefacts lie´s a`
l’utilisation de la moyenne. En effet, si une re´gion est compose´e de deux pixels ayant des
teintes oppose´es, la moyenne ne refle´tera pas correctement le contenu de la re´gion. Nous
analysons donc la cohe´rence de chaque re´gion apparie´e avec l’arrie`re-plan. Nous avons
pre´fe´re´ l’amplitude de variation a` d’autres mesures de dispersion telles que la variance
pour e´valuer ici la cohe´rence d’une re´gion : plus la plage de valeurs d’une re´gion est
faible, plus celle-ci est homoge`ne. Pour calculer cette plage de valeurs angulaires, nous
n’utilisons pas la me´thode donne´e dans (Mardia et Jupp 2000) mais l’approche originale
pre´sente´e pre´ce´demment. Une fois la plage de valeurs calcule´e pour une re´gion Ikr , nous
comparons cette mesure de dispersion avec un second seuil S2. Une plage infe´rieure
au seuil assure l’homoge´ne´ite´ de la re´gion concerne´e. Celle-ci est alors e´tiquete´e en
fond ou arrie`re-plan. Dans le cas contraire, l’he´te´roge´ne´ite´ de la re´gion candidate a`
l’e´tiquetage implique son rejet. Si une re´gion fournit une re´ponse positive a` ces deux
tests sucessifs, elle est affecte´e a` l’arrie`re-plan. Dans ce cas la re´gion n’est plus analyse´e
a` de meilleures re´solutions. A l’oppose´, une re´gion sans e´tiquette sera analyse´e plus en
de´tail a` la re´solution r′ − 1. Cette segmentation est effectue´e si ne´cessaire jusqu’a` la
re´solution initiale r = 0. Dans le cas d’applications ne´cessitant une segmentation et
des indices tre`s pre´cis, les re´gions correspondant aux objets peuvent eˆtre analyse´es par
la suite afin d’affiner les contours des objets. Au contraire, si la pre´cision des contours
des objets n’est pas ne´cessaire, le processus peut eˆtre arreˆte´ a` une re´solution rfinal
avec rmax > rfinal ≥ 0. Dans ce cas, nous conside´rons que les re´gions sans e´tiquette
repre´sentent les objets. Afin d’ame´liorer la qualite´ du mode`le de l’arrie`re-plan, il est
e´galement possible de recalculer celui-ci au cours du processus de segmentation. Dans
ce cas, le mode`le obtenu a` la re´solution rmax ne repre´sente que l’e´tat initial de l’arrie`re-
plan. A mesure que la re´solution devient plus fine, les re´sultats sont plus pre´cis, et il
est possible d’obtenir un mode`le de l’arrie`re-plan plus fiable en ne conside´rant que les
parties de l’image de´ja` e´tiquete´es comme appartenant au fond.
L’espace TSL, utilise´ ici dans un cadre multire´solution pour extraire des indices
spatiaux, peut e´galement eˆtre employe´ pour fournir des indices temporels.
4 Extraction d’indices temporels
Apre`s avoir montre´ comment les se´quences vide´o couleur pouvaient eˆtre analyse´es
dans l’espace TSL pour fournir des indices de nature spatiale, nous allons e´tudier main-
tenant l’extraction d’indices temporels. Plus pre´cise´ment, les indices que nous cherchons
a` extraire sont les frontie`res des diffe´rents plans de la se´quence (ou changements de
plans). Nous rappelerons brie´vement les diffe´rents types de transitions et pre´senterons
ensuite notre approche en de´taillant le pre´traitement des donne´es, la de´finition de la
mesure de distance utilise´e, et enfin la solution globale propose´e.
Un plan est de´fini comme une suite d’images issues d’une acquisition continue d’une
came´ra donne´e. Ainsi, toutes les images d’un plan ont e´te´ acquises avec la meˆme came´ra.
Le plan est souvent l’unite´ temporelle la plus petite pour une se´quence vide´o si l’on
ne prend pas en compte l’image pour laquelle la notion de temps a disparu. Chaque
plan est se´pare´ du pre´ce´dent et du suivant par une transition, qui peut eˆtre brusque ou
- 253 - RNTI-E-5
Extraction d’indices spatiaux et temporels dans des se´quences vide´o couleur
progressive. Lors d’une transition brusque (appele´e cut), la dernie`re image du premier
plan est directement suivie par la premie`re image du second plan. Dans le cas ou`
les deux plans sont connecte´s en utilisant un effet particulier, on parle de transition
progressive : fondu, volet, etc. On distingue le fondu du noir vers un plan, d’un plan
vers le noir, ou d’un plan vers un autre plan. Au cours d’un fondu, le niveau de chaque
pixel des images interme´diaires (appartenant a` la transition progressive) est calcule´ en
fonction des niveaux des pixels de la dernie`re image du premier plan et de la premie`re
image du second plan. La proportion varie au cours de la transition de 0 a` 1 pour la
premie`re image du second plan et de 1 a` 0 pour la dernie`re image du premier plan. Lors
d’un volet, chaque pixel des images interme´diaires a un niveau e´gal a` celui du pixel de
meˆmes coordonne´es spatiales soit dans la dernie`re image du premier plan soit dans la
premie`re image du second plan. Les images appartenant a` un volet vont donc contenir
de plus en plus de pixels extraits de la premie`re image du second plan et de moins en
moins de pixels extraits de la dernie`re image du premier plan. La plupart des me´thodes
propose´es pour re´soudre le proble`me e´tudie´ ici fonctionnent en deux e´tapes : le calcul
d’une mesure de dissimilarite´ entre deux trames successives d’une se´quence vide´o, puis
la comparaison de la valeur obtenue avec un seuil, afin de de´terminer ou non la pre´sence
d’un changement de plans. Suivant ce principe, la de´tection d’un changement de plans
est effective si la condition d(It, It−1) > S est respecte´e. Dans cette section, nous
adoptons les notations It pour repre´senter l’image de la se´quence vide´o obtenue a`
l’instant t, d une distance, et S un seuil. On trouvera dans (Lefe`vre et al. 2003) un
panoramas approfondi des me´thodes adapte´es aux donne´es non-compresse´es.
Afin de garantir un temps de calcul relativement faible et d’assurer une certaine
robustesse au bruit, nous proposons d’introduire un pre´traitement des donne´es. Celui-
ci consistera a` diminuer la re´solution spatiale et sera obtenu par l’approche mul-
tire´solution de´crite dans la section pre´ce´dente, en conside´rant des blocs de 8× 8 pixels
(choix qui nous permet de traiter e´galement des donne´es compresse´es JPEG ou MPEG a`
l’aide des coefficents DC). De manie`re a` accroˆıtre la robustesse aux changements d’illu-
mination et a` re´duire les temps de calcul, nous avons choisi de limiter la repre´sentation
des pixels a` un espace de dimension 2 compose´ de la teinte et de la saturation. Pour
toutes les sce`nes d’exte´rieur qui sont fre´quentes dans les se´quences vide´o, on peut noter
une ame´lioration par rapport a` l’usage de l’espace RVB. Comme (Carron 1995), nous
mesurons la diffe´rence entre deux images dans le sous-espace TS. Cette diffe´rence est
obtenue par la distance d de´finie comme :
dk(It1 , It2) =
X∑
x=1
Y∑
y=1
It1(x, y)ª It2(x, y) (3)
avec ª un ope´rateur alge´brique utilise´ pour comparer deux pixels et de´fini par :
It1(x, y)ª It2(x, y) = αT,S(It1(x, y, T )− It2(x, y, T )) (mod 2pi)
+ (1− αT,S) |It1(x, y, S)− It2(x, y, S)|
(4)
ou` αT,S est un coefficient permettant de donner plus ou moins d’influence aux com-
posantes T et S. En effet, dans le cas de pixels achromatiques, il est important de
ne pas donner d’importance a` la composante T qui n’est alors pas fiable. La me-
sure de distance d, quoique relativement simple, permet d’estimer correctement la
- 254 -RNTI-E-5
Lefe`vre et al.
diffe´rence entre deux images en assurant une invariance a` l’illumination. L’utilisation
d’une mesure de distance plus complexe pourrait apporter une quantite´ d’information
supple´mentaire mais engendrerait e´galement un surcouˆt en terme de temps de calcul.
Cependant, l’utilisation directe de cette mesure de dissimilarite´ entre deux images suc-
cessives ne´cessiterait la comparaison a` un seuil S. Le seuil utilise´ doit souvent eˆtre fixe´
de manie`re empirique, et de´pend du domaine vide´o e´tudie´ (sport, bulletin d’informa-
tions, etc.) ou du type de plans pre´sents dans la se´quence. Ainsi, un plan e´loigne´, ou`
les objets en mouvement sont petits, sera caracte´rise´ par une valeur d relativement
faible tandis qu’un plan proche ou serre´, ou` les objets en mouvement occupent une
portion importante de l’image, sera caracte´rise´ par une valeur d plus e´leve´e. Le seuil
S devra donc eˆtre ajuste´ en conse´quence afin d’e´viter les fausses de´tections ou l’ab-
sence de de´tection. Comme certaines se´quences vide´o, notamment les retransmissions
te´le´vise´es d’e´ve´nements sportifs, contiennent des plans e´loigne´s et des plans proches, il
est ne´cessaire d’utiliser une me´thode plus ge´ne´rale qui puisse s’adapter a` ces diffe´rents
types de plans. Nous proposons donc d’introduire un seuil adaptatif, note´ Sd, qui
de´pend du temps. La valeur du seuil est mise a` jour pour chaque nouvelle image de la
se´quence, soit Sd(t) = αSdSd(t− 1) + (1−αSd)d(It, It−1) ou` Sd(t) repre´sente la valeur
du seuil Sd a` l’instant t. De cette fac¸on, il s’adapte automatiquement avec une certaine
inertie (repre´sente´e par le coefficient αSd) au contenu de la vide´o e´tudie´e, sa valeur
e´tant modifie´e en fonction des valeurs de d(It, It−1). Les mesures de pre´cision et de
rappel de´pendront e´videmment de αSd . L’utilisation directe d’une mesure d entre deux
images successives est tre`s sensible au bruit et au mouvement pre´sent dans la se´quence
e´tudie´e. L’introduction d’un seuil adaptatif permet de limiter cette sensibilite´ dans
une certaine mesure, mais e´videmment pas dans sa totalite´. Nous proposons donc de
conside´rer une mesure relative et non une mesure absolue. Cette mesure relative, note´e
d′, permet d’accroˆıtre la robustesse au bruit et aux mouvements importants pre´sents
dans la se´quence, et est de´finie par d′(It) = |d(It, It−1)− d(It−1, It−2)|. Contrairement
a` la mesure d, la mesure d′ est de´finie de manie`re relative et son ordre de grandeur
de´pend donc moins du type de plan ou de vide´o e´tudie´. Afin de de´tecter un changement
de plans, cette mesure peut donc eˆtre compare´e a` un seuil Sd′ fixe´ empiriquement au
de´but de la se´quence. La valeur de Sd′ pourra e´voluer en fonction du type de vide´o ou
de plan analyse´.
Comme il a e´te´ pre´cise´ pre´ce´demment, un changement de plans peut eˆtre brusque
ou progressif. En conside´rant une transition progressive comme une transition brusque
dont les effets sont e´tale´s sur plusieurs images, nous proposons ici une approche per-
mettant de de´tecter les transitions brusques ou progressives de manie`re relativement
similaire. Pour de´tecter un changement brusque, nous comparons directement la valeur
d′ avec un seuil Sd′ . En effet, si la valeur de d′ est e´leve´e, c’est-a`-dire si la diffe´rence
absolue entre d(It, It−1) et d(It−1, It−2) est significative, alors l’e´volution du contenu de
la se´quence entre les images It−2 et It−1 n’est pas cohe´rente avec celle observe´e entre les
images It−1 et It. Un changement brusque existe donc a` l’instant t− 1. Si aucun chan-
gement brusque n’a e´te´ de´tecte´, il est encore possible de se trouver en pre´sence d’une
transition progressive. La valeur d′ ne peut eˆtre utilise´e directement dans le cas d’une
transition progressive puisqu’elle ne refle`te l’e´volution de la mesure de distance d qu’a`
un instant donne´. Il est donc ne´cessaire de cumuler les valeurs d′ obtenues pour toutes
- 255 - RNTI-E-5
Extraction d’indices spatiaux et temporels dans des se´quences vide´o couleur
les trames composant une transition progressive afin d’obtenir une mesure qui sera du
meˆme ordre de grandeur que la valeur du seuil conside´re´ dans le cas d’une transition
brusque. La de´tection des transitions progressives s’effectue en deux e´tapes successives.
La premie`re e´tape consiste en la de´tection des trames susceptibles d’eˆtre les frontie`res
d’une transition progressive. Pour de´tecter celles-ci, nous analysons l’e´volution de la
mesure de distance d et nous comparons a` chaque instant t la valeur d(It, It−1) avec
le seuil adaptatif Sd(t) de´fini pre´ce´demment. L’utilisation de ce seuil adaptatif nous
permet de ge´rer tout type de situation (plan proche ou e´loigne´, mouvement impor-
tant ou pas, etc). Si la condition d(It1 , It1−1) > Sd(t1) est ve´rifie´e, alors il est possible
qu’une transition soit pre´sente dans la se´quence a` partir de l’instant t1. L’instant t2
de fin de cette transition correspondrait a` la premie`re trame ve´rifiant la condition
d(It2 , It2−1) < Sd(t2) avec t2 > t1. Une fois les frontie`res t1 et t2 d’une possible tran-
sition de´termine´es, il est ne´cessaire d’analyser les trames t de cet intervalle de temps.
Pour cela, nous calculons la valeur cumule´e de d′ sur l’ensemble des trames [t1, t2] note´e
d′cumul(t1, t2), soit d
′
cumul(t1, t2) =
∑t2
t=t1
d′(It). La comparaison de d′cumul(t1, t2) avec le
seuil Sd′ permet alors de valider ou non la pre´sence d’un changement entre les trames
It1 et It2 .
Les deux me´thodes pre´sente´es ici ont e´te´ teste´es dans le contexte de l’analyse de
se´quences vide´o de football. Les re´sultats obtenus vont maintenant eˆtre pre´sente´s.
5 Re´sultats
Nous commentons ici les re´sultats obtenus avec les deux me´thodes propose´es, et
validant l’inte´reˆt de l’espace TSL et les capacite´s de nos me´thodes a` extraire des indices
pertinents. Le contexte conside´re´ est celui de l’analyse temps-re´el de se´quences vide´o
de match de football, repre´sentant des sce`nes d’exterieur d’illumination variable. Les
temps de calcul ont e´te´ mesure´s a` l’aide d’un PC Pentium 4 1.7 GHz.
La me´thode d’extraction des indices spatiaux consiste a` se´parer les objets et le fond.
Dans le contexte propose´, l’objectif est d’identifier les joueurs par rapport au terrain de
football. Une e´tude des re´sultats obtenus sur diffe´rentes images (ou` les tailles des objets
varient conside´rablement) nous a permis d’observer que les objets sont correctement
de´tecte´s, inde´pendamment de l’aire qu’ils occupent dans l’image. Les temps de calcul
observe´s de´pendent de la taille de l’image (30 millisecondes sont ne´cessaires pour traiter
une image de taille 192× 128 pixels). Le processus de segmentation est ite´ratif, comme
l’illustre la figure 1. Le choix de la re´solution finale rfinal influe directement sur la
pre´cision du re´sultat. Cependant, meˆme en conside´rant une re´solution finale similaire a`
la re´solution originale (i.e. rfinal = 0), les contours des objets de´tecte´s resteront grossiers
et paralle`les aux coˆte´s de l’image. Cependant, ce re´sultat peut eˆtre suffisant dans de
nombreux cas. Nous avons e´galement observe´ que l’utilisation de la teinte fournit un
re´sultat de meilleure qualite´ que l’espace RVB. Aucune des composantes R, V ou B
ne contient l’information suffisante pour atteindre des re´sultats aussi pre´cis qu’avec
la teinte (l’information pertinente e´tant disperse´e dans les trois canaux de base). De
plus, nous avons e´value´ la robustesse de la composante couleur utilise´e au re´glage des
parame`tres. La` encore, la teinte fournit les re´sultats les plus inte´ressants et les plus
robustes. Les principales limites de la me´thode propose´e ont e´te´ identifie´es a priori :
- 256 -RNTI-E-5
Lefe`vre et al.
Fig. 1 – Image et re´sultat obtenu a` diffe´rentes re´solutions.
les pixels ne doivent pas eˆtre achromatiques (puisque seule la teinte est utilise´e dans le
processus de segmentation), et l’arrie`re-plan doit eˆtre relativement uniforme (puisqu’il
est mode´lise´ ensuite par une moyenne).
La me´thode d’extraction des indices temporels de´bute par une e´tape de re´duction
qui fournit des images de 20 × 15 pixels. Le temps de calcul alors ne´cessaire est e´gal
a` 4 millisecondes par image. Nous avons e´tudie´ l’e´volution des mesures d, d′, et d′cumul
pour des se´quences vide´o contenant diffe´rents types de transition et avons constate´ que
le contraste des valeurs au niveau des extremums locaux est beaucoup plus marque´
dans l’espace TSL que dans l’espace RVB. Ce choix d’espace assure donc a` la me´thode
propose´e une plus grande robustesse et confirme notre hypothe`se the´orique de de´part.
La qualite´ d’une me´thode de de´tection de changements de plans peut eˆtre e´value´e graˆce
aux mesures de rappel et de pre´cision, tenant compte respectivement des de´tections
manque´es et des fausses de´tections. Des tests effectue´s sur une vingtaine de se´quences,
chacune compose´e de 500 images et contenant entre un et trois changements de plans
(brusques ou progressifs), ont permis d’obtenir des mesures de rappel et de pre´cision
respectivement e´gales a` 80 % (100 % dans le cas de cuts) et 100 %. Un ensemble de
tests nous a permis de ve´rifier expe´rimentalement que les re´sultats obtenus avec cette
me´thode e´taient meilleurs que ceux obtenus avec d’autres me´thodes de la litte´rature. La
principale limite de l’approche propose´e ici est sa sensibilite´ au mouvement pre´sent dans
la se´quence. Ce mouvement apparent peut eˆtre provoque´ par une acce´leration brusque
de la came´ra ou par le mouvement d’un objet occupant quasiment toute l’image dans
un plan rapproche´.
6 Conclusion
De nos jours, les donne´es complexes telles que les se´quences vide´o couleur sont la
plupart du temps repre´sente´es dans l’espace Rouge Vert Bleu pre´vu pour l’affichage des
images a` l’e´cran. Nous avons montre´ ici comment un autre espace de repre´sentation de
la couleur, l’espace Teinte Saturation Luminance, pouvait apporter une ame´lioration
en analyse d’images dans l’optique d’un processus de fouille. Pour cela nous avons
cherche´ a` extraire deux types d’indices, spatiaux et temporels, a` l’aide de l’espace TSL.
Tandis que l’extraction des indices spatiaux ne ne´cessite qu’une seule image graˆce a` un
cadre d’analyse multire´solution, l’obtention des indices temporels utilise une me´thode
- 257 - RNTI-E-5
Extraction d’indices spatiaux et temporels dans des se´quences vide´o couleur
s’adaptant au contenu, notamment par l’usage d’une mesure de distance intertrames
diffe´rentielle. Notre contribution a donc porte´ sur ces trois aspects : caracte´ristiques et
calculs dans l’espace TSL, extraction d’indices spatiaux par se´paration des objets et
du fond, extraction d’indices temporels par de´tection des changements de plans.
Outre la validation de nos approches par leur inte´gration a` un processus de fouille,
les perspectives des travaux pre´sente´s ici sont d’une part l’approfondissement des
re´sultats pre´sente´s, en continuant d’identifier les caracte´ristiques de l’espace TSL et
de proposer des modes de calcul approprie´s a` cet espace, et d’autre part l’atte´nuation
des limites des me´thodes propose´es (meilleure prise en compte des donne´es achroma-
tiques, conside´ration de sce`nes au contenu plus complexe).
Re´fe´rences
Carron T. (1995), Segmentations d’images couleur dans la base Teinte-Luminance-
Saturation : approche nume´rique et symbolique, The`se de Doctorat, Universite´ de
Savoie.
Chang H., Jiang X., Sun Y., et Wang J. (2001), Color image segmentation : Advances
and prospects, Pattern Recognition, Vol. 34, pp. 2259-2281.
Haskell B. et al. (1998), Image and video coding : emerging standards and beyond,
IEEE Transactions on Circuits and Systems for Video Technology, Vol. 8, pp. 814-
837.
Lefe`vre S., Holler. J, et Vincent N. (2003), A study of real-time segmentation of
uncompressed video sequences for content-based search and retrieval, Real-Time
Imaging, Vol. 9, pp. 73-98.
Mardia K. et Jupp P. (2000), Directional Statistics, Wiley & Sons Ltd.
Tre´meau A., Fernandez-Maloigne C., et Bonton P. (2004), Imagerie Nume´rique Cou-
leur, Dunod.
Summary
In this paper, we consider colour video sequences as complex data. Our contribution
consists in two methods which are adapted to this kind of data and able to extract some
spatial and temporal descriptors. We think these methods can be successfully involved
in a more complex process of multimedia data mining, the description of which is
out of focus of this paper. The methods we are presented here are based on the Hue
Saturation Luminance colour space. The extraction of spatial features is related to
the problem of separation between background and foreground parts, solved using a
multiresolution approach based on a single frame. The extraction of temporal features
is related to the detection of shot changes in video sequences, obtained with the use of
context-independent distances measures. Both methods share some common features :
use of the HSL colour space, computational effiency, and robustness to artefacts. We
illustrate our two methods with some results obtained on sport video sequences.
- 258 -RNTI-E-5
