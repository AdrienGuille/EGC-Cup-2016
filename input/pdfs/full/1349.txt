HYPE : Prise en compte des hi√©rarchies lors de l‚Äôextraction
de motifs s√©quentiels multidimensionnels
Marc Plantevit, Anne Laurent, Maguelonne Teisseire
LIRMM, Universit√© Montpellier 2, CNRS, 161 Rue Ada 34392 Montpellier, France
nom.prenom@lirmm.fr
http://www.lirmm.fr/ pÀúlantevi
http://www.lirmm.fr/ lÀúaurent
http://www.lirmm.fr/ tÀúeisseir
R√©sum√©. Les entrep√¥ts de donn√©es contiennent de grosses masses de donn√©es
historis√©es stock√©es √† des fins d‚Äôanalyse. Si les m√©thodes et outils d‚Äôanalyse sont
maintenant bien connus (OLAP), il reste difficile de fournir aux utilisateurs des
outils de fouille de donn√©es permettant la prise en compte des sp√©cificit√©s de ces
contextes (e.g. multidimensionnalit√©, hi√©rarchies, donn√©es historis√©es). Dans cet
article, nous proposons une m√©thode originale d‚Äôextraction de motifs s√©quentiels
prenant en compte les hi√©rarchies. Cette m√©thode extrait des connaissances plus
pr√©cises et √©tend notre approche pr√©c√©denteM2SP. Nous d√©finissons les concepts
li√©s √† notre probl√©matique ainsi que les algorithmes associ√©s. Les exp√©rimenta-
tions que nous avons men√©s montrent l‚Äôint√©r√™t de notre proposition.
1 Introduction
La technologie OLAP et la fouille de donn√©es ne sont pas incompatibles (Han (1997)). Les
techniques d‚Äôextraction de connaissances peuvent apporter une aide non n√©gligeable dans le
contexte OLAP o√π l‚Äôutilisateur doit d√©sormais prendre les d√©cisions les mieux adapt√©es en un
minimum de temps. De fa√ßon plus pr√©cise, la fouille de donn√©es constitue une √©tape clef dans
le processus de d√©cision face √† de gros volumes de donn√©es multidimensionnelles. En effet, les
motifs ou r√®gles obtenues permettent une autre appr√©hension des donn√©es sources. Cependant
leur d√©couverte n√©cessite certains param√®tres dont en particulier le support minimal. Celui-ci
correspond √† la fr√©quence minimale d‚Äôapparition des motifs au sein de la base consid√©r√©e. Si
le support minimal choisi est trop √©lev√©, le nombre de r√®gles d√©couvertes est faible mais si le
support est trop bas, le nombre de r√®gles obtenues est tr√®s important et rend difficile l‚Äôanalyse
de celles-ci. Le d√©cideur est alors confront√© au probl√®me suivant : comment baisser le support
minimal sans g√©n√©rer la d√©couverte de r√®gles non pertinentes ? Ou comment augmenter le sup-
port minimal sans perdre les r√®gles utiles ? Est-il alors n√©cessaire de faire un compromis entre
qualit√© des connaissances extraites et support ?
L‚Äôutilisation des hi√©rarchies dans l‚Äôextraction de connaissances repr√©sente un excellent
moyen de r√©soudre ce dilemme. Elle permet de d√©couvrir des r√®gles au sein de plusieurs ni-
veaux de hi√©rarchies. Ainsi, m√™me si un support √©lev√© est utilis√©, les connaissances importantes
- 155 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
dont le support est faible dans les donn√©es sources peuvent √™tre incluses dans des connais-
sances plus g√©n√©rales qui, elles, seront comptabilis√©es comme fr√©quentes. Nous souhaitons
ainsi √©tendre notre proposition pr√©c√©dente de recherche de motifs s√©quentiels multidimension-
nels (Plantevit et al. (2005)) par la prise en compte des hi√©rarchies.
L‚Äôextraction de motifs s√©quentiels est devenue depuis son introduction par Agrawal et Sri-
kant (1995), une technique majeure du domaine de l‚Äôextraction de connaissances. Ils sont ainsi
apparus afin de permettre la d√©couverte de connaissances int√©grant la notion de temporalit√© et
s√©quentialit√©. Ils permettent de mettre en exergue des corr√©lations entre √©v√®nements en fonction
de leur chronologie d‚Äôapparition. M√™me si quelques approches permettent la prise en compte
des hi√©rarchies dans l‚Äôextraction de motifs s√©quentiels, il n‚Äôexiste pas, √† notre connaissance,
de travaux conciliant extraction de motifs s√©quentiels multidimensionnels et prise en compte
des hi√©rarchies. Aucune m√©thode actuelle ne peut extraire des connaissances du type : Quand
les ventes de boissons gazeuses augmentent en Europe, les exportations de perrier augmentent
en France et les exportations de soda augmentent aux USA o√π diff√©rents niveaux de hi√©rar-
chies sont pr√©sents dans la s√©quence multidimensionnelle. Nous proposons donc une approche
originale HYPE , extension de notre proposition M2SP (Plantevit et al. (2005)), permettant
d‚Äôextraire de telles r√®gles. L‚Äôoriginalit√© de notre approche r√©side dans l‚Äôid√©e qu‚Äôon ne fixe pas
un unique niveau de hi√©rarchie mais que les motifs s√©quentiels extraits sont automatiquement
associ√©s aux niveaux les plus ad√©quats.
Dans cet article, nous introduisons les concepts associ√©s aux motifs s√©quentiels classiques
et multidimensionnels ainsi que les approches s‚Äôattachant √† la prise en compte des hi√©rarchies
lors de l‚Äôextraction de connaissances. Nous pr√©sentons ensuite les concepts fondamentaux re-
latifs √† notre approche HYPE ainsi que les algorithmes permettant sa mise en ≈ìuvre. Des
exp√©rimentations effectu√©es sur des donn√©es synth√©tiques sont report√©es et confirment l‚Äôinter√™t
de notre approche. Nous montrons aussi que la prise en compte des hi√©rarchies permet une
gestion plus fine des valeurs jokers d√©finies dans l‚Äôapproche M2SP.
2 Les hi√©rarchies dans la fouille de donn√©es
Dans cette section, nous pr√©sentons les motifs s√©quentiels ainsi que les approches de la
litt√©rature ayant trait√© le probl√®me de l‚Äôextraction de motifs s√©quentiels dans un contexte mul-
tidimensionnel (plusieurs dimensions d‚Äôanalyse). Ensuite, nous soulignons pourquoi il est per-
tinent d‚Äôutiliser les hi√©rarchies lors du processus d‚Äôextraction de motifs s√©quentiels et faisons
un panorama des travaux associ√©s.
2.1 Motifs s√©quentiels
L‚Äôextraction de motifs s√©quentiels est devenue depuis son introduction par Agrawal et Sri-
kant (1995), une technique majeure du domaine de l‚Äôextraction de connaissances. Ces motifs
permettent de mettre en exergue des corr√©lations entre √©v√®nements en prenant compte de leur
chronologie d‚Äôapparition. Nous pr√©sentons ici tr√®s bri√®vement les concepts fondamentaux li√©s
aux motifs s√©quentiels. Le lecteur d√©sirant plus de d√©tails se r√©f√®rera √† Masseglia et al. (2004).
Les bases de donn√©es sur lesquelles s‚Äôappuient l‚Äôextraction de motifs s√©quentiels comportent
- 156 -
Plantevit et al.
trois donn√©es √©troitement li√©es au probl√®me du panier de la m√©nag√®re : la premi√®re repr√©sente
un identifiant (souvent appel√© client), le deuxi√®me repr√©sente une liste de valeurs (souvent
appel√©e produits), la troisi√®me repr√©sente la date √† laquelle ce client a achet√© cet ensemble
de produits. On appelle item une valeur prise par l‚Äôattribut produit. Par exemple, DVD ou
encore magnetoscope sont deux items possibles. On appelle itemset un ensemble d‚Äôitems.
Par exemple (DVD;magnetoscope) est un itemset. La base de donn√©es est donc compos√©e
d‚Äôitemsets identifi√©s par une date et un identifiant de client. On appelle s√©quence une liste
ordonn√©e (selon la date) d‚Äôitemsets. La base de donn√©es peut donc √™tre vue comme un en-
semble de s√©quences identifi√©es par le client. On appelle motif s√©quentiel une s√©quence qu‚Äôun
nombre suffisant (au sens du support) de clients partagent au sein de la base de donn√©es. √âtant
donn√©e une valeur minimale de support (sp√©cifi√©e par l‚Äôutilisateur), on dit qu‚Äôun motif s√©-
quentiel est fr√©quent si un nombre de clients sup√©rieur au seuil minimal de support ont r√©alis√©
cette s√©quence d‚Äôachats. L‚Äôenjeu des m√©thodes de fouille de donn√©es est donc l‚Äôextraction la
plus efficace possible des motifs f√©quents. Pour cela, plusieurs algorithmes existent dont PSP
Masseglia (2002) ou encore PrefixSpan Pei et al. (2004). Ces techniques sont fond√©es sur le
paradigme g√©n√©rer/√©laguer o√π des candidats sont g√©n√©r√©s puis ensuite √©lagu√©s s‚Äôils ne sont pas
fr√©quents.
Dans le contexte classique (une seule dimension d‚Äôanalyse) d‚Äôextraction de r√®gles d‚Äôasso-
ciation ou motifs s√©quentiels, il existe plusieurs travaux qui prennent en compte les hi√©rarchies
afin de permettre une extraction de connaissances plus fines.
Dans Srikant et Agrawal (1996), les pr√©misses de la gestion des hi√©rarchies dans l‚Äôextrac-
tion de r√®gles d‚Äôassociation et de motifs s√©quentiels sont propos√©es. Les auteurs supposent que
les relations hi√©rarchiques entre les items sont repr√©sent√©es par un ensemble de taxonomies
sous forme d‚Äôun graphe orient√© sans cycle. Ils permettent d‚Äôextraire des r√®gles d‚Äôassociation
ou desmotifs s√©quentiels suivant plusieurs niveaux de hi√©rarchies. Ils modifient les transactions
en ajoutant pour chaque item l‚Äôensemble de ses anc√™tres dans la taxonomie associ√©e. Ensuite,
ils g√©n√®rent les s√©quences fr√©quentes tout en essayant de filtrer au maximun l‚Äôinformation re-
dondante et en optimisant le processus √† l‚Äôaide de plusieurs propri√©t√©s. Cette approche peut √™tre
difficilement adapt√©e dans un contexte multidimensionnel. En effet, pour chaque transaction,
ajouter sur chaque dimension la liste des anc√™tres d‚Äôun item dans la taxonomie est impensable.
Cela reviendrait, dans le pire des cas, √† multiplier la taille de la base de donn√©es que l‚Äôon
souhaite √©tudier par la profondeur maximale d‚Äôune hi√©rarchie et ceci pour chaque dimension
d‚Äôanalyse, un parcours sur cette base serait alors beaucoup trop co√ªteux.
L‚Äôapproche de J. Han est sensiblement diff√©rente. Il s‚Äôest lui aussi attach√© √† prendre en
compte les hi√©rarchies dans les processus d‚Äôextraction de connaissances. Elle s‚Äôapplique √† la
probl√©matique d‚Äôextraction de r√®gles d‚Äôassociation, mais cette approche peut √™tre adapt√©e pour
l‚Äôextraction de motifs s√©quentiels. Ainsi, en partant du plus haut niveau de la hi√©rarchie, il
va extraire les r√®gles √† chaque niveau tout en abaissant le support lorsqu‚Äôil descend d‚Äôun ni-
veau dans la hi√©rarchie. Le processus est it√©r√© jusqu‚Äô√† ce que l‚Äôon ne puisse plus extraire de
r√®gles ou que l‚Äôon soit au niveau le plus bas de la hi√©rarchie. Cette m√©thode ne permet pas
d‚Äôextraire des r√®gles o√π des items de niveaux diff√©rents cohabiteraient comme par exemple
vin et boisson alcoolisee. Cette m√©thode propose donc l‚Äôextraction de r√®gles d‚Äôassociation
intra niveau de hi√©rarchie. Elle ne permet donc pas de r√©pondre √† la probl√©matique g√©n√©rale
d‚Äôextraction des s√©quences sur diff√©rents niveaux de hi√©rarchies. De plus la mise en ≈ìuvre de
- 157 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
cette approche dans un contexte multidimensionnel peut susciter des d√©bats. Dans le cas o√π
plusieurs taxonomies existent (une par dimension), doit-on se d√©placer sur les m√™mes niveaux
de hi√©rarchies sur les diff√©rentes taxonomies ou combiner ces niveaux ? Ce type d‚Äôextraction
peut √™tre co√ªteux en temps, car le m√©canisme d‚Äôextraction de connaissances peut √™tre r√©it√©r√©
plusieurs fois (profondeur de la taxonomie), ce qui n‚Äôest pas n√©gligeable.
Nous avons pr√©sent√© les motifs s√©quentiels ainsi que des travaux permettant la prise en
compte des hi√©rarchies dans le processus d‚Äôextraction de connaissances. N√©anmoins les motifs
s√©quentiels sont parfois pauvres par rapport aux donn√©es qu‚Äôils d√©crivent. En effet, les corr√©la-
tions sont extraites au sein de la seule dimension1 produit alors qu‚Äôune base de donn√©es peut
contenir plusieurs autres dimensions. C‚Äôest pourquoi plusieurs travaux tentent de combiner
plusieurs dimensions d‚Äôanalyse dans l‚Äôextraction de motifs s√©quentiels multidimensionnels.
2.2 Motifs s√©quentiels multidimensionnels
Combiner plusieurs dimensions d‚Äôanalyse permet d‚Äôextraire des connaissances qui d√©-
crivent mieux les donn√©es. Dans Pinto et al. (2001) les auteurs sont les premiers √† rechercher
des motifs s√©quentiels multidimensionnels. Ainsi, les achats ne sont plus d√©crits en fonction
des seuls date et identifiant du client, mais en fonction d‚Äôun ensemble de dimensions telles que
Type de consommateur, Ville, Age. Cette approche permet d‚Äôextraire des s√©quences d‚Äôitems sur
la dimension produits et de les caract√©riser √† l‚Äôaide des informations fr√©quentes sur les clients
(Patterns) qui tendent √† supporter les s√©quences. Cette m√©thode ne permet pas d‚Äôavoir des
s√©quences o√π plusieurs patterns sont pr√©sents. Elle ne permet donc pas d‚Äôextraire des connais-
sances de la forme : hf(business; ; ; a)(; chicago; ; b)g; f(; ; young; c)gi alliant diff√©rents
patterns multidimensionnels.
L‚Äôapproche M2SP que nous avons propos√©e Plantevit et al. (2005) permet, quant √† elle, l‚Äôex-
traction de motifs s√©quentiels multidimensionnel inter pattern. Nous d√©crivons plus en d√©tail
les concepts associ√©s dans le paragraphe 3.
Dans Yu et Chen (2005), les auteurs proposent d‚Äô√©tendre la recherche de motifs s√©quentiels
au contexte des bases de donn√©es d√©crivant les informations au moyen de plusieurs attributs.
Cependant cette approche est restreinte au cas particulier o√π les dimensions √©tudi√©es entre-
tiennent entre elles un tr√®s fort lien. En effet, ces dimensions sont organis√©es en hi√©rarchie.
Ainsi, dans l‚Äôexemple pris par les auteurs, les diff√©rentes dimensions sont li√©es au compor-
tement d‚Äôinternautes dont les visites de pages sont organis√©es en transactions (dimension 1),
elles-m√™mes organis√©es en sessions (dimension 2), elles-m√™mes organis√©es en jours (dimen-
sion 3). Ces diff√©rentes dimensions sont imbriqu√©es au sein des motifs trouv√©s et il est im-
possible de retrouver les valeurs fr√©quentes le long de ces dimensions, celles-ci n‚Äôintervenant
que pour organiser le temps de mani√®re hi√©rarchique. Yu et Chen (2005) propose d‚Äôextraire
des s√©quences au sein de s√©quence de donn√©es multidimensionnelles organis√©es en diff√©rents
1Nous utilisons le terme de dimension √† la place du terme d‚Äôattribut car une base de donn√©es relationnelle peut √™tre
vue comme une table de faits dans un base de donn√©es multidimensionnelles.
- 158 -
Plantevit et al.
D B Pl P
(Date) (BlocID) (Lieu) (Produit)
1 1 Allemagne Bi√®re
1 1 Allemagne Cacahu√®tes
2 1 Allemagne Aspirine
3 1 Allemagne Chocolat
4 1 Allemagne Smecta
1 2 France coca
2 2 France Vin
2 2 France Cacahu√®tes
3 2 France Aspirine
1 3 UK Whisky
1 3 UK Cacahu√®tes
2 3 UK Aspirine
1 4 LA Chocolat
2 4 LA Smecta
3 4 NY Whisky
4 4 NY Coca
FIG. 1 ‚Äì Base de donn√©es exempleDB
niveaux de hi√©rarchie. N√©anmoins, les s√©quences de donn√©es ne sont pas r√©ellement multidi-
mensionnelles dans la mesure o√π les diff√©rentes dimensions entretiennent un lien hi√©rarchique
tr√®s strict (un jour comporte des sessions qui sont elles-m√™mes compos√©es de pages visit√©es).
Nous pouvons encore citer les travaux de de Amo et al. (2004) qui proposent une approche
bas√©e sur la logique temporelle du premier ordre pour l‚Äôextraction de motifs s√©quentiels mul-
tidimensionnels, Lee (2005) proposent √©galement une nouvelle m√©thode de g√©n√©ration des
s√©quences multidimensionnelles pr√©sentes dans des bases de transactions.
A notre connaissance, il n‚Äôexiste aucune approche proposant de prendre en compte les
hi√©rarchies dans l‚Äôextraction de motifs s√©quentiels multidimensionnels. Nous proposons donc
d‚Äôint√©grer la gestion des hi√©rarchies √† M2SP (Plantevit et al. (2005)) afin de permettre une
extraction de connaissances plus compl√®te et dont l‚Äôutilisation dans le contexte OLAP peut
√™tre envisageable.
2.3 Base exemple
Pour illustrer les diff√©rents concepts et d√©finitions, nous proposons la base exemple fig. 1
qui d√©crit les achats de produit r√©alis√©s dans diff√©rentes villes du monde. Pour les hi√©rarchies,
nous choisissons deux dimensions, les villes et les produits, dont les taxonomies respectives
sont indiqu√©es fig. 2 et fig. 3.
- 159 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
FIG. 2 ‚Äì Taxonomie sur la dimension
Lieu
FIG. 3 ‚Äì Taxonomie sur la dimension
Produit
3 Contributions
Dans cette section, nous pr√©sentons notre approche permettant la prise en compte des hi√©-
rarchies dans l‚Äôextraction de motifs s√©quentiels multidimensionnels. Nous d√©finissons d‚Äôabord
les concepts relatifs √† notre approche. Nous proposons ensuite les algorithmes permettant la
mise en ≈ìuvre de notre approche.
3.1 D√©finitions
Partition des dimensions
Nous consid√©rons que tout est ensemble dans un contexte multidimensionnel. Les trois
donn√©es n√©cessaires pour l‚Äôextraction de motifs s√©quentiels dans un contexte classique (Client,
produits, date) deviennent dans un contexte multidimensionnel des ensembles2.
Ainsi, comme dans M2SP (Plantevit et al. (2005)), nous consid√©rons que l‚ÄôensembleDB
des transactions d√©finies sur un ensemble D de n dimensions est partitionn√© en trois sous-
ensembles :
‚Äì l‚Äôensemble des dimensions de r√©f√©rence DR (client dans contexte classique) qui per-
mettent de d√©terminer si une s√©quence est fr√©quente.
‚Äì l‚Äôensemble des dimensions DT (date dans contexte classique) permettant d‚Äôintroduire
une relation d‚Äôordre.
‚Äì l‚Äôensemble des dimensions d‚Äôanalyse DA = fD1; : : : ; Dm o√π Di  Dom(Di)g (pro-
duits dans contexte classique) o√π sont extraites les corr√©lations.
Chaque n-uplet c = (d1; : : : ; dn) peut s‚Äô√©crire sous la forme d‚Äôun triplet c = (r; a; t) o√π r; a et
t sont les restrictions de c sur respectivementDR; DA etDT .
D√©finition 1 (Bloc) Etant donn√©e une baseDB, l‚Äôensemble des n-uplets qui ont la m√™me res-
triction r sur DR constitue un bloc.
Chaque bloc B est identifi√© par un n-uplet r. Nous notons BDB;DR , l‚Äôensemble des blocs
constituant la baseDB.
2Dans un contexte classique, ces donn√©es sont des singletons.
- 160 -
Plantevit et al.
D B Pl P
1 1 Allemagne Bi√®re
1 1 Allemagne Cacahu√®tes
2 1 Allemagne Aspirine
3 1 Allemagne Chocolat
4 1 Allemagne Smecta
FIG. 4 ‚Äì bloc (1)
D B Pl P
1 2 France Coca
2 2 France Vin
2 2 France Cacahu√®tes
3 2 France Aspirine
FIG. 5 ‚Äì bloc (2)
D B Pl P
1 3 UK Whisky
1 3 UK Cacahu√®tes
2 3 UK Aspirine
FIG. 6 ‚Äì bloc (3)
D B Pl P
1 4 LA Chocolat
2 4 LA Smecta
3 4 NY Whisky
4 4 NY Coca
FIG. 7 ‚Äì bloc (4)
FIG. 8 ‚Äì Partition deDB (figure 1) en fonction deDR = fBg
Cette d√©finition des blocs est n√©cessaire pour d√©finir le support d‚Äôune s√©quencemultidimen-
sionnelle. Son application dans notre base exemple est simple puisque jDRj = 1, les diff√©rents
blocs obtenus sont d√©crits fig 8.
Taxonomies
Dans le contexte dans lequel nous nous situons, nous consid√©rons qu‚Äôil existe des relations
hi√©rarchiques sur chaque dimension d‚Äôanalyse3. Nous consid√©rons que ces relations hi√©rar-
chiques sont mat√©rialis√©es sous la forme de taxonomie. Une taxonomie est un arbre orient√©
dans lequel les arcs sont des relations de type is-a. La relation de g√©n√©ralisation/sp√©cialisation
s‚Äôeffectue ainsi de la racine vers les feuilles. Chaque dimension d‚Äôanalyse poss√®de donc une
taxonomie qui permet de repr√©senter les relations hi√©rarchiques entre les √©l√©ments de son do-
maine.
Soit TDA = fT1; : : : ; Tmg l‚Äôensemble des taxonomies associ√©es aux dimensions d‚Äôanalyse
o√π :
‚Äì Ti est la taxonomie repr√©sentant les relations hi√©rarchiques entre les √©l√©ments de la di-
mension d‚ÄôanalyseDi.
‚Äì Ti est un arbre orient√©.
‚Äì 8 n≈ìud ni 2 Ti; label(ni) 2 Dom(Di).
On note x^ un anc√™tre de x dans la taxonomie et x un de ses descendants. Par exemple,
boisson = [soda signifie que boisson est un anc√™tre de soda dans la relation G√©n√©ralisa-
tion/Sp√©cialisation. Plus pr√©cisement, boisson est une instance plus g√©n√©rale que soda.
3Dans le pire des cas la hi√©rarchie minimale se repr√©sente par un arbre de profondeur 1 o√π la racine est etiquet√©e
par * (gestion des valeurs jokers dansM2SP ).
- 161 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
Hi√©rarchies et Donn√©es
Chaque dimension d‚ÄôanalyseDi d‚Äôune transaction b deDB ne peut √™tre instanci√©e qu‚Äôavec
une valeur di dont le n≈ìud associ√© √† l‚Äô√©tiquette di dans la taxonomie Ti est une feuille. Plus
formellement, 8di 2 Di(B); 8 n≈ìud ni tq label(ni) = di@n≈ìud n0 tq n0 = ni (ni feuille).
Par exemple, la base de transactionsDB ne peut pas contenir la valeurBoisson s‚Äôil existe
des instances plus sp√©cifiques dans la taxonomie comme soda.
Item, Itemset, S√©quence multidimensionnels h-g√©n√©ralis√©s
Dans cette section, nous d√©finissons les concepts fondamentaux d‚Äôitems, d‚Äôitemsets et de
s√©quences multidimensionnels h-g√©n√©ralis√©s.
D√©finition 2 (Item multidimensionnel h-g√©n√©ralis√©)
Un item multidimensionnel h-g√©n√©ralis√© e = (d1; : : : ; dm) est un m-uplet d√©fini sur les dimen-
sions d‚ÄôanalyseDA telles que di 2 flabel(Ti)g.
Contrairement aux transactions deDB, un item multidimensionnel h-g√©n√©ralis√© peut √™tre
d√©fini avec n‚Äôimporte quelle valeur di dont le n≈ìud associ√© dans la taxonomie n‚Äôest pas n√©ces-
sairement une feuille.
Exemple 1 (boisson; USA); (soda; F rance) sont des items multidimensionnels h-g√©n√©ralis√©s.
Comme les items multidimensionnels h-g√©n√©ralis√©s sont instanci√©s sur diff√©rents niveaux
de hi√©rarchies, il est possible que deux items soient comparables, c‚Äôest-√†-dire qu‚Äôun item soit
plus sp√©cifique ou g√©n√©ral qu‚Äôun autre.
Par abus de langage et afin de ne pas alourdir les notations, nous utilisons directement la
notion d‚Äôanc√™tre sur l‚Äôitem et la transaction sans nous situer dans la taxonomie correspondante.
D√©finition 3 (Inclusion hi√©rarchique d‚Äôitems)
Soient deux items multidimensionnels h-g√©n√©ralis√©s e = (d1; : : : ; dm) et e0 = (d01; : : : ; d0m),
on dit que :
‚Äì e est plus g√©n√©ral que e0 (e >h e0) si 8di; di = d^0i ou di = d0i
‚Äì e est plus sp√©cifique que e0 (e <h e0) si 8di; di = d0i ou di = d0i
‚Äì e et e0 sont incomparables s‚Äôil n‚Äôexiste pas de relation entre eux (e h e0 et e0 h e)
Exemple 2 (relations hi√©rarchiques entre items multidimensionnels h-g√©n√©ralis√©s)
‚Äì (USA; boisson) >h (USA; soda).
‚Äì (France; vin) <h (UE;Alcool).
‚Äì (France; vin) et (USA; soda) sont incomparables.
D√©finition 4 Une transaction b supporte un item e si DA(b) <h e.
Exemple 3 La transaction (1; 1; F rance; vin) supporte l‚Äôitem (UE; alcool).
D√©finition 5 (Itemset multidimensionnel h-g√©n√©ralis√©)
Un itemset multidimensionnel h-g√©n√©ralis√© i = fe1; : : : ; ekg est un ensemble non vide d‚Äôitems
multidimensionnels h-g√©n√©ralis√©s o√π tous les items sont incomparables entre eux.
- 162 -
Plantevit et al.
Deux items comparables ne peuvent pas √™tre pr√©sents dans le m√™me itemset. Nous adoptons
un point de vue ensembliste et pr√©f√©rons ainsi repr√©senter l‚Äôinformation la plus pr√©cise possible
au sein d‚Äôun itemset.
Exemple 4 f(France; vin); (USA; soda)g est un itemset multidimensionnel h-g√©n√©ralis√©
alors que f(France; vin); (UE;Alcool)g n‚Äôest pas un itemset multidimensionnel h-g√©n√©ralis√©
car (France; vin) <h (UE;Alcool).
La notion de s√©quence multidimensionnelle h-g√©n√©ralis√©e d√©coule de la notion d‚Äôitemset.
D√©finition 6 (S√©quence multidimensionnelle h-g√©n√©ralis√©e) Une s√©quence multidimension-
nelle h-g√©n√©ralis√©e s = hi1; : : : ; iji est une liste ordonn√©e non vide d‚Äôitemsets multidimen-
sionnels h-g√©n√©ralis√©s.
Exemple 5 hf(France; vin); (USA; soda)g; f(Allemagne; biere)gi est une s√©quence mul-
tidimensionnelle h-g√©n√©ralis√©e.
D√©finition 7 (Inclusion de s√©quences) Une s√©quence multidimensionnelle h-g√©n√©ralis√©e & =
ha1; : : : ; ali est une sous-s√©quence de la s√©quence & 0 = hb1; : : : ; bl0i s‚Äôil existe des entiers
1  j1  j2  : : :  jl  l0 tel que a1  bj1 ; a2  bj2 ; : : : ; al  bjl .
Remarque 1 L‚Äôinclusion des itemsets multidimensionnels doit respecter l‚Äôinclusion hi√©rar-
chique des items multidimensionnels h-g√©n√©ralis√©s.
Exemple 6
‚Äì La s√©quence hf(France; vin)g; f(Allemagne; biere)gi est une sous-s√©quence de la s√©-
quence hf(France; vin); (USA; soda)g; f(Allemagne; biere)gi.
‚Äì La s√©quence hf(France; vin)g; f(Allemagne; biere)gi est une sous-s√©quence de la s√©-
quence hf(France;Alcool); (USA; boisson)g; f(UE;Alcool)gi.
‚Äì La s√©quence hf(UE; vin)g; f(Allemagne; biere)gi n‚Äôest pas une sous-s√©quence de la
s√©quence hf(France; vin); (USA; soda)g; f(Allemagne; biere)gi car (UE; vin) h
(France; vin), l‚Äôinclusion hi√©rarchique n‚Äô√©tant pas respect√©e.
Support
Calculer le support d‚Äôune s√©quence multidimensionnelle h-g√©n√©ralis√©e revient √† compter
le nombre de blocs d√©finis par les dimensions de r√©f√©rence DR qui supportent la s√©quence.
Un bloc supporte une s√©quence multidimensionnelle h-g√©n√©ralis√©e s‚Äôil est possible de trouver
un ensemble de n-uplets qui la satisfasse. Pour chaque itemset de la s√©quence, nous devons
exhiber une date du domaine de Dt telle que tous les items multidimensionnels h-g√©n√©ralis√©s
de l‚Äôitemset sont support√©s par des n-uplets relatifs √† cette date. Tous les itemsets doivent
√™tre retrouv√©s √† diff√©rentes dates appartenant au domaine de Dt tels que l‚Äôordre des itemsets
respecte la s√©quentialit√©.
D√©finition 8 Un bloc supporte une s√©quence hi1; : : : ; ili si 8j = 1 : : : l; 9dj 2 Dom(Dt);
pour chaque item e de ij ; 9t = (r; e; dj) ou t = (r; e; dj) 2 T avec d1 < d2 < : : : < dl.
- 163 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
D√©finition 9 (Support d‚Äôune s√©quence) Soient DR l‚Äôensemble des dimensions de r√©f√©rence
et DB l‚Äôensemble des transactions partitionn√© en un ensemble de blocs BT;DR : Le support
d‚Äôune s√©quence & est : support(&) = jfB2BDB;DR t:q: B supporte &gjjBDB;DR j
Exemple 7 Par rapport √† notre base de donn√©es exemple DB, consid√©rons DR = fBidg,
DA = fLieu; Produitg et DT = fDateg, support = 2, et & = hf(UE;Alcool); (UE; caca
-huetes)g f(UE; aspirine)gi. Pour que la s√©quence soit fr√©quente, au moins deux blocs de
la partition deDB doivent supporter la s√©quence.
1. bloc (1) (Fig. 4). Si l‚Äôon se r√©f√®re au taxonomies relatives aux dimensions d‚Äôanalyse (LA-
BEL), Allemagne est une instance plus sp√©cifique de UE et bi√®re est un alcool. Ainsi √† la date
1, nous avons bien le premier itemset f(UE;Alcool); (UE; cacahuetes)g de & . A une date
post√©rieure (2), le dernier itemset f(UE; aspirine)g est pr√©sent. La s√©quence & est support√©e
par ce bloc.
2. bloc (2) (Fig. 5). France est une instance de UE et vin est une instance d‚Äôalcool. Nous
retrouvons bien la s√©quence & dans ce bloc
3. bloc (3) (Fig. 6). UK est une instance de UE et whisky est une instance d‚Äôalcool. Ce bloc
supporte la s√©quence & .
4. bloc (4) (Fig. 7). Ce bloc ne supporte pas la s√©quence & puisque la dimension Lieu ne
contient aucune instance de UE.
Le support de & est donc √©gal √† 3. La s√©quence est fr√©quente.
3.2 HYPE : Les algorithmes
Fonctionnement g√©n√©ral
Avant de pr√©senter les algorithmes permettant l‚Äôextraction de motifs s√©quentiels multidi-
mensionnels h-g√©n√©ralis√©s, nous d√©taillons bri√®vement le fonctionnement de notre approche.
Le processus d‚Äôextraction de motifs s√©quentiels multidimensionnels h-g√©n√©ralis√©s se divise
en deux phases. Dans un premier temps, les items multidimensionnels h-g√©n√©ralis√©s maxi-
malement sp√©cifiques sont extraits. Nous pensons que les items maximalement sp√©cifiques
sont une alternative √† la surabondance de connaissances extraites. En effet, ils permettent de
factoriser les connaissances, les connaissances plus g√©n√©rales pouvant √™tre inf√©r√©es en post
traitement par l‚Äôutilisateur. Ensuite, la deuxi√®me √©tape vise √† extraire les s√©quences multidi-
mensionnelles h-g√©n√©ralis√©es fr√©quentes. Ces s√©quences sont g√©n√©r√©es √† partir de l‚Äôensemble
des items maximalement sp√©cifiques.
N√©anmoins, le fait d‚Äôutiliser des items maximalement sp√©cifiques pour g√©n√©rer les s√©-
quences fr√©quentes ne nous permet pas d‚Äôextraire toutes les connaissances pr√©sentes dans la
base. En effet, des s√©quences dont les premiers items ne sont pas maximalement sp√©cifiques
ne pourront pas √™tre extraites. Les s√©quences plus longues ne sont donc pas extraites (les blocs
supportent plus rapidement des connaissances plus g√©n√©rales). Toutefois, cette carence est re-
lative car ces s√©quences non extraites repr√©sentent souvent des connaissances trop g√©n√©rales
qui n‚Äôapportent aucun int√©r√™t √† l‚Äôutilisateur.
Il n‚Äôest pas forc√©ment n√©cessaire d‚Äôeffectuer une phase de pr√©traitement afin d‚Äô√©laguer les
taxonomies. En effet, cette op√©ration peut √™tre facilement effectu√©e lors de l‚Äôextraction des
items multidimensionnels h-g√©n√©ralis√©s fr√©quents.
- 164 -
Plantevit et al.
G√©n√©ration des items fr√©quents
Les items multidimensionnels h-g√©n√©ralis√©s fr√©quents sont la base de l‚Äôextraction demotifs
s√©quentiels multidimensionnels h-g√©n√©ralis√©s. Ils repr√©sentent les fr√©quents de taille 1 puis-
qu‚Äôils correspondent √† des s√©quences compos√©es d‚Äôun seul item contenu dans un seul itemset.
L‚Äôextraction d‚Äôitems multidimensionnels h-g√©n√©ralis√©s en une seule passe sur la base n‚Äôest pas
concevable dans un souci de passage √† l‚Äôechelle. En effet, consid√©rer le produit cart√©sien des
domaines de chaque dimension d‚Äôanalyse n‚Äôest pas envisageable dans des applications o√π le
nombre de dimensions et leurs domaines peuvent √™tre tr√®s grands. Si le nombre de dimensions
d‚Äôanalyse estm, alors le nombre d‚Äôitems g√©n√©r√©s  est exponentiel par rapport √†m :
2m   
mX
i=1
m
i

ik ou k = max jDom(Di)j
Nous conviendrons donc qu‚Äôavec une telle approche, le passage √† l‚Äôechelle peut √™tre mis en
doute.
Il est donc n√©cessaire de d√©finir une m√©thode qui limite √† la fois le nombre d‚Äôitems candi-
dats g√©n√©r√©s et le nombre de passes sur la base. Afin de limiter le nombre d‚Äôitems candidats
aux seuls items dont la probabilit√© d‚Äô√™tre fr√©quents est non nulle, nous adoptons une m√©thode
de g√©n√©ration par niveau.
Tout d‚Äôabord, nous consid√©rons les items multidimensionnels h-g√©n√©ralis√©s pour lesquels
une seule dimension d‚Äôanalyse est sp√©cifi√©e4, les autres dimensions n‚Äô√©tant pas sp√©cifi√©es. Les
items multidimensionnels fr√©quents sont alors joints entre eux pour obtenir l‚Äôensemble des
items candidats pour lesquels deux dimensions d‚Äôanalyse sont sp√©cifi√©es. Seuls les fr√©quents
sont retenus. Cette proc√©dure est r√©it√©r√©em fois jusqu‚Äô√† l‚Äôobtention des items multidimension-
nels h-g√©n√©ralis√©s (toutes lesm dimensions d‚Äôanalyse sont instanci√©es). Parmi ces items, seuls
les plus sp√©cifiques seront retenus.
L‚Äôop√©ration de jointure entre deux items fr√©quents suppose que les items soienton-compati-
bles, c‚Äôest-√†-dire qu‚Äôils partagent un nombre suffisant de valeurs de dimensions d‚Äôanalyse (voir
d√©finition 10). Pour √™tre on-compatibles, deux items multidimensionnels d√©finis sur n dimen-
sions doivent partager n  2 valeurs de dimension. Par exemple, (a; ; c) et (; b; c) sont deux
items d√©finis sur 3 dimensions d‚Äôanalyse et partagent 3   2 = 1 valeur sur la dimension C.
Ils sont donc on-compatibles. En revanche, les items (a1; b1; ) et (a2; b2; ) ne sont pas on-
compatibles.
D√©finition 10 (on-Compatibilit√©) Soient deux items multidimensionnels e1 = (d1;    ; dn) et
e2 = (d
0
1
;    ; d0n) o√π di et d0i 2 dom(Di) [ fg. On dit que e1 et e2 sont on-compatibles si
‚Äì e1 et e2 sont distincts
‚Äì 9 = fDi1 ; : : : ; Din 2g  fD1; : : : ; Dng t.q. di1 = d0i1 6=  et di2 = d
0
i2
6=  . . . et
din 2 = d
0
in 2
6= 
‚Äì Pour fDin 1 ; Ding = fD1; : : : ; Dngn, on a din 1 =  et d0in 1 6=  et din 6=  et
d0in = 
4Par d√©finition, un item multidimensionnel h-g√©n√©ralis√© est instanci√© sur la totalit√© de ses dimensions. Par abus de
langage, nous utiliserons aussi item pour les n-uplets fr√©quents qui seront instanci√©s niveau par niveau afin d‚Äôobtenir
des items multidimensionnels h-g√©n√©ralis√©s conform√©ment √† la d√©finition.
- 165 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
L‚Äôop√©ration de jointure mise en ≈ìuvre pour g√©n√©rer les items multidimensionnels h-
g√©n√©ralis√©s potentiellement fr√©quents se d√©finit de la fa√ßon suivante :
D√©finition 11 (Jointure) Soient 2 items multidimensionnelson-compatibles e1 = (d1;    ; dn)
et e2 = (d01;    ; d
0
n). On d√©finit e1 on e2 = (v1;    ; vn) avec :
‚Äì vi = di si di = d0i
‚Äì vi = di si d0i = 
‚Äì vi = d
0
i si di = 
La g√©n√©ration des items multidimensionnels s‚Äôeffectue donc √† l‚Äôaide d‚Äôun treillis. N√©an-
moins le nombre de candidats g√©n√©r√©s reste important, on peut imaginer utiliser la recherche
d‚Äôitems multidimensionnels d√©rivables pour limiter le calcul du support √† un nombre r√©duit
d‚Äôitems (recherche √©quivalente √† la recherche d‚Äôitemsets d√©rivables).
G√©n√©ration des s√©quence fr√©quentes
Les items multidimensionnels h-g√©n√©ralis√©s sont donc des s√©quencesmultidimensionnelles h-
g√©n√©ralis√©es de taille 1. Ils sont donc des 1-fr√©quents.
Pour extraire les s√©quences fr√©quentes, nous adoptons la philosophie G√©n√©rer/Elaguer. En
effet, nous conservons la propri√©t√© d‚Äôantimonotonie du support dans le contexte multidimen-
sionnel (Tout sous-ensemble d‚Äôun ensemble fr√©quent est fr√©quent, tout sur ensemble d‚Äôun
ensemble non fr√©quent est non fr√©quent).
Une fois les 1-fr√©quents extraits (items multidimensionnels h-g√©n√©ralis√©s les plus sp√©ci-
fiques), les k-candidats (k  2) sont g√©n√©r√©s et test√©s afin de savoir s‚Äôils sont fr√©quents. Cette
op√©ration est it√©r√©e tant que des k-candidats fr√©quents sont extraits.
Pour stocker les s√©quences candidates, nous utilisons une structure d‚Äôarbre pr√©fix√© (Mas-
seglia et al. (1998)) afin d‚Äô√©viter toute redondance.
Calcul du support d‚Äôune s√©quence
Les dimensions de r√©f√©rence permettent d‚Äôidentifier tous les blocs de l‚Äôensemble des don-
n√©es susceptibles de supporter une s√©quence & . L‚Äô√©num√©ration de tous les blocs d√©finis par
les dimensions de r√©f√©rence DR est indispensable pour calculer le support d‚Äôune s√©quence et
d√©finir ainsi si la s√©quence est fr√©quente ou non.
L‚Äôalgorithme 1 v√©rifie pour chaque bloc de DB si la s√©quence est support√©e ou non. Si la
s√©quence est support√©e, alors le support est incr√©ment√©. L‚Äôalgorithme retourne ensuite le ratio
des blocs supportant & .
L‚Äôalgorithme 2 permet de v√©rifier si le bloc B supporte la s√©quence & . Pour cela, cet al-
gorithme cherche √† instancier la s√©quence itemset par itemset en conjuguant r√©cursivit√© et
ancrage. L‚Äôancrage correspond √† une n-uplet du blocB √† partir duquel la s√©quence pourra √™tre
instanci√©e. Cet n-uplet correspond donc √† une date √† laquelle le premier item du premier item-
set de la s√©quence est trouv√©. √Ä partir de cet n-uplet, seuls les n-uplets pertinents sont retenus,
c‚Äôest-√†-dire ceux qui partagent la m√™me date. On ne retient donc que les n-uplets partageant la
m√™me date. Si le sous-bloc r√©sultant de l‚Äôancrage supporte l‚Äôitemset alors on appelle la fonc-
tion sur les autres itemsets de & . Cet appel est effectu√© en r√©duisant l‚Äôespace de recherche aux
seuls n-uplets dont la date est sup√©rieure √† la date de l‚Äôancrage pr√©c√©dent, puisque l‚Äôon passe
- 166 -
Plantevit et al.
√† l‚Äôitemset suivant, donc √† une date ult√©rieure. Si l‚Äôancrage √©choue, on continue la recherche
du premier itemset en tentant d‚Äôautres ancrages. L‚Äôappel r√©cursif s‚Äôarr√™te d√®s que la s√©quence
plac√©e en param√®tre d‚Äôentr√©e est vide. Une telle propri√©t√© signifie en effet que tous les itemsets
de la s√©quence ont √©t√© trouv√©s. On retourne donc la valeur vrai. La valeur faux est retourn√©e
si aucun ancrage n‚Äôa r√©ussi et si tout le bloc a √©t√© parcouru sans succ√®s.
Complexit√©
Afin de faciliter l‚Äô√©tude de complexit√© des algorithmes, nous posons les notations sui-
vantes :
‚Äì nB est le nombre de cellules du bloc B
‚Äì m = jDAj est le nombre de dimensions des items multidimensionnels.
‚Äì Pmax, la profondeur maximale des taxonomies.
supportBloc (algorithme 2)
‚Äì Le bloc B √©tant ordonn√© par rapport √† la dimension Dt, l‚Äôop√©ration d‚Äôancrage est r√©a-
lisable en O(log nC). En effet, il suffit de r√©aliser une recherche √† l‚Äôaide d‚Äôun parcours
dichotomique pour trouver tous les n-uplets respectant une certaine condition sur la date.
‚Äì V√©rifier si un n-uplet supporte un item est r√©alisable en O(Pmax m). Il suffit de com-
parer lesm dimensions de l‚Äôitem avec celles du n-uplet.
‚Äì Dans le pire des cas, la complexit√© de l‚Äôalgorithme est deO(nB Pmaxm lognB).
compterSupport (algorithme 1)
On appelle la fonction pr√©cedente pour tous les l blocs Bi de fBDB;DRg, l‚Äôensemble des
bloc deDB d√©finis suivantDR. Soit nmax = maxnBi . La complexit√© dans le pire des cas est
donc : O(l)O(nmax  Pmax m lognmax) = O(l  nmax  Pmax m log nmax)
Fonction compterSupport Donn√©es : &;DB;DR
R√©sultat : le support de la s√©quence &
d√©but
Entier support   0;
Booleen seqSupportee;
BDB;DR    fbloc de DB identifies sur DRg;
pour chaque B 2 BDB;DR faire
seqSupportee   supportBloc(&; B) ;
si seqSupportee alors
support   support+ 1;
retourner

support
jBDB;DR j

fin
Algorithme 1: Calcul du support d‚Äôune s√©quence (compterSupport)
- 167 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
Fonction supportBloc
Donn√©es : &; B
R√©sultat : Bool√©en
d√©but
*‚Äìinitialisation‚Äì*
booleen ItemSetTrouve   faux
sequence   &
itemset   sequence:first()
item   itemset:first()
*‚Äìcondition d‚Äôarr√™t de la recursivit√© ‚Äì*
si & = ; alors
retourner (vrai)
*‚Äìparcours du bloc ‚Äì*
tant que tuple   B:next 6= ; faire
si supporte(tuple; item) alors
itemSuivant   itemset:second()
si itemSuivant = ; alors
itemsetT rouve   vrai
*‚ÄìRecherche de tous les items de l‚Äôitemset‚Äì*
sinon
*‚Äì On ancre par rapport √† l‚Äôitem (date)‚Äì*
B0    date=cell:date(B)
tant que tuple0    B0:next() 6= ; ^ itemsetT rouve = faux faire
si supporte(cell0; itemSuivant) alors
itemSuivant   itemset:next()
si itemSuivant = ; alors
itemsetT rouve   vrai
si itemsetT rouve = vrai alors
*‚Äì recherche des autres itemsets‚Äì*
retourner (supportBloc(sequence:tail(); date>tuple:date(B)))
sinon
itemset   sequence:first()
*‚Äìr√©duction de l‚Äôespace de recherche‚Äì*
C    date>cell:date(B)
*‚Äì & non support√©e ‚Äì*
retourner (faux)
fin
Algorithme 2: supportBloc : (V√©rifie si une s√©quence est support√©e par un bloc donn√©)
- 168 -
Plantevit et al.
3.3 Pourquoi les hi√©rarchies permettent une gestion plus fine de la valeur
joker
La prise en compte des hi√©rarchies peut √™tre vue comme un moyen plus fin de g√©rer les
valeurs jokers. En effet, dans l‚Äôapproche M2SP, la racine d‚Äôune taxonomie repr√©sente la valeur
joker * sur la dimension associ√©e. Ainsi, si aucune instanciation n‚Äôest possible, aucune √©tiquette
feuille ne peut donc convenir, alors on passe directement √† la racine de la taxonomie (figure 9).
La prise en compte des hi√©rarchies, permet d‚Äôextraire des connaissances plus fines. En
effet, les taxonomies proposent plusieurs alternatives par rapport √† l‚ÄôapprocheM2SP quand on
n‚Äôarrive pas √† instancier une dimension. En effet, on ne passe pas directement de la feuille √† la
racine, on essaie d‚Äôinstancier par l‚Äôanc√™tre le plus sp√©cifique de la feuille (figure 10).
FIG. 9 ‚Äì Gestion de la va-
leur joker (*)
FIG. 10 ‚Äì Gestion des hi√©-
rarchies
Exemple 8 (Comparaison avec M2SP) Pour un support fix√© √† 2, la prise en compte des hi√©-
rarchies permet d‚Äôextraire des connaissances qui ne peuvent pas √™tre extraite parMSP .
M2SP
‚Äì (; Chocolat), (; Cacahuetes), (; Smecta), (; Coca), (; Aspirine), (;Whisky)
‚Äì hf(; Chocolat)gf(; Smecta)gi, hf(; Cacahuetes)gf(; Aspirine)gi
Prise en compte des hi√©rarchies
‚Äì (Lieu; Chocolat),(UE;Cacahuetes), (Lieu; Smecta), (Lieu; Coca), (UE;Aspirine),
(Lieu;Whisky), (UE;Alcool),
‚Äì hf(Lieu; chocolat)gf(Lieu; Smecta)gi
hf(UE;Cacahuetes)gf(UE;Aspirine)gi
hf(UE;Alcool)gf(UE;Aspirine)gi
‚Äì hf(UE;Alcool); (UE;Cacahuetes)gf(UE;Aspirine)gi
Le prise en compte des hi√©rarchies permet ainsi d‚Äôextraire des s√©quences plus compl√®tes
que l‚Äôapproche M2SP.
- 169 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
4 Exp√©rimentations
Des exp√©rimentations ont √©t√© effectu√©es sur des donn√©es synth√©tiques. La base de donn√©es
g√©n√©r√©e est compos√©e de 5000 n-uplets. Les tests sont effectu√©s sur 5 dimensions d‚Äôanalyse.
Ces premi√®res exp√©rimentations comparent les r√©sultats obtenus en terme de nombre de fr√©-
quents extraits en fonction de la profondeur des taxonomies (degr√© de sp√©cialisation) et du
seuil de support consid√©r√©. Nous √©tablissons une comparaison avec M2SP(-) afin d‚Äô√©tudier la
qualit√© des connaissances extraites.
0
200
400
600
800
1000
2 3 4 5 6 7
SE
QU
EN
CE
S
DEPTH
M2SP-alpha
HYPE
FIG. 11 ‚Äì Nombre de s√©quences fr√©-
quentes par rapport √† la profondeur de
la taxonomie (minsup=0:3, nb_dim=5,
deg = 3)
0
50
100
150
200
250
300
2 2.5 3 3.5 4 4.5 5
SE
QU
EN
CE
S
DEPTH
M2SP-alpha
HYPE
FIG. 12 ‚Äì Nombre de s√©quences fr√©-
quentes par rapport √† la profondeur de
la taxonomie (minsup=0:4, nb_dim=5,
deg = 4)
0
500
1000
1500
2000
2500
3000
0.20.30.40.50.60.70.80.91
SE
QU
EN
CE
S
SUPPORT
M2SP-alpha
HYPE
FIG. 13 ‚Äì Nombre de s√©quences fr√©-
quentes par rapport au support (
nb_dim=5, deg = 3, donn√©es denses)
0
200
400
600
800
1000
0.20.30.40.50.60.70.80.91
SE
QU
EN
CE
S
SUPPORT
M2SP-alpha
HYPE
FIG. 14 ‚Äì Nombre de s√©quences fr√©-
quentes par rapport au support (
nb_dim=5, deg = 4, profondeur = 4)
Les figures 11 et 12 montrent le nombre de fr√©quents extraits en fonction de la profon-
deur des taxonomies pour un seuil de support fix√©. Etendre la taxonomie d‚Äôun niveau engendre
une sp√©cialisation suppl√©mentaire des donn√©es (Boisson devient Bois:Alcoolise ou Coca).
Ainsi, quand les donn√©es se sp√©cialisent, l‚Äôapproche M2SP extrait moins de fr√©quents jusqu‚Äô√†
ne plus en extraire √† partir d‚Äôun certain niveau de sp√©cialisation. La prise en compte des hi√©-
- 170 -
Plantevit et al.
rarchies apporte une certaine robustesse face √† ce ph√©nom√®ne de sp√©cialisation. En effet des
connaissances sont extraites sur plusieurs niveaux de hi√©rarchies.
La figure 13 montre le nombre de fr√©quents extraits en fonction du support dans une base
de donn√©es denses (faible cardinalit√© des dimensions d‚Äôanalyse). Quand le support devient trop
faible, la m√©thode M2SP extrait trop de fr√©quents. En effet beaucoup d‚Äôitems ont une seule
dimension instanci√©e (diff√©rente de *), et ainsi cette m√©thode supporte rapidemment des 2-
s√©quences trop g√©n√©rales. La prise en compte des hi√©rarchies introduit une forte capacit√© de
subsomption qui permet de ne pas extraire un trop grand nombre de s√©quences inutiles.
Par contre quand les donn√©es sont moins denses, figure 14 (plus grande cardinalit√© des
dimensions d‚Äôanalyse d√ªe √† une sp√©cilisation plus importante des transactions), le nombre de
fr√©quents extraits est similaire aux nombres de fr√©quents extraits dans des donn√©es plus denses
alors que l‚Äôapproche M2SP extrait tr√®s peu de fr√©quents. Ceci souligne bien la robustesse de
notre approche face √† la qualit√© des donn√©es (denses, sp√©cialis√©es).
5 Conclusion et perspectives
Dans cet article, nous d√©finissons les motifs s√©quentiels multidimensionnels h-g√©n√©ralis√©s.
Nous int√©grons la prise en compte des hi√©rarchies √† l‚Äôaide de taxonomies pr√©sentes sur chaque
dimension d‚Äôanalyse. Ceci permet la construction de s√©quences multidimensionnelles , de
la forme hf(UE;Alcool); (UE; cacahuetes)gf(UE; aspirine)gi, d√©finies sur diff√©rents ni-
veaux de hi√©rarchies indiquant que les personnes ayant achet√© dans l‚Äôunion europ√©enne des ca-
cahu√®tes et des boissons alcoolis√©es en m√™me temps ach√®tent ensuite dans l‚Äôunion europ√©enne
de l‚Äôaspirine.
Nous d√©finissons les diff√©rents concepts (item, itemset, motifs s√©quentiels multidimension-
nels h-g√©n√©ralis√©s) et les algorithmes permettant la mise en ≈ìuvre de notre approche sont pr√©-
sent√©s et valid√©s par des exp√©rimentations effectu√©es sur des jeux de donn√©es synth√©tiques.
Ces exp√©rimentations montrent l‚Äôint√©r√™t de HYPE, en particulier sa capacit√© √† subsumer les
connaissances ainsi que sa robustesse lors de l‚Äôextraction de connaissances devant la diver-
sit√© des donn√©es (densit√©, sp√©cialisation, ...). Notre approche peut s‚Äôappliquer dans le contexte
OLAP en repr√©sentant un excellent outil pour le d√©cideur.
Ce travail offre de nombreuses perspectives. L‚Äôefficacit√© de l‚Äôextraction peut √™tre am√©lio-
r√©e en s‚Äôappuyant sur des repr√©sentations condens√©es des connaissances extraites (clos, libres).
L‚Äôutilisation de formes condens√©es peut permettre des √©lagages suppl√©mentaire et ainsi am√©lio-
rer la robustesse de l‚Äôextraction. D‚Äôautres propositions peuvent √™tre effectu√©es pour la gestion
des hi√©rarchies. Nous pouvons imaginer une gestion modulaire des hi√©rarchies o√π certaines
dimensions n‚Äôauraient pas le m√™me comportement que les autres afin s‚Äôadapter aux besoins de
l‚Äôutilisateur (interdiction de d√©passer le niveau de hi√©rarchie  sur la dimension , : : : ). La
gestion des hi√©rarchies peut nous amener √† d√©finir une nouvelle m√©thode automatis√©e d‚Äôaide √†
la navigation dans les cubes de donn√©es.
R√©f√©rences
Agrawal, R. et R. Srikant (1995). Mining sequential patterns. In P. S. Yu et A. L. P. Chen
(Eds.), Proceedings of the Eleventh International Conference on Data Engineering, March
- 171 -
Hi√©rarchies & motifs s√©quentiels multidimensionnels
6-10, 1995, Taipei, Taiwan, pp. 3‚Äì14. IEEE Computer Society.
de Amo, S., D. A. Furtado, A. Giacometti, et D. Laurent (2004). An apriori-based approach
for first-order temporal pattern mining. In XIX Simp√≥sio Brasileiro de Bancos de Dados,
18-20 de Outubro, 2004,Bras√≠lia, Distrito Federal, Brasil, Anais/Proceedings, pp. 48‚Äì62.
Han, J. (1997). Olap mining : Integration of olap with data mining. In S. Spaccapietra et
F. J. Maryanski (Eds.), Data Mining and Reverse Engineering : Searching for Semantics,
IFIP TC2/WG2.6 Seventh Conference on Database Semantics (DS-7), October 7-10, 1997,
Leysin, Switzerland, Volume 124 of IFIP Conference Proceedings, pp. 3‚Äì20. Chapman &
Hall.
Lee, C.-H. (2005). An entropy-based approach for generating multi-dimensional sequential
patterns. In A. Jorge, L. Torgo, P. Brazdil, R. Camacho, et J. Gama (Eds.), Knowledge
Discovery in Databases : PKDD 2005, 9th EuropeanConference on Principles and Practice
of Knowledge Discovery in Databases, Porto, Portugal, October 3-7, 2005, Proceedings,
Volume 3721 of Lecture Notes in Computer Science, pp. 585‚Äì592. Springer.
Masseglia, F. (2002). Algorithmes et applications pour l‚Äôextraction de motifs s√©quentiels dans
le domaine de la fouille de donn√©es : de l‚Äôincr√©mental au temps r√©el. Th√®se de doctorat,
Universit√© de Versailles.
Masseglia, F., F. Cathala, et P. Poncelet (1998). The psp approach for mining sequential pat-
terns. In J.M. Zytkow etM. Quafafou (Eds.),Principles of DataMining andKnowledgeDis-
covery, Second European Symposium, PKDD ‚Äô98, Nantes, France, September 23-26, 1998,
Proceedings, Volume 1510 of Lecture Notes in Computer Science, pp. 176‚Äì184. Springer.
Masseglia, F., M. Teisseire, et P. Poncelet (2004). Recherche des motifs s√©quentiels. Revue
Ing√©nierie des Syst√®mes d‚ÄôInformation (ISI), num√©ro sp√©cial ‚ÄúExtraction de motifs dans les
bases de donn√©es‚Äù 9(3-4), pp. 183‚Äì210.
Pei, J., J. Han, B. Mortazavi-Asl, J. Wang, H. Pinto, Q. Chen, U. Dayal, et M.-C. Hsu (2004).
Mining sequential patterns by pattern-growth : The prefixspan approach. IEEE Transactions
on Knowledge and Data Engineering 16(10).
Pinto, H., J. Han, J. Pei, K. Wang, Q. Chen, et U. Dayal (2001). Multi-dimensional sequential
pattern mining. In Proceedings of the 2001 ACM CIKM International Conference on In-
formation and Knowledge Management, Atlanta, Georgia, USA, November 5-10, 2001, pp.
81‚Äì88. ACM.
Plantevit, M., Y. W. Choong, A. Laurent, D. Laurent, et M. Teisseire (2005). M2sp : Mining
sequential patterns among several dimensions. In A. Jorge, L. Torgo, P. Brazdil, R. Cama-
cho, et J. Gama (Eds.), Knowledge Discovery in Databases : PKDD 2005, 9th European
Conference on Principles and Practice of Knowledge Discovery in Databases, Porto, Portu-
gal, October 3-7, 2005, Proceedings, Volume 3721 of Lecture Notes in Computer Science.
Springer.
Srikant, R. et R. Agrawal (1996). Mining sequential patterns : Generalizations and perfor-
mance improvements. In Advances in Database Technology - EDBT‚Äô96, 5th International
Conference on Extending Database Technology, Avignon, France, March 25-29, 1996, Pro-
ceedings, pp. 3‚Äì17.
Yu, C.-C. et Y.-L. Chen (2005). Mining sequential patterns from multidimensional sequence
data. IEEE Transactions on Knowledge and Data Engineering 17(1), pp. 136‚Äì140.
- 172 -
Plantevit et al.
Summary
Data warehouses contain large volume of historized data stored at the end of analysis.
Despite the evolution of OLAP analysis tools and methods, it is too difficult to provide data
mining tools taking into account the specificities of these contexts (e.g. multidimensionnality,
hierarchies, data historized). In this article, we propose an original method of extraction of
sequential patterns taking into account the hierarchies. This method extracts frommore precise
knowledge and extends our preceding approach M2SP. We define the concepts related to our
problems as well as the associated algorithms. The experiments which we carried out show the
interest of our proposal.
- 173 -
- 174 -
