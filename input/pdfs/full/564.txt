Approche pour le suivi de l’e´volution des
donne´es d’usage du Web : application sur
un jeu de donne´es en marketing
Alzennyr Da Silva, Yves Lechevallier
Projet AxIS, INRIA Paris-Rocquencourt
Domaine de Voluceau, B.P. 105, 78153 Le Chesnay – France
{Alzennyr.Da Silva@inria.fr,Yves.Lechevallier@inria.fr}
Re´sume´ Dans la fouille des flux des donne´es d’usage du Web, la dimension tem-
porelle joue un roˆle tre`s important car les comportements des internautes peuvent
changer au cours du temps. Dans cet article, nous pre´sentons l’application d’une
approche de classification automatique base´e sur des feneˆtres sautantes pour la
de´tection et le suivi de changements sur un jeu de donne´es en marketing. Cette
approche combine les cartes auto organisatrices de Kohonen et la me´thode de Ward
pour la de´couverte automatique du nombre de clusters de comportement ainsi que
deux indices de validation base´s sur l’extension pour la de´tection des changements
au cours du temps.
Keywords : Classification automatique, donne´es e´volutives, fouille d’usage
du Web (Web Usage Mining, WUM).
1 Introduction
La fouille de donne´es d’usage du Web (Web Usage Mining, en anglais) de´signe l’en-
semble des techniques base´es sur la fouille de donne´es pour analyser le comportement
des utilisateurs d’un site Web [1, 8]. Dans la confe´rence SLDS 2009 1, un jeu de donne´es
concernant le suivi des achats d’un panel de consommateurs a e´te´ diffuse´ dans le cadre
d’un concours ouvert aux jeunes chercheurs. L’objectif de cet article est de de´crire l’ana-
lyse des re´sultats obtenus a` partir de l’application de notre approche de de´tection et de
suivi des changements [2, 3] sur ce jeu de donne´es.
2 Description du jeu de donne´es
Le jeu de donne´es en question concerne le suivi des achats de 10 068 clients pen-
dant 14 mois (du 09 juillet 2007 jusqu’au 08 septembre 2008) sur 2 marche´s de biens de
consommation. Chaque marche´ commercialise 3 marques de produits. Les donne´es ont e´te´
fournies dans un fichier de 3 745 296 lignes contenant les champs de´crits dans le tableau 2.
Dans ce fichier, tous les combinaisons date x marche´ x marque ont e´te´ pre´sente´s, meˆme en
cas d’absence d’achat. Pour l’application de notre me´thode, nous avons de´fini un tableau
croise´ client x marque ordonne´ selon la date et l’identification client (cf. tableau 3). Ce
tableau contient un total de 262 215 lignes.
1Symposium Apprentissage et Science des Donne´es 2009, www.ceremade.dauphine.fr/SLDS2009
c© Revue MODULAD, 2010 -148- Nume´ro 42
Tab. 1 – Champs descriptifs des donne´es
ident identification client
date premier jour de la semaine de l’achat
marche´ marche´ concerne´ par les achats (marche 1, marche 2)
marque marque concerne´e par les achats (A, B, C, D, E, F)
valeur valeur des achats
Tab. 2 – Extrait des premie`res lignes du tableau croise´
ident A B C D E F date
2 0 0 0 0 1.65 0 09/07/2007
6 0 0 0 0 1.76 0 09/07/2007
8 7.7 0 0 0 0 0 09/07/2007
10 3.52 0 0.88 0 0 0 09/07/2007
11 1.87 0 0 0 0 0 09/07/2007
12 0 0 0 1.65 0 0 09/07/2007
...
...
...
...
...
...
...
...
3 Approche de classification automatique pour la
de´tection et le suivi de changements sur des donne´es
e´volutives
Notre approche de classification automatique pour la de´tection et le suivi de change-
ments sur des donne´es e´volutives consiste dans un premier temps a` partitionner le flux de
donne´es d’entre´e en feneˆtres sautantes de taille fixe. SoitW1 la premie`re feneˆtre du flux de
donne´es, l’ide´e est d’appliquer une me´thode quelconque de classification non supervise´e
sur les donne´es de W1. Soit G = (g1, . . . , gc, . . . , gk) l’ensemble de prototypes des clusters
de´couverts par cette classification. Ensuite, on repe`re la feneˆtre suivante dans le temps,
nomme´e W2. Cette feneˆtre ne se chevauche pas avec la premie`re. Le pas suivant consiste
a` affecter les donne´es de W2 aux prototypes de G, ce qui nous fournit une premie`re par-
tition P1. Par la suite, on applique la meˆme me´thode de classification non supervise´e sur
les donne´es de W2, ce qui de´finit une nouvelle partition P2. La de´tection des changements
entre les deux feneˆtres sera mesure´e par la comparaison des deux partitions P1 et P2 a`
l’aide de deux crite`res d’e´valuation.
L’ide´e principale derrie`re cette approche consite a` ce que la partition P1 refle`te la
segmentation des individus de la feneˆtre courante selon la structure classificatoire obtenue
a` partir des donne´es de la feneˆtre pre´ce´dente. La partition P1 contiendra l’information
d’organisation selon un passe´ re´cent. De l’autre coˆte´, la partition P2 n’est pas influence´e
par la classification pre´ce´dente et refle`te ainsi la segmentation actuelle des individus,
classe´s inde´pendamment du passe´.
Sur un jeu de donne´es stable, les deux partitions P1 et P2 seront tre`s similaires, si ceci
n’est pas le cas, alors une rupture entre les deux feneˆtres est ve´rifie´e. Dans ce dernier cas,
une analyse plus approfondie entre les clusters de ces deux partitions s’ave`re ne´cessaire
c© Revue MODULAD, 2010 -149- Nume´ro 42
Fig. 1 – Statistiques de base sur les donne´es analyse´es.
Fig. 2 – Nombre de clusters de comportement par feˆnetre de temps (semaine).
afin de de´tecter la nature des changements ve´rifie´s.
Pour cette comparaison, nous appliquons deux indices de validation base´s sur l’exten-
sion de la classification : la F-mesure [7] et l’indice corrige´ de Rand [5]. Le premier indice
assume des valeurs contenues dans l’intervalle [0,+1] et le deuxie`me indice assume des va-
leurs dans l’intervalle [−1,+1]. Dans les deux cas, les valeurs proches de 1 correspondent
a` des partitions tre`s semblables, alors que les valeurs proches de 0 correspondent a` des
partitions dissimilaires.
Pour la me´thode de classification, nous utilisons les cartes auto organisatrices de Ko-
honen [6] initialise´es a` partir d’une ACP (Analyse en Composantes Principales) sur des
donne´es d’entre´e [4]. La couche de compe´tition est initialise´e avec une centaine de neu-
rones dispose´s sur une grille rectangulaire. Apre`s la convergence, une CAH (Classification
Ascendante Hie´rarchique) utilisant le crite`re de Ward est applique´e sur les prototypes
correspondant aux neurones de la grille. La coupure du dendrogramme re´sultant est ef-
fectue´e selon le crite`re du gain d’inertie intra-classe. Les neurones dans un meˆme groupe
sont donc fusionne´s. De cette manie`re, le nombre de clusters pre´sents dans les donne´es
est automatiquement de´couvert.
Il est important de remarquer que notre approche est totalement inde´pendante de la
me´thode de classification non supervise´e applique´e, la seule restriction est que celle-ci doit
fournir un prototype pour chaque cluster de´couvert.
4 Analyse des re´sultats
Dans notre approche, nous avons utilise´ une feneˆtre de temps de taille e´gale a` une
semaine. C’est-a`-dire, la me´thode de classification non supervise´e est applique´e sur l’en-
semble d’individus ayant re´alise´ des achats dans une meˆme semaine, ceci afin de segmen-
ter les clients en fonction de leurs habitudes d’achat dans le temps. La figure 1 pre´sente
quelques statistiques de base, comme le nombre de visites de clients et le total d’achat par
marche´ et par semaine. Comme nous pouvons remarquer, le nombre de visites est assez
stable pendant toute la pe´riode analyse´e. Ce nombre avoisine 5 mille visites par semaine.
De plus, la valeur totale d’achats sur le marche´ 2 est presque toujours supe´rieure a` celle
du marche´ 1 pour une meˆme pe´riode de ventes.
Le nombre total de clusters de pre´fe´rences d’achat de´couverts par notre me´thode varie
entre 2 et 8 (cf. figure 2). L’axe des abscisses du graphique dans la figure 2 re´presente la
date de de´but de la semaine analyse´e. Le nombre de clusters le plus stable e´tant 7 pour la
majorite´ des semaines. Un cluster repre´sente un ensemble de clients ayant des pre´fe´rences
d’achat similaires pour une meˆme semaine. Remarquons que pendant les trois premie`res
semaines du mois de novembre 2007, le nombre total de clusters de pre´fe´rences d’achat a
e´te´ stabilise´ et e´gal a` 2. Ceci peut eˆtre une re´ponse a` une strate´gie de vente mise en ligne
c© Revue MODULAD, 2010 -150- Nume´ro 42
Fig. 3 – Valeurs obtenus par la F-mesure pour chaque semaine analyse´e.
Fig. 4 – Valeurs obtenus par l’indice de Rand corrige´ pour chaque semaine analyse´e.
pendant cette pe´riode de temps.
Les valeurs obtenues par les deux indices de comparaison de partition cite´s dans la
section 3 sont montre´s dans les figures 3 et 4. La F-mesure effectue une analyse cluster par
cluster en cherchant la meilleure repre´sentation d’un cluster dans la premie`re partition par
un cluster correspondant dans la deuxie`me partition. La F-mesure obtient donc autant
de valeurs qu’il y a de clusters dans la premie`re partition. On trace une boxplot a` partir
de ces valeurs pour chaque semaine analyse´e. Les pe´riodes les plus stables sont celles qui
pre´sentent les valeurs les plus e´leve´es de la F-mesure. Sur le jeu de donne´es analyse´, ces
pe´riodes correspondent aux semaines de´bute´es le 20 aouˆt 2007, le 17 septembre 2007, le
10 de´cembre 2007, le 25 fe´vrier 2008 et le 02 juin 2008 (cf. figure 3). Ces meˆmes pe´riodes
ont e´te´ e´galement repe´re´es par l’indice de Rand corrige´ (cf. figure 4). Cet deuxie`me index
fournit une mesure globale base´e sur tout l’ensemble de clusters dans les deux partitions.
Ceci montre l’accord entre ces deux indices et leur aptitude a` re´soudre ce type de proble`me.
Pour les autres semaines analyse´es, ce jeu de donne´es reste assez instable. Les clusters de
comportement subissant un nombre important de changement au cours du temps.
Afin de re´aliser un suivi des changements subis par les clusters, notre me´thode imple´mente
des fonctionnalite´s additionnelles capables de repe´rer les transformations subies par un
cluster de comportement au cours du temps. Ces transformations peuvent eˆtre de diffe´rentes
natures, a` savoir :
– Disparation d’un cluster de comportement : repe´re´e quand un cluster de
comportement existant dans une feneˆtre de temps pre´ce´dente n’est plus pre´sent
dans la feneˆtre de temps suivante.
– Apparition d’un cluster de comportement : repe´re´e quand un cluster de com-
portement inexistant dans une feneˆtre de temps pre´ce´dente est aperc¸u dans la feneˆtre
de temps suivante.
– Scission d’un cluster de comportement : repe´re´e quand un certain nombre
de clients appartenant a` un cluster de comportement dans une feneˆtre de temps
migre vers d’autres clusters dans la feneˆtre de temps suivante. Ceci peut indiquer
un changement de pre´fe´rence pour une nouvelle marque de produit.
– Fusion de deux ou plusieurs clusters de comportement : repe´re´e quand les
clients appartenant a` diffe´rents clusters de comportement dans une feneˆtre de temps
migrent vers un meˆme cluster de comportement dans la feneˆtre de temps suivante.
Ceci indique quand deux clients ayant des habitudes d’achat distinctes passent a`
partager les meˆmes pre´fe´rences d’achat. Un exemple typique concerne le phe´nome`ne
ve´rifie´ lors de la mise en place des promotions sur produits qui attirent diffe´rents
clients autres que le public cible.
– Pas de changement : dans ce dernier cas, le cluster de comportement est conside´re´
comme survivant dans la feneˆtre de temps suivante. Il peut cependant subir des
c© Revue MODULAD, 2010 -151- Nume´ro 42
Fig. 5 – Nombre de changements detecte´s sur les clusters de comportement au cours du
temps.
changements lie´s au nombre d’effectifs (re´tre´cissement ou grossissement). Ces chan-
gements peuvent indiquer le changement de popularite´ de certaines marques de
produit.
Les changements ve´rifie´s sur les donne´es analyse´es sont de´crits dans la figure 5. Pen-
dant nos expe´rimentations, nous n’avons remarque´ aucune scission de clusters de compor-
tement.
Toujours en cohe´rence avec les re´sultats obtenus par la F-mesure et par l’indice de
Rand corrige´, notre me´thode a de´tecte´ le plus grand nombre de clusters survivants (cf.
graphique Total of survivals de la figure 5) pendant les meˆmes semaines de stabilite´
trouve´es par les deux indices de comparaison de partition. Pendant ces semaines, la quasi
totalite´ des clusters de pre´fe´rences d’achat a surve´cu.
En analysant le graphique Total of appearances nous remarquons, pour la majorite´ des
semaines analyse´es, un grand nombre de nouveaux clusters (autour de 6). Le nombre total
de clusters par feneˆtre e´tant assez stable et e´gal a` 7 (cf. figure 2), on pourrait s’attendre a`
un grand nombre de disparition de clusters. Cependant, en analysant le graphique Total of
disappearances de la figure 5, nous constatons un faible nombre de disparation de clusters
au cours du temps. L’explication de ceci est lie´e au fait qu’une grande partie des clusters
se fondent les uns avec les autres (cf. le graphique Total of absorptions de la figure 5) au
cours du temps.
Afin de mieux connaˆıtre les profils d’achat de ces clients, nous avons trace´ sur la figure
6 la distribution des pourcentages d’achat par marque pour les 7 clusters de´tecte´s par
la me´thode pendant les pe´riodes les plus stables, ces clusters repre´sentent les pre´fe´rences
d’achat les plus typiques. Ces profils d’achat peuvent eˆtre de´crits comme suit :
– Cluster 1 : clients ayant une pre´fe´rence d’achat pour la marque B en premier plan et la marque A en deuxie`me
plan.
– Cluster 2 : profil mixte de clients ayant des fortes pre´fe´rences pour les marques A et D.
– Cluster 3 : clients ayant une pre´fe´rence d’achat majoritaire pour la marque A.
– Cluster 4 : clients ayant une pre´fe´rence d’achat pour la marque F en premier plan et les marques A et D en
deuxie`me plan.
– Cluster 5 : clients ayant une pre´fe´rence d’achat pour la marque C en premier plan et les marques E et A en
deuxie`me plan.
– Cluster 6 : clients ayant une pre´fe´rence d’achat majoritaire pour la marque D.
– Cluster 7 : clients ayant une pre´fe´rence d’achat pour la marque E en premier plan et les marques A et D en
deuxie`me plan.
La marque A a une forte pre´fe´rence parmi tous les profils d’achat. Les autres marques
sont pre´sentes dans des profils ponctuels. En consultant les re´sultats obtenus, il est possible
d’extraire la liste de clients appartenant a` un cluster spe´cifique.
Pour suivre le comportement d’achat d’un client spe´cifique, il suffit de ve´rifier si le
client en question change de cluster au cours du temps. Si le client reste toujours dans un
meˆme cluster au cours du temps, celui si peut eˆtre conside´re´ fide`le aux marques concerne´es
par ce cluster. D’un autre coˆte´, si le client change conside´rablement de cluster au cours
du temps, celui si peut eˆtre classe´ tel un zappeur entre les marques de produit.
c© Revue MODULAD, 2010 -152- Nume´ro 42
Fig. 6 – Clusters de pre´fe´rences d’achat les plus typiques.
5 Conclusion
Dans cet article nous avons de´crit les re´sultats obtenus par de notre me´thode de clas-
sification non supervise´e pour la de´tection et le suivi des clusters de comportement dans
le temps applique´e sur un jeu de donne´es en marketing. Nous avons pu suivre l’e´volution
de clusters de pre´fe´rences d’achat des clients sur 6 marques de produits de deux marche´s
diffe´rents au long de 14 mois.
Notre me´thode a permis la trac¸abilite´ des changements subis par les clusters de
pre´fe´rences d’achat des clients ainsi que l’identification de la nature de ces changements
au cours du temps (apparition/disparition des groupes de comportement, migration d’in-
dividus de et vers un autre groupe de comportements). L’un des enjeux majeurs dans
ce genre d’analyse est la ne´cessite´ de jongler avec plusieurs changements qui peuvent se
passer en simultane´ sur diffe´rents groupes de comportement.
Tous les re´sultats obtenus par l’application de notre me´thode sur le jeu de donne´es en
question ont e´te´ enregistre´s dans une base de donne´es MySQL et peuvent de ce fait faire
l’objet a posteriori d’un rapport technique. Il est ainsi possible de fournir a` des questions
spe´cifiques des re´ponses plus de´taille´es. Par exemple, la segmentation des clients pour
une semaine spe´cifique peut eˆtre facilement repe´re´e par une simple requeˆte a` la base
de donne´es. Il est e´galement possible de mesurer la popularite´ de certaines marques de
produit en fonction du suivi des effectifs d’un meˆme groupe de comportement au cours
du temps.
Re´fe´rences
[1] Cooley R., Mobasher B., Srivastava J. : Data Preparation for Mining World Wide
Web Browsing Patterns, Journal of Knowledge and Information Systems, vol. 1, no 1
(1999) 5-32.
[2] Da Silva A., Lechevallier Y. :Strate´gies de classification non supervise´e sur feneˆtres
superpose´es : application aux donne´es d’usage du Web, Actes des 8e`mes journe´es Ex-
traction et Gestion des Connaissances (EGC 2008), Revue des Nouvelles Technologies
de l’Information (RNTI), vol. I, ce´padue`s, (2008) 219-220.
[3] Da Silva A., Lechevallier Y., De Carvalho F. : Simulation et de´tection de l’e´volution
des donne´es temporelles issues de l’usage du Web, He´brail G., Poncelet P., Quiniou
R., Eds., Actes de l’atelier fouille de donne´es temporelles et analyse de flux de donne´es
aux 9e`mes journe´es d’Extraction et Gestion des Connaissances (EGC 2009).
[4] Elemento O. : Apport de l’analyse en composantes principales pour l’initialisation et la
validation de cartes topologiques de Kohonen, Actes des 7e`mes journe´es de la Socie´te´
Francophone de Classification (SFC 1999).
[5] Hubert L., Arabie P. : Comparing Partitions, Journal of Classification, vol. 2 (1985)
p. 193-218.
c© Revue MODULAD, 2010 -153- Nume´ro 42
[6] Kohonen T. : Self-Organizing Maps, vol. 30 de Springer Series in Information Sciences,
Springer, third edition, 1995, Last edition published in 2001.
[7] Van Rijsbergen C. J. : Information Retrieval, Butterworths, London, second edition,
1979.
[8] Spiliopoulou M. : Data Mining for the Web, Workshop on Machine Learning in User
Modelling of the ACAI99 (1999) 588-589.
c© Revue MODULAD, 2010 -154- Nume´ro 42
