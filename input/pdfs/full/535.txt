Treillis des concepts SKYLINES :
Analyse multidimensionnelle des SKYLINES fondÃ©e sur les
ensembles en accord
SÃ©bastien Nedjar, Fabien Pesci1, Lotfi Lakhal & Rosine Cicchetti
Laboratoire dâ€™Informatique Fondamentale de Marseille (LIF), CNRS UMR 6166
Aix-Marseille UniversitÃ©,
IUT dâ€™Aix-en-Provence, Avenue Gaston Berger, 13625 Aix-en-Provence Cedex
RÃ©sumÃ©. Le concept de SKYLINE a Ã©tÃ© introduit pour mettre en Ã©vidence les
objets Â« les meilleurs Â» selon diffÃ©rents critÃ¨res. Une gÃ©nÃ©ralisation multidimen-
sionnelle du SKYLINE a Ã©tÃ© proposÃ©e Ã  travers le SKYCUBE qui rÃ©unit tous les
SKYLINES possibles selon toutes les combinaisons de critÃ¨res et permet dâ€™ana-
lyser les liens entre objets SKYLINES. Comme le data cube, le SKYCUBE sâ€™avÃ¨re
extrÃªmement volumineux si bien que des approches de rÃ©duction sont incontour-
nables. Dans cet article, nous dÃ©finissons une approche de matÃ©rialisation par-
tielle du SKYCUBE. Lâ€™idÃ©e sous-jacente est dâ€™Ã©liminer de la reprÃ©sentation les
SkycuboÃ¯des facilement re-calculables. Pour atteindre cet objectif de rÃ©duction,
nous caractÃ©risons un cadre formel : le treillis des concepts ACCORDS. Cette
structure combine la notion dâ€™ensemble en accord et le treillis des concepts. Ã€
partir de cette structure, nous dÃ©rivons le treillis des concepts SKYLINES qui en
est une instance contrainte. Le point fort de notre approche est dâ€™Ãªtre orientÃ©e
attribut ce qui permet de borner le nombre de nÅ“uds du treillis et dâ€™obtenir une
navigation efficace Ã  travers les SkycuboÃ¯des.
1 Introduction
Dans un contexte dÃ©cisionnel, certaines requÃªtes ne renvoient aucun rÃ©sultat. Dans ces
requÃªtes, lâ€™utilisateur recherche les tuples pour lesquels les valeurs de certains critÃ¨res sont
optimales. Câ€™est le caractÃ¨re Â« multicritÃ¨re Â» de ces interrogations qui les rend gÃ©nÃ©ralement
infructueuses. En effet, tel tuple peut Ãªtre optimal pour un critÃ¨re mais pas pour un autre, il
est alors Ã©liminÃ© du rÃ©sultat alors quâ€™il aurait pu Ãªtre pertinent pour lâ€™utilisateur. Par exemple,
si lâ€™on considÃ¨re une base de donnÃ©es immobiliÃ¨res, la recherche du logement Â« idÃ©al Â» peut
combiner des conditions sur le prix, le plus bas possible, la surface, la plus grande possible, et
lâ€™Ã©loignement du lieu de travail, le plus rÃ©duit possible. Ã‰videmment il est vraisemblable que
ce logement idÃ©al nâ€™existe pas, dâ€™oÃ¹ lâ€™absence de rÃ©ponse Ã  ce type de requÃªte. Pourtant cer-
tains logements pourraient sâ€™avÃ©rer pertinents pour lâ€™utilisateur parce que, situÃ©s dans une zone
proche, mais non voisine, ils rÃ©unissent les critÃ¨res de surface maximale et de prix minimal.
1. Fabien Pesci bÃ©nÃ©ficie dâ€™une bourse doctorale co-financÃ©e par le conseil rÃ©gional PACA et lâ€™entreprise CA2I.
Treillis des concepts SKYLINES
Afin dâ€™apporter une rÃ©ponse adÃ©quate au type de requÃªtes dÃ©crites, lâ€™opÃ©rateur SKYLI-
NE (BÃ¶rzsÃ¶nyi et al., 2001) a Ã©tÃ© introduit. Il considÃ¨re lâ€™ensemble des critÃ¨res de choix dâ€™une
recherche comme autant de prÃ©fÃ©rences et extrait les tuples globalement optimaux pour cet
ensemble de prÃ©fÃ©rences. Ainsi plutÃ´t que de rechercher une hypothÃ©tique solution idÃ©ale,
il extrait les candidats les plus proches possibles des souhaits de lâ€™utilisateur. Son principe
gÃ©nÃ©ral sâ€™appuie sur la notion de dominance. Un objet ou un tuple est dit dominÃ© par un autre
si, pour tous les critÃ¨res intÃ©ressant le dÃ©cideur, il est moins optimal que cet autre. Un tel tuple
est Ã©liminÃ© du rÃ©sultat, non pas parce quâ€™il est non pertinent pour un des critÃ¨res mais parce
quâ€™il est non optimal selon la combinaison de tous les critÃ¨res. En dâ€™autres termes, il existe au
moins une meilleure solution pour lâ€™utilisateur qui, elle, sera retenue.
De la mÃªme maniÃ¨re que le cube de donnÃ©es permet de comprendre les liens existant entre
plusieurs niveaux dâ€™agrÃ©gation, une gÃ©nÃ©ralisation multidimensionnelle du SKYLINE a Ã©tÃ© pro-
posÃ©e Ã  travers le SKYCUBE (Yuan et al., 2005; Pei et al., 2005). Cette structure rÃ©unit tous les
SKYLINES possibles suivant les diffÃ©rentes combinaisons de critÃ¨res. Il est alors possible de
rechercher efficacement des objets dominants selon diffÃ©rentes combinaisons de critÃ¨res. De
plus, grÃ¢ce Ã  cette structure, il devient possible dâ€™observer le comportement des objets domi-
nants Ã  travers lâ€™espace multidimensionnel et ainsi dâ€™analyser et de comprendre les diffÃ©rents
facteurs de dominance. Ce concept Ã©tant inspirÃ© du cube de donnÃ©es, il souffre des mÃªmes
inconvÃ©nients de coÃ»t de calcul et dâ€™explosion de lâ€™espace de stockage. Ainsi il est naturel,
comme pour le data cube, dâ€™essayer dâ€™en proposer des reprÃ©sentations rÃ©duites et les algo-
rithmes associÃ©s.
Dans cet article, nous proposons une approche basÃ©e sur le treillis des concepts qui permet
de matÃ©rialiser partiellement les SKYCUBES et donc de rÃ©duire la taille de leur reprÃ©sentation
tout en garantissant la reconstruction complÃ¨te des rÃ©sultats. Cette structure combine le concept
dâ€™ensemble en accord (Beeri et al., 1984; Lopes et al., 2002), issu de la thÃ©orie des bases
de donnÃ©es, et celui du treillis des concepts, fondement de lâ€™analyse de concepts formels.
Contrairement Ã  Pei et al. (2006), notre approche de rÃ©duction est orientÃ©e attribut ce qui lui
confÃ¨re les mÃªmes qualitÃ©s pour la navigation que le SKYCUBE complet.
Le plan de lâ€™article est le suivant. Au paragraphe 2, nous rappelons le contexte de notre
travail : le SKYCUBE. Nous formalisons un cadre formel dans lequel sâ€™inscrira notre travail au
paragraphe 3. Puis nous prÃ©sentons notre approche de matÃ©rialisation partielle des SKYCUBES.
2 SKYCUBE pour lâ€™Analyse multidimensionnelle des SKY-
LINES
Dans cette section, nous prÃ©sentons dâ€™abord lâ€™opÃ©rateur SKYLINE ainsi que la problÃ©ma-
tique Ã  laquelle il rÃ©pond. Dans un deuxiÃ¨me temps, nous prÃ©sentons lâ€™analyse multidimen-
sionnelle des SKYLINES Ã  travers le concept de SKYCUBE.
2.1 Lâ€™opÃ©rateur SKYLINE
Avant de dÃ©finir de maniÃ¨re formelle lâ€™opÃ©rateur SKYLINE, il est important de bien situer
le contexte dans lequel la problÃ©matique se pose. En effet, il ne sâ€™applique pas Ã  nâ€™importe
quelle relation. Pour quâ€™il puisse effectuer les comparaisons nÃ©cessaires, il faut que les diffÃ©-
S. Nedjar, F. Pesci, L. Lakhal & R. Cicchetti
RowId 1 PropriÃ©taire ... Ville Prix Ã‰loignement Consommation Voisins
1 Dupont Marseille 220 15 275 5
2 Dupond Paris 100 15 85 1
3 Martin Marseille 220 7 180 1
4 Sanchez Aubagne 340 7 85 3
5 Durand Paris 100 7 180 1
TAB. 1 â€“ La relation LOGEMENTS
rents domaines sur lesquels sont dÃ©finis les attributs, critÃ¨res de choix de lâ€™utilisateur, soient
totalement ordonnÃ©s (BÃ¶rzsÃ¶nyi et al., 2001; Pei et al., 2006). Par simplicitÃ©, les attributs ont
systÃ©matiquement des valeurs numÃ©riques dans nos exemples.
Les tuples de nos relations pouvant Ãªtre utilisÃ©es par lâ€™opÃ©rateur SKYLINE sont de la forme
t = (d1,d2, . . . ,dk,c1,c2, . . . ,cl) oÃ¹ les di sont les dimensions non utilisÃ©es par lâ€™opÃ©rateur
SKYLINE alors que les ci sont les critÃ¨res sur lesquels lâ€™utilisateur se fonde pour porter son
choix.
Exemple 2.1 - La relation illustrÃ©e par la table 1 est typique pour lâ€™utilisation du SKYLINE.
Elle rÃ©pertorie diffÃ©rents logements. Les attributs dimensions classiques sont ici PropriÃ©taire
et Ville et les critÃ¨res de choix pour trouver le Â« meilleur logement Â» sont : le Prix de vente en
milliers dâ€™euros, lâ€™Ã‰loignement par rapport au lieu de travail en kilomÃ¨tres, la Consommation
Ã‰nergÃ©tique en kilowattheures par an et par mÃ¨tre carrÃ©, le nombre de Voisins.
DÃ©finition 2.1 (Relation de dominance) - Soit C = {c1, c2, . . . , cd} lâ€™ensemble des critÃ¨res
sur lesquels porte lâ€™opÃ©rateur SKYLINE. Soit deux tuples t et tâ€², la relation de dominance
suivant lâ€™ensemble de critÃ¨res C est dÃ©finie comme suit :
t C tâ€² â‡” t[c1] â‰¤ tâ€²[c1] et t[c2] â‰¤ tâ€²[c2] et . . . et t[cd] â‰¤ tâ€²[cd]
Lorsque t C tâ€² et âˆƒ ci âˆˆ C tel que t[ci] < tâ€²[ci], la dominance est stricte, elle est notÃ©e t C tâ€².
Lorsquâ€™un tuple t domine un tuple tâ€² (i.e. t C tâ€²), cela signifie que t est Ã©quivalent ou
Â« meilleur Â» que le tuple tâ€² pour tous les critÃ¨res choisis. Comme nous considÃ©rons que les
critÃ¨res sont minimisÃ©s, les valeurs de t pour tous les critÃ¨res sont infÃ©rieures ou Ã©gales Ã  celles
de tâ€². Ainsi dans le cadre dâ€™une recherche multicritÃ¨re les tuples dominÃ©s par dâ€™autres (au
moins un) ne sont pas pertinents et sont Ã©liminÃ©s du rÃ©sultat par lâ€™opÃ©rateur SKYLINE.
DÃ©finition 2.2 (Lâ€™opÃ©rateur SKYLINE) - Soit r une relation, le SKYLINE de r suivant C est
lâ€™ensemble des tuples qui ne sont dominÃ©s par aucun autre, suivant lâ€™ensemble de critÃ¨res C :
SKYC(r) = {t âˆˆ r | @ tâ€² âˆˆ r r t, tâ€² C t}
Exemple 2.2 - Avec notre relation exemple et les critÃ¨res suivants C = {Ã‰loignement, Prix} 2,
SKYC(LOGEMENT) = {t5} car le tuple t5 domine tous les autres. Il est donc le meilleur
logement possible pour lâ€™utilisateur.
1. RowId est un attribut implicite servant dâ€™identifiant unique Ã  chaque tuple. ti est le tuple ayant i pour RowId.
2. Pour simplifier les notations, lâ€™ensemble {A,B} est notÃ© AB.
Treillis des concepts SKYLINES
2.2 SKYCUBE
Lâ€™opÃ©rateur SKYLINE est un outil fondamental pour lâ€™analyse multicritÃ¨re des bases de
donnÃ©es. Nous pouvons calculer un SKYLINE suivant un ensemble de critÃ¨res dÃ©finis par lâ€™utili-
sateur, mais lorsquâ€™il sâ€™agit dâ€™en calculer plusieurs sur les mÃªmes donnÃ©es, aucun dâ€™eux ne sait
exploiter Ã  son avantage les liens qui peuvent exister entre les diffÃ©rents SKYLINES. Câ€™est pour
cela quâ€™une structure nommÃ©e SKYCUBE a Ã©tÃ© introduite (Yuan et al., 2005; Pei et al., 2005).
On peut dire que le SKYCUBE est au SKYLINE ce que le cube de donnÃ©es est au GROUP-BY :
une gÃ©nÃ©ralisation multidimensionnelle. Ainsi, dÃ¨s lors que lâ€™on souhaite rÃ©pondre rapidement
Ã  toutes les requÃªtes posÃ©es sur un SKYCUBE, il vaut mieux opter pour une prÃ©-matÃ©rialisation
de ce cube.
DÃ©finition 2.3 (SKYCUBE) - Un SKYCUBE est lâ€™ensemble de tous les SKYLINES dans tous les
sous-espaces non vides possibles de C :
SKY CUBE(r, C) = {(C, SKYC(r)) | C âŠ† C}
SKYC(r) est appelÃ© le cuboÃ¯de SKYLINE (ou SkycuboÃ¯de) du sous-espace C. Par convention
le cuboÃ¯de selon lâ€™ensemble de critÃ¨re vide est vide (i.e. SKYâˆ…(r) = âˆ…).
La structure du SKYCUBE peut Ãªtre reprÃ©sentÃ©e par un treillis semblable Ã  celui utilisÃ© pour
le cube de donnÃ©es. Les cuboÃ¯des du SKYCUBE sont regroupÃ©s par niveau en fonction de leur
nombre de critÃ¨res.
Une requÃªte SKYLINE multidimensionnelle retourne le sous-ensemble de tuples de la rela-
tion originelle formant le SKYLINE dans un sous-espace donnÃ©. Clairement, une fois le SKY-
CUBE calculÃ©, il est possible de rÃ©pondre Ã  toute requÃªte efficacement.
2.2.1 ProblÃ¨mes associÃ©s Ã  lâ€™analyse multidimensionnelle des SKYLINES
En gÃ©nÃ©ral, si un tuple t est dans les SKYLINES des sous-espaces C1 et C2 tels que
C1 âŠ‚ C2, pouvons-nous affirmer que t appartiendra aussi au SKYLINE de nâ€™importe quel
sous-espace C situÃ© entre C1 et C2 (C1 âŠ‚ C âŠ‚ C2) ? Une telle propriÃ©tÃ© serait fort attrayante
puisquâ€™elle pourrait considÃ©rablement simplifier la dÃ©termination des SKYLINES multidimen-
sionnels. Malheureusement elle nâ€™est pas vÃ©rifiÃ©e dans le cas gÃ©nÃ©ral.
Exemple 2.3 - Avec la relation LOGEMENT, en considÃ©rant les SKYLINES selon (Prix, Ã‰loi-
gnement, Voisin) et (Ã‰loignement, Voisin) on a : (Prix, Ã‰loignement, Voisin) âŠ‡ (Ã‰loignement,
Voisin) et SKYPEV (LOGEMENT) âŠ† SKYEV (LOGEMENT).
En revanche, si lâ€™on regarde les SKYLINES suivants (Prix, Ã‰loignement, Consommation,
Voisins) et (Prix, Ã‰loignement, Consommation) on a (Prix, Ã‰loignement, Consommation, Voi-
sins) âŠ‡ (Prix, Ã‰loignement, Consommation) et SKYPECV (LOGEMENT) âŠ‡ SKYPEC(LO-
GEMENT).
Lâ€™observation mise en Ã©vidence par cet exemple est la suivante : lâ€™appartenance Ã  un SKY-
LINE nâ€™est pas monotone, câ€™est-Ã -dire quâ€™un tuple t appartenant Ã  un cuboÃ¯de SKYU (r) nâ€™est
pas automatiquement contenu dans les ancÃªtres de ce cuboÃ¯de.
Comme dans le cas du cube de donnÃ©es, le SKYCUBE peut contenir des informations su-
perflues. Câ€™est cette problÃ©matique qui a motivÃ© la proposition de reprÃ©sentations rÃ©duites du
SKYCUBE faite par Pei et al. (2006). Notre contribution sâ€™intÃ©resse Ã  la mÃªme problÃ©matique
S. Nedjar, F. Pesci, L. Lakhal & R. Cicchetti
de rÃ©duction en combinant nous aussi lâ€™analyse de concepts formels (Ganter et Wille, 1999)
et le SKYLINE. Pour Ã©viter le coÃ»t important de reconstruction des cuboÃ¯des SKYLINES induit
par le regroupement orientÃ© valeur de Pei et al. (2006), notre mÃ©thode de rÃ©duction choisit une
approche de regroupement orientÃ©e critÃ¨re en se basant sur les ensembles en accord.
3 Treillis des Concepts ACCORDS dâ€™une relation
Dans ce paragraphe, notre objectif est de dÃ©finir un cadre de travail formel combinant le
concept dâ€™ensemble en accord et celui de treillis des concepts. Nous proposons une nouvelle
structure, le treillis des concepts ACCORDS dâ€™une relation, sur laquelle sâ€™appuie notre matÃ©ria-
lisation partielle du SKYCUBE. AprÃ¨s un rappel des notions dâ€™ensemble en accord et des classes
dâ€™Ã©quivalence associÃ©es, nous caractÃ©risons rigoureusement le treillis des concepts ACCORDS.
3.1 Ensembles en Accords
Le concept dâ€™ensemble en accord (ainsi que le systÃ¨me de fermeture associÃ©), introduit
par Beeri et al. (1984) pour caractÃ©riser la relation dâ€™Armstrong, a Ã©tÃ© utilisÃ© avec succÃ¨s
pour lâ€™extraction de dÃ©pendances fonctionnelles exactes et approximatives (Lopes et al., 2002).
Deux tuples sont en accord sur un ensemble dâ€™attributs X sâ€™ils partagent la mÃªme valeur pour
X .
DÃ©finition 3.1 (Ensembles en accord) - Soit ti, tj deux tuples de r et X âŠ† C un ensemble
dâ€™attributs (critÃ¨res dans notre contexte). ti, tj sont en accord surX si et seulement si ti[X] =
tj [X]. Lâ€™ensemble des attributs en accord de ti et tj est dÃ©fini comme suit :
ACC(ti, tj) = {C âˆˆ C | ti[C] = tj [C]}
Cette dÃ©finition peut Ãªtre gÃ©nÃ©ralisÃ©e pour un ensemble de tuples T âŠ† r composÃ© dâ€™au moins
deux Ã©lÃ©ments :
ACC(T ) = {C âˆˆ C | t[C] = tâ€²[C], âˆ€t, tâ€² âˆˆ T}
DÃ©finition 3.2 (Ensembles en accord dâ€™une relation) - Lâ€™ensemble des attributs en accord
dâ€™une relation r est dÃ©fini comme suit :
ACCORDS(r) = {ACC(ti, tj) | ti, tj âˆˆ r et i 6= j}
Cet ensemble peut Ãªtre redÃ©fini de maniÃ¨re Ã©quivalente :
ACCORDS(r) = {ACC(T ) | âˆ€T âŠ† r et |T | â‰¥ 2}
Exemple 3.1 - Avec la relation LOGEMENT, ACC(t2, t5) = PV car ces deux tuples partagent
la mÃªme valeur sur les attributs Prix, Voisins et ont des valeurs diffÃ©rentes pour Ã‰loignement,
Consommation. De mÃªme, ACC({t3, t4, t5}) = E car ces trois tuples ont la mÃªme valeur
uniquement pour le critÃ¨re Ã‰loignement. Lâ€™ensemble des ensembles dâ€™attributs en accord de la
relation LOGEMENT est le suivant : ACCORDS(LOGEMENT) = {âˆ…, E, P, V, C, PV,ECV }.
Treillis des concepts SKYLINES
DÃ©finition 3.3 (Classe dâ€™Ã©quivalence dâ€™un tuple) - Soit r une relation et C âŠ† C un ensemble
de critÃ¨res. La classe dâ€™un tuple t selon C, notÃ©e [t]C , est dÃ©finie comme lâ€™ensemble des iden-
tifiants i (Rowid) de tous les tuples ti âˆˆ r en accord avec t selon C (i.e. lâ€™ensemble des
identifiants des tuples ti partageant avec t les mÃªmes valeurs pour C). Nous avons donc :
[t]C = {i âˆˆ Tid(r) | ti[C] = t[C]}
Exemple 3.2 - Avec la relation LOGEMENT, [t2]P = {2, 5} car seuls les tuples t2 et t5 par-
tagent la mÃªme valeur sur le critÃ¨re Prix.
3.2 Concepts ACCORDS dâ€™une relation
Notre objectif est de dÃ©finir un treillis des concepts particulier se basant sur les ensembles
en accord et les partitions (Spyratos, 1987). Pour atteindre ce but, nous caractÃ©risons une ins-
tance de la connexion de Galois entre dâ€™une part le treillis des parties de lâ€™ensemble des critÃ¨res
et dâ€™autre part le treillis des partitions de lâ€™ensemble des identifiants de tuples. Cette connexion
nous permet de dÃ©river des opÃ©rateurs de fermeture duaux, de dÃ©finir un concept ACCORD et
de caractÃ©riser le treillis des concepts ACCORDS.
DÃ©finition 3.4 - Soit Rowid : r â†’ N une application qui associe Ã  chaque tuple un unique
entier naturel et Tid(r) = {Rowid(t) | t âˆˆ r}. Soit f , g deux applications entre les ensembles
ordonnÃ©s ã€ˆÎ (Tid(r)),vã€‰ 3 et ã€ˆP(C),âŠ†ã€‰ qui sont dÃ©finies comme suit :
f : ã€ˆÎ (T id(r)),vã€‰ âˆ’â†’ ã€ˆP(C),âŠ†ã€‰
pi 7âˆ’â†’
â‹‚
[t]âˆˆpi
ACC({ti | i âˆˆ [t]})
g : ã€ˆP(C),âŠ†ã€‰ âˆ’â†’ ã€ˆÎ (T id(r)),vã€‰
C 7âˆ’â†’ {[t]C | t âˆˆ r}
Pour un ensemble de critÃ¨res C, lâ€™ensemble des classes dâ€™Ã©quivalence selon C forme une
partition de Tid(r). Câ€™est la fonction g qui associe Ã  C cette partition des identifiants. Cette
derniÃ¨re est notÃ©e piC et dÃ©finie comme suit : piC = g(C). Lâ€™ensemble de toutes les partitions
piC possibles est notÃ© Î P(C). La fonction f fait lâ€™association inverse de g.
Exemple 3.3 - Avec la relation LOGEMENT, en prenant les ensembles de critÃ¨res E, EC,
ECV et PV , on a g(E) = {12,345}, g(EC) = {1,2,35,4}, g(ECV ) = {1,2,35,4} et
g(PV ) = {1,25,3,4}. Avec les partitions {1,2,35,4} et {1,2,345}, on a f({1,2,35,4}) =
ECV et f({1,2,345}) = E.
Proposition 3.1 - Le couple dâ€™applications gc = (f, g) est une connexion de Galois entre le
treillis des parties des critÃ¨res C et le treillis des partitions de Tid(r).
DÃ©finition 3.5 (OpÃ©rateurs de fermeture) - Le couple gc = (f, g) Ã©tant un cas particulier de
la connexion de Galois, les compositions f â—¦g et gâ—¦f des deux applications sont des opÃ©rateurs
3. La dÃ©finition du treillis des partitions Î (E) dâ€™un ensemble E est donnÃ©e dans la version Ã©tendue de ce papier
(http://hal.archives-ouvertes.fr/hal-00528668/fr/).
S. Nedjar, F. Pesci, L. Lakhal & R. Cicchetti
de fermeture (Ganter et Wille, 1999) dÃ©finis ci-dessous.
h : P(C) âˆ’â†’ P(C)
C 7âˆ’â†’ f(g(C)) =
â‹‚
Câ€²âˆˆACCORDS(r)
CâŠ†Câ€²
Câ€²
hâ€² : Î (T id(r)) âˆ’â†’ Î (T id(r))
pi 7âˆ’â†’ g(f(pi)) = â€¢
piâ€²âˆˆÎ P(C)
pivpiâ€²
piâ€²
Exemple 3.4 - Avec la relation LOGEMENT, en prenant les ensembles de critÃ¨res EC et
ECV , dâ€™aprÃ¨s lâ€™exemple prÃ©cÃ©dent on a : h(EC) = f(g(EC)) = f({1,2,35,4}) = ECV ,
h(ECV ) = f(g(ECV )) = f({1,2,35,4}) = ECV .
Avec les partitions {1,2,35,4} et {1,2,345}, on a : hâ€²({1,2,35,4}) = g(f({1,2,35,4})) =
g(ECV ) = {1,2,35,4}, hâ€²({1,2,345}) = g(f({1,2,345})) = g(E) = {12,345}.
DÃ©finition 3.6 (Concepts ACCORDS) - Un concept ACCORD dâ€™une relation r est un couple
(C, pi) associant un ensemble de critÃ¨res Ã  une partition des identifiants : C âˆˆ P(C) et pi âˆˆ
Î (Tid(r)). Les Ã©lÃ©ments de ce couple doivent Ãªtre liÃ©s par les conditions suivantes :C = f(pi)
, pi = g(C) = piC . Soit ca = (Cca , pica) un concept ACCORD de r, nous appelons pica
lâ€™extension de ca (notÃ©e ext(ca)) et Cca son intension (notÃ©e int(ca)). Lâ€™ensemble de tous les
concepts ACCORDS dâ€™une relation r est notÃ© CONCEPTSACCORDS(r).
ThÃ©orÃ¨me 3.1 (Treillis des concepts ACCORDS) - Soit CONCEPTSACCORDS(r) lâ€™ensemble
des concepts ACCORDS dâ€™une relation r. Lâ€™ensemble ordonnÃ© ã€ˆCONCEPTSACCORDS(r),â‰¤ 4ã€‰
forme un treillis complet nommÃ© treillis des concepts ACCORDS. Pour tout concept P âŠ†
CONCEPTSACCORDS(r), lâ€™infimum ou borne infÃ©rieure (
âˆ§
) et supremum ou borne supÃ©rieure
(
âˆ¨
) sont donnÃ©s ci-aprÃ¨s :âˆ§
P = (
â‹‚
caâˆˆP
int(ca), h
â€²( +
caâˆˆP
ext(ca))),
âˆ¨
P = (h(
â‹ƒ
caâˆˆP
int(ca)), â€¢
caâˆˆP
ext(ca))
Exemple 3.5 - La figure 1 donne le diagramme de Hasse du treillis des concepts ACCORDS
de la relation LOGEMENT. Le couple (ECV, {1,2,35,4}) est un concept ACCORD car dâ€™aprÃ¨s
les exemples prÃ©cÃ©dents on a g(ECV ) = {1,2,35,4} et f({1,2,35,4}) = ECV . Ã€ lâ€™inverse le
couple (EC, {1,2,35,4}) ne constitue pas un concept ACCORD car f({1,2,35,4}) 6= EC. Soit
ca = (ECV, {1,2,35,4}) et cb = (PV, {1, 25, 3, 4}) deux concepts ACCORDS, nous avons
donc : ca âˆ§ cb = (ECV âˆ© PV, hâ€²({1, 2, 35, 4}+{1, 25, 3, 4})) = (V, hâ€²({1, 235, 4})) =
(V, {1, 235, 4}) et caâˆ¨cb = (h(ECV âˆªPV ), {1, 2, 35, 4} â€¢{1, 25, 3, 4}) = (h(PECV ), {1, 2,
3, 4, 5}) = (PECV, {1, 2, 3, 4, 5}).
Proposition 3.2 - Pour tout ensemble de critÃ¨res C âŠ† C, la partition associÃ©e piC est identique
Ã  la partition de sa fermeture.
âˆ€C âŠ† C, piC = pih(C)
Exemple 3.6 - Avec la relation LOGEMENT, en prenant comme ensemble de critÃ¨res EC,
dâ€™aprÃ¨s les exemples 3.3 et 3.4, on a : piEC = g(EC) = {1,2,35,4} et pih(EC) = g(h(EC)) =
g(ECV ) = {1,2,35,4}.
La proposition prÃ©cÃ©dente signifie que la fermeture dâ€™un ensemble de critÃ¨res C peut Ãªtre
vue comme le plus grand sur-ensemble de C ayant la mÃªme partition.
4. Soit (C1, pi1), (C2, pi2) âˆˆ CONCEPTSACCORDS(r), (C1, pi1) â‰¤ (C2, pi2)â‡” C1 âŠ† C2 (ou pi2 v pi1).
Treillis des concepts SKYLINES
(âˆ…, {12345})
(P, {13,25,4}) (V, {1,235,4}) (E, {12,345}) (C, {1,24,35})
(PV, {1,25,3,4}) (ECV, {1,2,35,4})
(PECV, {1,2,3,4,5})
FIG. 1 â€“ Diagramme de Hasse du treillis des concepts ACCORDS de la relation LOGEMENT
4 Treillis des Concepts SKYLINES pour la matÃ©rialisation
partielle du SKYCUBE
Le treillis des concepts SKYLINES est un treillis des concepts ACCORDS contraints. Nous
dÃ©montrons une propriÃ©tÃ© fondamentale de notre treillis nous permettant de ne matÃ©rialiser que
partiellement le SKYCUBE en Ã©liminant certains cuboÃ¯des. Nous montrons ensuite comment de
tels cuboÃ¯des peuvent Ãªtre reconstruits facilement.
4.1 Treillis des concepts SKYLINES
Soit piC une partition de r surC. Par dÃ©finition, les tuples dâ€™une mÃªme classe dâ€™Ã©quivalence
[t]C âˆˆ piC sont indistinguables sur C (ils partagent tous la mÃªme projection sur C). Si t est non
dominÃ© sur C, il en sera de mÃªme pour tous les autres tuples de sa classe (et rÃ©ciproquement).
Il suffit donc de tester la dominance dâ€™un seul tuple dâ€™une classe pour savoir si lâ€™ensemble
des tuples de la classe appartient ou non au SkycuboÃ¯de selon C. Ainsi, pour optimiser le
calcul dâ€™un SkycuboÃ¯de selon C Ã  partir de sa partition piC , on conserve uniquement un seul
reprÃ©sentant de chaque classe dâ€™Ã©quivalence. Cet ensemble est notÃ© reps(piC). On diminue
alors la taille de lâ€™entrÃ©e en Ã©liminant les tuples qui auraient conduit Ã  un grand nombre de
comparaisons inutiles. Pour prendre en compte les particularitÃ©s du calcul de lâ€™opÃ©rateur SKY-
LINE sur une partition, nous introduisons lâ€™opÃ©rateur suivant.
DÃ©finition 4.1 - Soit C un ensemble de critÃ¨res et pi une partition de r. On dÃ©finit un nouvel
opÃ©rateur Î -SKY de la maniÃ¨re suivante :
Î -SKYC(piC) = {[ti] âˆˆ piC | âˆ€tj âˆˆ r on a tj C ti}
= {[ti] âˆˆ piC | ti âˆˆ SKYC(r)}
DÃ©finition 4.2 (Concepts SKYLINES) - Soit ca = (C, pi) âˆˆ CONCEPTSACCORDS(r) un
concept ACCORD dâ€™une relation r. Le concept SKYLINE associÃ© cs est dÃ©fini de la maniÃ¨re
suivante :
cs = (C,Î -SKYC(pi))
Il y a exactement autant de concepts SKYLINES que de concepts ACCORDS. Lâ€™ensemble des
concepts SKYLINES associÃ©s aux concepts ACCORDS de r est notÃ© CONCEPTSSKYLINES(r).
Les concepts SKYLINES sont des concepts ACCORDS oÃ¹ les partitions ont Ã©tÃ© contraintes.
Ainsi, ce type de concept nâ€™est plus forcÃ©ment ordonnÃ© par la relation v entre partitions. La
S. Nedjar, F. Pesci, L. Lakhal & R. Cicchetti
(âˆ…, {12345})
(P, {25}) (V, {235}) (E, {345}) (C, {24})
(PV, {25}) (ECV, {2,35,4})
(PECV, {2,4,5})
FIG. 2 â€“ Diagramme de Hasse du treillis des concepts SKYLINES de la relation LOGEMENT
relation dâ€™ordre â‰¤ entre concepts SKYLINES sâ€™exprime donc de la maniÃ¨re suivante : Pour
tout (C1,Î -SKYC1(pi1)), (C2,Î -SKYC2(pi2)) âˆˆ CONCEPTSSKYLINES(r), nous avons alors
(C1,Î -SKYC1(pi1)) â‰¤ (C2,Î -SKYC2(pi2))â‡” C1 âŠ† C2.
DÃ©finition 4.3 (Treillis des concepts SKYLINES) -
Lâ€™ensemble ordonnÃ© ã€ˆCONCEPTSSKYLINES(r),â‰¤ã€‰ forme un treillis complet nommÃ© treillis
des concepts SKYLINES. Il est isomorphe au treillis des concepts ACCORDS.
Exemple 4.1 - Dâ€™aprÃ¨s lâ€™exemple 3.5, le couple ca = (ECV, {1,2,35,4}) est un concept
ACCORD. Le concept SKYLINE cs associÃ© est cs = (ECV,Î -SKYECV ({1, 2, 35, 4})) =
(ECV, {2, 35, 4}). Lâ€™identifiant 1 est Ã©liminÃ© de lâ€™extension par lâ€™opÃ©rateurÎ -SKY car le tuple
t1 est dominÃ© par t2. La figure 2 donne le diagramme de Hasse du treillis des concepts SKY-
LINES de la relation LOGEMENT.
4.2 MatÃ©rialisation partielle du SKYCUBE
Ce paragraphe propose le treillis des concepts SKYLINES comme une matÃ©rialisation par-
tielle des SKYCUBES. Lâ€™idÃ©e sous-jacente, afin dâ€™obtenir une reprÃ©sentation rÃ©duite, est dâ€™Ã©li-
miner les cuboÃ¯des les plus efficacement reconstructibles.
DÃ©finition 4.4 (Condition de non accord) - Soit r une relation et C un ensemble de critÃ¨res.
La condition CNAC(r) est vÃ©rifiÃ©e quand :
@ti, tj âˆˆ r tels que ti[C] = tj [C] avec i 6= j, C âŠ† C
Lorsque CNAC(r) est vÃ©rifiÃ©e, CNAX(r) lâ€™est aussi avec X un sur-ensemble de C.
Cette condition de non accord est une version Â« affaiblie Â» de la condition de valeurs dis-
tinctes (Yuan et al., 2005) puisquâ€™elle sâ€™applique sur les projections et non pas sur les valeurs
individuelles de chacun des critÃ¨res.
DÃ©finition 4.5 (Dominance sous CNA) - Soit C âŠ† C un ensemble de critÃ¨res et r une relation.
La relation de dominance t C t sous lâ€™hypothÃ¨se CNAC(r) sâ€™exprime plus simplement :
Soit C tel que CNAC(r), âˆ€ti, tj âˆˆ r on a tj C ti ssi âˆ€c âˆˆ C, tj [c] â‰¤ ti[c] avec i 6= j
Lemme 4.1 - Soit r une relation. Pour tout ensemble de critÃ¨res C âŠ† C vÃ©rifiant lâ€™hypothÃ¨se
de non accord CNAC(r), on a SKYC(r) âŠ† SKYCâˆªc0(r) avec c0 âˆˆ C r C.
Le contre exemple suivant montre que la propriÃ©tÃ© rÃ©ciproque nâ€™est pas vÃ©rifiÃ©e.
Treillis des concepts SKYLINES
Exemple 4.2 - Soit r = {t1, t2} une relation (avec t1 = (0, 1) et t2 = (1, 0)) et C = {A,B}
lâ€™ensemble de ses critÃ¨res. La condition CNAA(r) est bien vÃ©rifiÃ©e. On a t2 /âˆˆ SKYA(r) car
t1 A t2 alors que t2 appartient bien Ã  SKYAâˆªB(r).
Corollaire 4.1 - Soit C tel que CNAC(r) est vÃ©rifiÃ©e. Par dÃ©finition, pour tout X (C âŠ† X)
vÃ©rifiant la condition CNAX(r), on a SKYC(r) âŠ† SKYX(r).
Cette propriÃ©tÃ© est satisfaite pour tout sur-ensemble de C jusquâ€™Ã  lâ€™ensemble de tous les
critÃ¨res C.
ThÃ©orÃ¨me 4.1 (ThÃ©orÃ¨me fondamental) - Soit r une relation, C un ensemble de critÃ¨res et
h(C) sa fermeture. Alors :
âˆ€C âŠ† C on a SKYC(r) âŠ† SKYh(C)(r)
Exemple 4.3 - Dans la relation LOGEMENT, on a SKYEC(LOGEMENT) = {t4}. De plus,
h(EC) = ECV et SKYECV (LOGEMENT) = {t2, t3, t5, t4}. Lâ€™inclusion SKYEC(LOGE-
MENT) âŠ† SKYh(EC)(LOGEMENT) est donc bien vÃ©rifiÃ©e. Aussi, on a SKYE(LOGEMENT) =
{t3, t4, t5} avec h(E) = E. On note donc SKYE(LOGEMENT) * SKYEC(LOGEMENT).
Le thÃ©orÃ¨me prÃ©cÃ©dent montre une inclusion entre certains cuboÃ¯des. Plus exactement, pour
tout ensemble de critÃ¨res, il y a une chaÃ®ne dâ€™inclusions allant de ses gÃ©nÃ©rateurs minimaux jus-
quâ€™Ã  sa fermeture. Cela implique que lâ€™on peut calculer un cuboÃ¯de Ã  partir dâ€™un autre qui le
contient. Ainsi au lieu dâ€™utiliser la relation complÃ¨te, on ne considÃ¨re quâ€™un sous-ensemble
restreint de celle-ci. Les concepts SKYLINES reprÃ©sentent les plus grands cuboÃ¯des (selon lâ€™in-
clusion) permettant dâ€™en calculer dâ€™autres. Ainsi en ne conservant que les concepts SKYLINES
(i.e. non matÃ©rialisation des cuboÃ¯des non fermÃ©s), on peut reconstruire rapidement les cu-
boÃ¯des manquants simplement en trouvant le fermÃ© Ã  partir duquel ils peuvent Ãªtre recalculÃ©s.
De plus grÃ¢ce Ã  la notion de classe dâ€™Ã©quivalence des concepts SKYLINES, on Ã©vite un
grand nombre de comparaisons inutiles. Les Ã©lÃ©ments indistinguables nâ€™Ã©tant considÃ©rÃ©s que
par groupes, la complexitÃ© du calcul ne dÃ©pend plus du nombre de tuples mais du nombre de
groupes (classes dâ€™Ã©quivalence).
Le treillis des concepts SKYLINES constitue donc une matÃ©rialisation partielle du SKYCU-
BE, oÃ¹ lâ€™information non matÃ©rialisÃ©e est efficacement recalculable.
5 Comparaison avec les travaux antÃ©rieurs
Lâ€™opÃ©rateur SKYLINE (BÃ¶rzsÃ¶nyi et al., 2001) sâ€™intÃ©resse Ã  trouver les Ã©lÃ©ments les plus
intÃ©ressants dans un contexte base de donnÃ©es. Il tire ses origines du maximal vector pro-
blem (Bentley et al., 1978). Cependant les particularitÃ©s du contexte font que des algorithmes
spÃ©cifiques ont Ã©tÃ© dÃ©veloppÃ©s. Les plus connus dâ€™entre eux sont BNL (BÃ¶rzsÃ¶nyi et al., 2001),
SFS (Chomicki et al., 2003), LESS (Godfrey et al., 2007). Dâ€™autres algorithmes plus efficaces
tels que BBS (Papadias et al., 2005) ont Ã©tÃ© proposÃ©s mais se basent sur des structures dâ€™index
coÃ»teuses Ã  maintenir.
Le SKYLINE Ã©tant un outil dâ€™aide Ã  la dÃ©cision, lâ€™utilisateur va gÃ©nÃ©ralement calculer plu-
sieurs SKYLINES avant de trouver celui qui lâ€™intÃ©resse vraiment. Pour rÃ©pondre Ã  cette pro-
blÃ©matique, le concept de SKYCUBE (Yuan et al., 2005; Pei et al., 2005) a Ã©tÃ© proposÃ©. Lâ€™idÃ©e
S. Nedjar, F. Pesci, L. Lakhal & R. Cicchetti
gÃ©nÃ©rale Ã©tant de prÃ©-calculer tous les SKYLINES, il est impÃ©ratif de restreindre autant que
possible le coÃ»t de stockage du rÃ©sultat.
Une premiÃ¨re approche de rÃ©duction a Ã©tÃ© proposÃ©e par Pei et al. (2006). Son objectif
est de rÃ©soudre le problÃ¨me de lâ€™appartenance dâ€™un objet donnÃ© Ã  diffÃ©rents SkycuboÃ¯des. Sa
solution consiste Ã  proposer une reprÃ©sentation du SKYCUBE fondÃ©e sur lâ€™analyse formelle
des concepts oÃ¹ chaque nÅ“ud correspond Ã  un couple composÃ© dâ€™une classe dâ€™Ã©quivalence
(ensemble dâ€™objets) et des sous-espaces dans lesquels elle est SKYLINE. Le principal dÃ©faut
de cette approche orientÃ©e valeur est que le nombre de nÅ“uds est bornÃ© par la cardinalitÃ© du
treillis des parties des tuples (|P(Tid(r))|). Les objets SKYLINES sont considÃ©rÃ©s avant tout,
ce qui fait que pour reconstruire un SkycuboÃ¯de il faut parcourir un grand nombre de nÅ“uds
du treillis. Dans les approches orientÃ©es attribut comme la nÃ´tre, le nombre de nÅ“uds est bien
plus restreint car il est bornÃ© par |P(C)|.
Une autre approche intÃ©ressante est celle de Xia et Zhang (2006). Elle est orientÃ©e cuboÃ¯de
(orientÃ©e attribut). Lâ€™objectif ici est de proposer une rÃ©duction trÃ¨s importante du SKYCUBE
en Ã©liminant les Ã©lÃ©ments considÃ©rÃ©s comme redondants des diffÃ©rents cuboÃ¯des. Son inconvÃ©-
nient est que la reconstruction dâ€™un SkycuboÃ¯de est dÃ©licate et relativement coÃ»teuse car il faut
parcourir une structure de donnÃ©es pour retrouver les Ã©lÃ©ments redondants. De plus, contrai-
rement Ã  lâ€™approche de Pei et al. (2006, 2007) et Ã  la nÃ´tre, celle-ci nâ€™est pas fondÃ©e sur un
support thÃ©orique aussi solide que lâ€™analyse des concepts formels. Cependant, lâ€™un des prin-
cipaux intÃ©rÃªts de cette approche en plus de la rÃ©duction importante du coÃ»t de stockage est
lâ€™efficacitÃ© de la mise Ã  jour des donnÃ©es.
Notre approche ayant pour objectif de reconstruire les SkycuboÃ¯des Ã  moindre coÃ»t, elle
se comporte idÃ©alement dans ce cas-lÃ . MalgrÃ© cette orientation ciblÃ©e, elle reprÃ©sente un bon
compromis que ce soit pour la mise Ã  jour ou pour la rÃ©duction de lâ€™espace de stockage.
6 Conclusion
Dans ce papier, nous avons proposÃ© le treillis des concepts SKYLINES qui est une instance
contrainte dâ€™un cadre formel plus gÃ©nÃ©ral : le treillis des concepts ACCORDS. Cette nouvelle
structure permet non seulement la matÃ©rialisation partielle sans perte dâ€™information mais aussi
la reconstruction efficace des cuboÃ¯des manquants. Nous pouvons facilement Ã©tendre notre
matÃ©rialisation au cas des -SKYLINES ou SKYLINES approximatifs (Papadias et al., 2005), en
gÃ©nÃ©ralisant la dÃ©finition dâ€™ensemble en accord en remplaÃ§ant lâ€™Ã©galitÃ© stricte par une Ã©galitÃ© Ã 
 prÃ¨s. Une telle extension permet Ã  lâ€™utilisateur de relÃ¢cher la contrainte de dominance lorsque
le nombre de rÃ©sultats nâ€™est pas suffisant.
Nous travaillons actuellement sur les aspects algorithmiques aussi bien pour le calcul du
treillis des concepts SKYLINES que pour la reconstruction des rÃ©sultats. Ce travail a pour ob-
jectif dâ€™Ã©valuer en pratique la contribution thÃ©orique dÃ©crite dans cet article.
RÃ©fÃ©rences
Beeri, C., M. Dowd, R. Fagin, et R. Statman (1984). On the structure of armstrong relations
for functional dependencies. J. ACM 31(1), 30â€“46.
Treillis des concepts SKYLINES
Bentley, J. L., H. T. Kung, M. Schkolnick, et C. D. Thompson (1978). On the average number
of maxima in a set of vectors and applications. J. ACM 25(4), 536â€“543.
BÃ¶rzsÃ¶nyi, S., D. Kossmann, et K. Stocker (2001). The skyline operator. In ICDE, pp. 421â€“
430. IEEE Computer Society.
Chomicki, J., P. Godfrey, J. Gryz, et D. Liang (2003). Skyline with presorting. In U. Dayal,
K. Ramamritham, et T. M. Vijayaraman (Eds.), ICDE, pp. 717â€“816. IEEE Computer So-
ciety.
Ganter, B. et R. Wille (1999). Formal Concept Analysis : Mathematical Foundations. Springer.
Godfrey, P., R. Shipley, et J. Gryz (2007). Algorithms and analyses for maximal vector com-
putation. VLDB J. 16(1), 5â€“28.
Lopes, S., J.-M. Petit, et L. Lakhal (2002). Functional and approximate dependency mining :
database and fca points of view. J. Exp. Theor. Artif. Intell. 14(2-3), 93â€“114.
Papadias, D., Y. Tao, G. Fu, et B. Seeger (2005). Progressive skyline computation in database
systems. ACM Trans. Database Syst. 30(1), 41â€“82.
Pei, J., A. W.-C. Fu, X. Lin, et H. Wang (2007). Computing compressed multidimensional
skyline cubes efficiently. In A. Dogac, T. Ozsu, et T. Sellis (Eds.), ICDE, pp. 96â€“105. IEEE.
Pei, J., W. Jin, M. Ester, et Y. Tao (2005). Catching the best views of skyline : A semantic
approach based on decisive subspaces. In VLDB, pp. 253â€“264.
Pei, J., Y. Yuan, X. Lin, W. Jin, M. Ester, Q. Liu, W.Wang, Y. Tao, J. X. Yu, et Q. Zhang (2006).
Towards multidimensional subspace skyline analysis. ACM Trans. Database Syst. 31(4),
1335â€“1381.
Spyratos, N. (1987). The partition model : A deductive database model. ACM Trans. Database
Syst. 12(1), 1â€“37.
Xia, T. et D. Zhang (2006). Refreshing the sky : the compressed skycube with efficient sup-
port for frequent updates. In S. Chaudhuri, V. Hristidis, et N. Polyzotis (Eds.), SIGMOD
Conference, pp. 491â€“502. ACM.
Yuan, Y., X. Lin, Q. Liu, W. Wang, J. X. Yu, et Q. Zhang (2005). Efficient computation of the
skyline cube. In VLDB, pp. 241â€“252.
Summary
The SKYLINE concept has been introduced in order to exhibit the best objects according to
all the criterion combinations and makes it possible to analyse the relationships between SKY-
LINE objets. Like the data cube, the SKYCUBE is so voluminous that reduction approaches
are really necessary. In this paper, we define an approach which partially materializes the
SKYCUBE. The underlying idea is to discard from the representation the skycuboids which
can be computed again easily. To meet this reduction objective, we characterize a formal
framework: the AGREE concept lattice. From this structure, we derive the SKYLINE concept
lattice which is one of its constrained instances. The strong points of our approach are: (i) it is
attribute oriented; (ii) it provides a boundary for the number of lattice nodes; (iii) it facilitates
the navigation within the Skycuboids.
