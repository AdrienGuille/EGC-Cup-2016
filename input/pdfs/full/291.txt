Moteur de questions-rÃ©ponses dâ€™une base de connaissances
Michel Pluâˆ—, Johannes Heineckeâˆ—
âˆ—Orange Labs
2 avenue Pierre Marzin
22307 Lannion cedex
{michel.plu, johannes.heinecke}@orange-ftgroup.com
RÃ©sumÃ©. Cet article prÃ©sente comment la gestion et lâ€™exploitation de connais-
sances issues du site web Wikipedia ont permis de dÃ©velopper une telle fonction
qui a Ã©tÃ© intÃ©grÃ©e dÃ©puis fÃ©vrier 2010 dans un moteur de recherche internet fran-
Ã§ais pour le grand public. Aujourdâ€™hui cette fonction est capable de rÃ©pondre Ã 
des questions formulÃ©es en langage naturelle sur environs 170 000 lieux ou per-
sonnes. La formalisation des donnÃ©es extraites de wikipedia en connaissances
au format OWL ou RDFS a permis de dÃ©duire de nouvelles informations man-
quantes, de typer les entitÃ©s nommÃ©es trouvÃ©es et de traiter de nouvelles formes
de questions qui Ã©taient non traitÃ©es.
1 Introduction
Une nouvelle tendance des moteurs de recherche sur le web est dâ€™enrichir leur liste rÃ©-
ponses en rÃ©pondant directementaË˜ aux questions posÃ©es dans les requÃªtes des utilisateurs. Par
exemple Ã  une requÃªte comme Â« population de la rÃ©gion bretagne Â», un tel moteur de recherche
affiche en premiÃ¨re rÃ©ponse Â« 3 120 288 habitants Â» alors quâ€™un moteur de recherche plus clas-
sique ne fournirait quâ€™une liste de documents.
Lâ€™utilitÃ© dâ€™une telle fonction appelÃ©e par la suite moteur de questions rÃ©ponses est Ã©vidente.
En trouvant directement la rÃ©ponse Ã  sa question, lâ€™utilisateur gagne du temps et est encouragÃ©
Ã  poser dâ€™autres questions. En effet, sans cette fonction lâ€™utilisateur est censÃ© parcourir les
documents ou leurs extraits proposÃ©s dans la liste rÃ©ponses pour Ã©ventuellement trouver la
rÃ©ponse attendue. Ce parcours de documents est le plus souvent fastidieux et inconfortable
pour lâ€™utilisateur qui doit chercher lui mÃªme la rÃ©ponse. Cette pÃ©nibilitÃ© est encore plus grande
lorsque le terminal est un tÃ©lÃ©phone mobile.
Le dÃ©veloppement dâ€™un moteur de questions rÃ©ponses comporte de nombreuses difficultÃ©s.
Lorsque celui-ci utilise une base de donnÃ©es pour rÃ©pondre aux questions, il faut tout dâ€™abord
transformer une requÃªte constituÃ©e de mots clÃ©s ou parfois dâ€™une phrase en langage naturel
en une requÃªte formelle comprÃ©hensible par le systÃ¨me de gestion de base de donnÃ©es utilisÃ©.
Ensuite, pour rÃ©pondre le plus prÃ©cisÃ©ment possible Ã  un maximum de rÃ©ponses, il faut dâ€™une
part disposer dâ€™un large ensemble de connaissances et dâ€™autre part Ãªtre capable de reconnaÃ®tre
le plus possible de formes de requÃªtes correspondant aux rÃ©ponses que lâ€™on peut produire.
Cet article prÃ©sente le dÃ©veloppement dâ€™un tel moteur de questions rÃ©ponses pour un mo-
teur de recherche web grand public accessible depuis trois portails internet franÃ§ais. La section
Moteur de questions-rÃ©ponses dâ€™une base de connaissances
suivante commence par dÃ©crire lâ€™architecture du moteur. La section 3 prÃ©sente lâ€™utilisation de
mÃ©canismes dâ€™infÃ©rences pour qualifier et Ã©tendre lâ€™ensemble des connaissances disponibles.
Enfin la section 4 conclu cet article et liste quelques perspectives dâ€™amÃ©liorations dans le cadre
dâ€™une vision plus gÃ©nÃ©rale dâ€™une interface utilisateur sur le web sÃ©mantique.
2 Architecture du moteur questions-rÃ©ponses
2.1 Le moteur de questions rÃ©ponses (front-office)
Lâ€™architecture globale du moteur de question rÃ©ponse qui est interrogÃ© est prÃ©sentÃ©e dans
la figure 1. Lâ€™utilisateur saisit dâ€™abord sa requÃªte textuelle via un navigateur web. Ce texte
	



	
	

		






	


	



 !
 ""
#
$%&

#'(()*+,*(+,(%	-	
..
%/	


	


   01"1 
2*
2
%/	
	


   01"1 
2*
2
	



	


* !* ""
2*
2
RequÃªte SQL
FIG. 1 â€“ Architecture du moteur questions-rÃ©ponses
est ensuite analysÃ© par un interprÃ©teur de requÃªtes. Cet interprÃ©teur est dÃ©veloppÃ© Ã  partir de
la plateforme de traitement automatique du langage naturelle Tilt (Heinecke et al., 2008). Il
permet la transformation dâ€™une requÃªtes Ã  base de mots en une requÃªte formelle soumise au
soumise Ã  une base de donnÃ©es. La rÃ©ponse est alors transformÃ©e pour Ãªtre insÃ©rÃ©e au debut de
la liste rÃ©ponse du moteur affichÃ©e dans le navigateur internet.
2.2 La gÃ©nÃ©ration des donnÃ©es (back-office)
Les donnÃ©es exploitÃ©es par le moteur de questions rÃ©ponses sont gÃ©nÃ©rÃ©es Ã  partir dâ€™un
systÃ¨me de gestion de base de connaissances (cf. fig. 2). Ces donnÃ©es sont dâ€™une part celles
stockÃ©es par la base de donnÃ©es et dâ€™autre part des donnÃ©es linguistiques utilisÃ©es par lâ€™in-
terprÃ©teur de requÃªtes. La base de connaissances utilisÃ©e est gÃ©rÃ©e par une base de donnÃ©es
Oracle Ã©tendu par un module sÃ©mantique (Oracle, 2010). Les connaissances sont modÃ©lisÃ©es
sous la forme de triplets RDF (http://www.w3.org/RDF/ ). Un triplet RDF est constituÃ© dâ€™un
sujet, dâ€™une propriÃ©tÃ© et dâ€™une valeur aussi appelÃ©e objet. Chacun de ces Ã©lÃ©ments est dÃ©fini
par une URI (http:// fr.wikipedia.org/wiki/Uniform_Resource_Identifier). Lâ€™objet dâ€™un triplet
peut aussi Ãªtre une chaine de caractÃ¨res quelconque. La base de connaissances utilisÃ©e gÃ¨re
actuellement plus de 13 millions de triplets. Ces triplets proviennent dâ€™une part du projet DB-
pedia (http://dbpedia.org/About) Ã  partir duquel nous avons rÃ©cupÃ©rÃ© : une ontologie en OWL
(http://www.w3.org/TR/owl-features/ ), la classification des URI utilsÃ©s et un ensemble de va-
leurs de propriÃ©tÃ©s de certains sujets issus dâ€™une analyse automatique des infobox des pages
M. Plu et al.

	
	


	










	












	











	













 
!!!"#$#!
%&
%

 
!!!"#$#!
%&
%

 
'&(!)&!$$
&&&
&&&



*+
, -

.
FIG. 2 â€“ Architecture de la base de connaissances
du site franÃ§ais de Wikipedia (http:// fr.wikipedia.org). Lâ€™infobox dâ€™une page Wikipedia cor-
respond Ã  un tableau de la page ayant un modÃ¨le ( template) bien structurÃ© et synthÃ©tisant des
propriÃ©tÃ©s caractÃ©ristiques du sujet traitÃ© dans la page.
Ces triplets dÃ©crivent environs 3,4 millions dâ€™instances et ont Ã©tÃ©s complÃ©tÃ©s a partir dâ€™une
autre analyse automatique que nous avons dÃ©veloppÃ©e pour les infobox de pages de Wikipedia
correspondant Ã  des lieux et Ã  des personnes pour lesquelles nous voulions avoir plus dâ€™infor-
mations. Ceci a permis dâ€™ajouter des nouvelles informations sur plus de 26 000 lieux et plus de
32 000 personnes.
La base de donnÃ©es interrogÃ©e par le moteur de question rÃ©ponse peut Ãªtre rÃ©guliÃ¨rement
mise Ã  jour Ã  partir de requÃªtes sur cette base de connaissance. Le support par celle-ci de re-
quÃªtes en SPARQL (http://www.w3.org/TR/rdf-sparql-query/ ) offre Ã  la fois une grande flexi-
bilitÃ© et la capacitÃ© dâ€™Ã©tendre sÃ©mantiquement la sÃ©lection de donnÃ©es. Par exemple une requÃªte
de lâ€™ensemble des propriÃ©tÃ©s de tous les sujets de type Â« Person Â» permet de rÃ©cupÃ©rer des sujets
de types plus spÃ©cifiques tels que Â« Actor Â» et Â« Musician Â» et lâ€™ensemble de leurs propriÃ©tÃ©s
disponibles dans la base mÃªme si celles-ci sont nouvelles et dÃ©finies pour trÃ¨s peu de sujets.
3 Gestion de la base de connaissances
3.1 Le besoin dâ€™infÃ©rences
Nous avons vu prÃ©cÃ©demment que les connaissances interrogÃ©es par le moteur de question
rÃ©ponses sont issues du site webWikipedia et de connaissances produites par le projet DBpedia
aussi issues du mÃªme site. Le principal intÃ©rÃªt des connaissances rÃ©utilisÃ©es de ce projet est la
classification des sujets traitÃ©s dans des classes organisÃ©es au sein dâ€™une ontologie Ã©crite dans
un format standard (OWL). Malheureusement cette classification nâ€™est faite que pour une partie
des sujets traitÃ©s dans les pages francophones de Wikipedia. Dans notre collecte seulement
66% des sujets avaient un type dÃ©fini dans les connaissances de DBpedia.
De plus, certaines entitÃ©s peuvent Ãªtre aussi trouvÃ©es comme valeur dâ€™une propriÃ©tÃ© sous la
forme dâ€™une chaÃ®ne de caractÃ¨res et non dâ€™une URI. Or cette entitÃ© ne correspond pas toujours
Ã  un sujet dâ€™une page existante de Wikipedia. Elle ne peut donc pas avoir dâ€™identifiant (URI)
dans DBpedia et il peut donc Ãªtre utile dâ€™en crÃ©er une pour notre usage dans le moteur de ques-
tions rÃ©ponses. Ces nouveaux sujets doivent aussi Ãªtre classÃ©s dans lâ€™ontologie de DBpedia.
Moteur de questions-rÃ©ponses dâ€™une base de connaissances
De mÃªme trÃ¨s peu des propriÃ©tÃ©s issues des infobox des pages franÃ§aises de Wikipedia sont
dÃ©finies dans lâ€™ontologie. Dans les donnÃ©es rÃ©utilisÃ©es de DBpedia seulement 13,5% des pro-
priÃ©tÃ©s utilisÃ©es pour dÃ©crire les sujets avaient des propriÃ©tÃ©s Â« domain Â» et Â« range Â» dÃ©finies.
Pour complÃ©ter ces connaissances manquantes nous avons dÃ©finis un mÃ©canisme dâ€™induction
permettant de dÃ©duire les valeurs des propriÃ©tÃ©s Â« domain Â» et Â« range Â» de certaines propriÃ©tÃ©s
Ã  partir du type connu de sujets et dâ€™objets de triplets prÃ©sents dans la base. Rappelons que ces
propriÃ©tÃ©s appelÃ©es par la suite respectivement domain et range, dÃ©finissent repsectivement la
classe des sujets et des objets dâ€™une propriÃ©tÃ©. Nous les utilisons pour infÃ©rer le la classe de
certaines URI comme nous le verrons ci-dessous.
Afin de pouvoir rÃ©pondre Ã  un maximum de question il est aussi intÃ©ressant de pouvoir
connaÃ®tre les valeurs dâ€™un maximum de propriÃ©tÃ©s. Or certaines valeurs de propriÃ©tÃ©s peuvent
Ãªtre dÃ©duites Ã  partir de connaissances existantes. Ces dÃ©ductions peuvent Ãªtre rÃ©alisÃ©es Ã  partir
de lâ€™Ã©criture spÃ©cifique de rÃ¨gles dâ€™infÃ©rences en chainage avant ou en exploitant la sÃ©mantique
des propriÃ©tÃ©s dÃ©finies dans RDFS ou OWL1.
3.2 Classification dâ€™entitÃ©s
La classification dâ€™entitÃ©s gÃ©rÃ©es par la base de connaissances se fait Ã  partir de la valeur
des propriÃ©tÃ©s Â« domain Â» et Â« range Â» des propriÃ©tÃ©s. En effet la sÃ©mantique de ces propriÃ©tÃ©s
implique respectivement que les sujets et respectivement les objets de ces propriÃ©tÃ©s sont de la
classe dÃ©finie par la valeur de ces propriÃ©tÃ©s Â« domain Â» et respectivement Â« range Â».
Pour pouvoir classer ainsi le maximum dâ€™entitÃ©s nous avons cherchÃ© Ã  calculer automa-
tiquement les Â« domain Â» et Â« range Â» de propriÃ©tÃ©s qui ne sont pas dans les connaissances
initiales. Afin de connaÃ®tre le domaine (resp. range) dâ€™une propriÃ©tÃ©, nous allons utiliser les
triplets avec cette propriÃ©tÃ© pour lesquelles la classe du sujet (respectivement de lâ€™objet) est
connue. Nous allons ensuite regrouper pour chaque propriÃ©tÃ© les classes des sujets (resp. ob-
ject) trouvÃ©s et conserver le nombre de triplets correspondant.
A lâ€™aide de la hiÃ©rarchie de classes de lâ€™ontologie de Dbpedia, les classes des sujets (resp
des objects) dâ€™une propriÃ©tÃ© sont remplacÃ©s par leur ancÃªtre commun le plus spÃ©cifique. Pre-
nons par exemple, la propriÃ©tÃ© Â« paysDeRÃ©sidence Â» dont voici les classes de sujets trouvÃ©s :
BritishRoyalty, Writer,Artist, Person, Scientist, OfficeHolder, Actor, PrimeMinister, Membe-
rOfParliament, Journalist, Criminal. Toutes ces classes sont des sous-classes de la classe Per-
son elles seront donc remplacÃ©es par la classe Person. Le domain proposÃ© pour cette propriÃ©tÃ©
sera donc la classe Person et sera justifiÃ©e par la somme des triplets associÃ©s Ã  chacune des
sous classes trouvÃ©es. Pour filtrer certaines propositions liÃ©es a des erreurs dans les infobox de
wikipedia, seules celles ayant une justification au dessus dâ€™un certain seuil sont conservÃ©es.
Dans notre base de connaissance collectÃ©e on a ainsi rÃ©ussit Ã  calculer le domain de 5 691
propriÃ©tÃ©s et le range de 850. Avec un filtrage du nombre de triplets supÃ©rieur Ã  10 et devant
reprÃ©sentÃ© plus de 60% des triplets, on a rÃ©ussi Ã  valider automatiquement 1 959 valeur de
domain et 81 valeurs de range
Une fois le domain et le range connu il est alors possible de classer les entitÃ©s trouvÃ©s
comme sujet ou objet dâ€™un triplet. Mais plusieurs classes peuvent Ãªtre parfois possible pour
une mÃªme URI. On ne conserve alors que lâ€™ancÃªtre commun le plus spÃ©cifique de ces classes.
Ce mÃ©canisme dâ€™infÃ©rence nous a permis de classifer 4 134 entitÃ©s de notre base.
1Cf. http://www.w3.org/TR/rdf-mt/#RDFSExtRules
M. Plu et al.
La connaissance du range de propriÃ©tÃ©s permet aussi de transformer les objets de triplets
de propriÃ©tÃ© qui au lieu dâ€™Ãªtre des identifiant dâ€™entitÃ©s (des URI) sont des chaÃ®nes de caractÃ¨res
quelconques. Pour cela, pour chacune de ces propriÃ©tÃ©s, on recherche une instance dont la
classe est une sous classe du range de la propriÃ©tÃ© et dont la valeur de lâ€™une de ses propriÃ©tÃ©s
label est similaire Ã  la chaÃ®ne de caractÃ¨res trouvÃ©e comme objet de la propriÃ©tÃ©. Plusieurs
mesures de similaritÃ© entre chaine sont utilisÃ©esaË˜ : similaritÃ© de prÃ©fixe, distance dâ€™edition,
similaritÃ© phonÃ©tique (Euzenat et Shvaiko, 2007). Lorquâ€™une telle substitution peut se faire
la chaine de caractÃ¨re initiale est ajoutÃ©e comme objet dâ€™une nouvelle propriÃ©tÃ© label pour
lâ€™entitÃ© trouvÃ©e afin dâ€™avoir plus dâ€™exemples de nommage de celle-ci. Cette transformation
va permettre de faire des jointures entre triplets nÃ©cessaires notamment nÃ©cessaire pour faire
certaines infÃ©rences Ã  partir de rÃ¨gles de dÃ©duction ou rÃ©pondre Ã  des requÃªtes plus complexes
de la forme Â« quel est le lieu de naissance de la femme de Brad Pitt ? Â».
Ces mÃ©canismes a permis de transformer 2 601 valeurs de triplet en une URI connue de la
base.
3.3 InfÃ©rences de nouvelles connaissances
Toujours dans lâ€™objectif de pouvoir rÃ©pondre Ã  plus de questions, nous avons identifiÃ© le
besoin de pouvoir complÃ©ter des valeurs absentes de propriÃ©tÃ©s pour certains sujets ou de dÃ©-
finir de nouvelles propriÃ©tÃ©s correspondant Ã  des questions des utilisateurs. Afin de faciliter
lâ€™ajout de tels calculs par des personnes responsables de lâ€™Ã©dition du service de questions rÃ©-
ponses, il est nÃ©cessaire de sÃ©parer leur dÃ©finition du code du logiciel de gestion de la base de
connaissances. Ces calculs sont donc dÃ©finis de maniÃ¨re dÃ©clarative par la dÃ©finition de rÃ¨gles
de productions ou par la dÃ©finition en RDFS ou OWL de propriÃ©tÃ©s sur les propriÃ©tÃ©s Ã  calcu-
ler. Afin de sâ€™affranchir des contraintes syntaxiques de chaque format, une interface utilisateur
permet dâ€™Ã©diter ces donnÃ©es. Lâ€™exemple de rÃ¨gles suivant illustre le type dâ€™infÃ©rence rÃ©alisÃ©e :
[ r_entraineur: (?joueur <http://dbpedia.org/property/club> ?club)
(?club <http://dbpedia.org/property/club> ?entraineur)
â†’ (?joueur <http://dbpedia.org/property/clubEntraineur> ?entraineur)]
Cette rÃ¨gle permet de complÃ©ter la propriÃ©tÃ© dÃ©signant lâ€™entraÃ®neur dâ€™un joueur Ã  partir de
la valeur de la propriÃ©tÃ© dÃ©signant lâ€™entraÃ®neur de son club. Ces rÃ¨gles sont exÃ©cutÃ©es par le
moteur de rÃ¨gles en chainage avant intÃ©grÃ© au framework Jena (http:// jena.sourceforge.net/
inference/#RULEforward).
Une autre maniÃ¨re de faire de lâ€™infÃ©rence est de dÃ©finir des relations de symÃ©trie et dâ€™in-
verse de propriÃ©tÃ©s. Ceci peut sâ€™exprimer avec le langage OWL Lite (http://www.w3.org/TR/
2004/REC-owl-features-20040210/#s2.1). Par exemple, la dÃ©finition que la relation conjoint
est symÃ©trique permet de complÃ©ter la valeur non dÃ©finie de cette propriÃ©tÃ© pour certains sujets.
Cela a ainsi permis de dÃ©duire la valeur manquante de plus de 3 500 propriÃ©tÃ©s conjoint. Autre
exemple, le fait les propriÃ©tÃ©s film_notable et acteur sont des relations inverses ont permis de
complÃ©ter la liste des films de certains acteurs. Ces propriÃ©tÃ©s en OWL sont exploitÃ©es par le
moteur de raisonnement OWL du framework Jena.
Moteur de questions-rÃ©ponses dâ€™une base de connaissances
4 Conclusion et perspectives
Nous avons prÃ©sentÃ© dans cet article comment exploiter les capacitÃ©s dâ€™une base de connais-
sances pour Ã©tendre les capacitÃ©s dâ€™un moteur de questions rÃ©ponses. Les connaissances for-
melles permettent la production de nouvelles donnÃ©es par diffÃ©rents mÃ©canismes dâ€™infÃ©rences
prÃ©sentÃ©s. La gÃ©nÃ©ration automatique de donnÃ©es linguistiques pour lâ€™interprÃ©teur de requÃªte
et des donnÃ©es interrogÃ©es par le moteur de question rÃ©ponses utilisent le langage de requÃªte
sÃ©mantique SPARQL. Ceci offre Ã  la fois une grande flexibilitÃ© et la capacitÃ© dâ€™Ã©tendre sÃ©-
mantiquement la sÃ©lection de donnÃ©es. Ces mÃ©canismes ont Ã©tÃ© validÃ©s dans un cas rÃ©el avec
une base de connaissance de plus de 13 milions de triplets. Une particularitÃ© notoire de ces
travaux est leur mise en opÃ©ration dans le moteur de recherche de trois portails internet fran-
Ã§ais (http://www.orange.fr, http://voila.fr, http:// lemoteur.fr) avec une capacitÃ© de traitement
de plus de 300 requÃªtes Ã  la seconde. Comparativement aux moteurs de recherche du web les
plus couramment utilisÃ©s, ce moteur de question rÃ©ponses est capable de rÃ©pondre Ã  beacoup
plus de questions grace aux connaissances infÃ©rÃ©es et Ã  lâ€™interprÃ©tation linguistique des re-
quÃªtes qui supporte de multiples formulations possibles dâ€™une mÃªme question y compris celles
comprenant certaines erreurs.
NÃ©anmoins, nous considÃ©rons cette rÃ©alisation comme un embryon de notre vision de ce
que devrait Ãªtre un futur moteur de recherche pour le web sÃ©mantique en plein dÃ©veloppement.
Remerciements
Nous remercions nos collÃ¨gues qui ont contribuÃ© aux travaux dÃ©crit dans cette article :
Emilie Guimier De Neef, Fanny Parganin, Arnaud Debeurme et les Ã©quipes de dÃ©veloppement
du moteur de recherche http://orange.fr.
RÃ©fÃ©rences
Euzenat, J. et P. Shvaiko (2007). Ontology Matching. Heidelberg : Springer.
Heinecke, J., G. Smits, C. Chardenon, E. Guimier De Neef, E. Maillebuau, et M. Boualem
(2008). TiLT : plate-forme pour le traitement automatique des langues naturelles. TAL 49 :2,
17â€“41.
Oracle (September 2010). Oracle database semantic technologies overview. http://download.
oracle.com/docs/cd/E11882_01/appdev.112/e11828/sdo_rdf_concepts.htm#CIHHEDAC.
Summary
This article presents how the knowledge extracted from Wikipedia is used to develop a
question-answering system, integrated in a search engine since February 2010. Currently the
engine responds on questions on about 170,000 localities and persons. The provided answers
are extracted from a knowledge base is formalized using the OWL and RDFS standards.
