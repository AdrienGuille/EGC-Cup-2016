Usage Des Mesures Pour La Génération Des Règles
d’Associations Cycliques
Eya Ben Ahmed∗, Ahlem Nabli∗∗
Faïez Gargouri∗∗∗
∗ Université de Tunis, Institut Supérieur de Gestion de Tunis
eya.benahmed@gmail.com
∗∗Université de Sfax, Faculté des Sciences de Sfax
ahlem.nabli@fsegs.rnu.tn
∗∗∗Université de Sfax, Institut Supérieur d’Informatique et de Multimédia de Sfax
faiez.gargouri@isimsf.rnu.tn
Résumé. L’analyse en ligne (OLAP) fournit aux utilisateurs une navigation in-
teractive des données multidimensionnelles. Cependant, aucun moyen pour ex-
pliquer les corrélations existantes entre les données n’est offert. Ainsi, le cou-
plage de l’OLAP et de la fouille de données, plus particulièrement les règles
d’association a efficacement apporté une solution satisfaisante à ce problème.
Dans ce cadre, on s’intéresse à une classe particulière de règles d’association
qui est les règles d’association cycliques. Ces règles visent la découverte de mo-
dèles qui se reproduisent périodiquement à des intervalles réguliers définis par
l’utilisateur. Généralement, les motifs générés ne prennent pas en considération
les spécificités du contexte multidimensionnel à savoir, l’existence des mesures
et leurs agrégations. Dans cet article, nous proposons une méthode d’extrac-
tion de règles d’association cycliques à partir de mesures et nous redéfinissons
les métriques d’évaluation de la qualité de ces motifs en s’inspirant de l’addi-
tivité temporelle des mesures à travers l’intégration des fonctions d’agrégation
appropriées. Pour prouver l’utilité de notre approche, nous menons une étude
empirique sur un entrepôt de données réel.
1 Introduction
Dans le modèle multidimensionnel, OLAP offre des capacités de modélisation analytique.
En effet, il peut générer des résumés, des agrégations, et des hiérarchies à chaque niveau de
granularité de dimension. Cependant, ces fonctionnalités sont limitées à une tâche interactive
exploratoire. Bien que l’utilisateur ne peut pas découvrir des modèles cachés ou expliquer de
telles régularités à partir de grandes quantités de données, le couplage des techniques de fouille
de données et de la technologie OLAP peut efficacement assurer ces tâches. Ainsi, l’utilisa-
teur pourra souvent naviguer dans l’entrepôt de données, sélectionner des portions de données
pertinentes, les analyser à des granularités différentes, et de fournir des connaissances sous plu-
sieurs formes (Kamber et al., 1997). Parmi les algorithmes de fouilles de données employés
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
dans ce cadre, on s’intéresse aux règles d’association et plus particulièrement aux règles d’as-
sociations cycliques (RAC). En fait, les règles d’association cycliques sont définies comme
des règles qui surviennent à des intervalles réguliers définis par l’utilisateur dans la base de
données. Par exemple, considérons le contexte donné par la table 1 où sont stockées les tran-
sactions trimestrielles d’une société tunisienne spécialisée dans la production pharmaceutique.
Un exemple de règle d’association cyclique extraite est " Trimestriellement, la gamme sous
licence est vendue en Jordanie". Comparé aux travaux consacrés à l’aspect algorithmique pour
l’extraction efficace des règles d’association cycliques [(Ozden et al., 1998), (Han et al., 1999),
(Thuan, 2004, 2008), (Ben Ahmed et Gouider, 2010)], seule l’étude de (Ben Ahmed et Gar-
gouri, 2010) a abordé la génération des règles d’association cycliques à partir de plusieurs
dimensions mais ce travail n’a pas tiré profit des spécificités structurelles du cube de données,
à savoir l’existence des mesures et lors prise en compte pour générer des règles d’association
cycliques à partir de mesures dans un contexte multi-dimensionnel.
Par contre, les règles d’association basées sur les mesures ont été initialement introduites
en utilisant la fonction COUNT (Han et al., 1999) où les valeurs globales exigées pour dé-
couvrir des règles d’association sont pré-calculées et sauvegardées dans une cellule COUNT
dans le cube de données. Le calcul du support et de la confiance est inspiré de ces valeurs dans
ces cellules. Une autre contribution propose une redéfinition de ces métriques en se basant
sur la fonction d’agrégation SUM (Ben Messaoud et al., 2006). Néanmoins, dans le processus
d’analyse, les utilisateurs se concentrent généralement sur des données multidimensionnelles
et leurs associations selon des mesures plus élaborées que des fréquences ou des simples ad-
ditions. Ainsi, la restriction des fonctions globales considérées au SUM et COUNT limite les
mesures considérées qui peuvent être sommables par d’autres fonctions et néglige l’évaluation
significative des motifs générés. En fait, certaines mesures ne peuvent pas être agrégées en uti-
lisant l’addition à travers aucune dimension. De telles mesures non-additives temporellement
sont fréquentes et renferment de la connaissance cachée que les experts peuvent extraire sous
forme de règles à partir d’un tel contexte (Plantevit et al., 2008). Pour mieux illustrer cette
problématique, nous proposons un exemple motivant notre apport.
2 Exemple et motivations
Nous supposons que la table T illustrée par la table 1, est définie par une dimension
temporelle, à savoir : le Temps T des transactions, et les trois mesures, à savoir : La Quantité
vendue Q, le Taux de Change TC, le Chiffre d’Affaires Externe CAE. Le premier tuple dans
la table T se rapporte au premier tuple quand la quantité vendue atteint 77520 unités et elle
est exportée avec un chiffre d’affaires externe égal à 750 selon un taux de change qui atteint
1.948%.
Temps Quantité vendue Taux de change Chiffre d’Affaires Externe
T Q TC CAE
Premier trimestre 2007 77520 1,948% 750
Second trimestre 2007 75000 1,947% 550
Troisième trimestre 2007 77520 1,948% 750
Quatrième trimestre 2007 80000 1,946% 900
Premier trimestre 2008 71100 1,382% 450
Second trimestre 2008 80000 1,382% 800
TAB. 1 – Table T
E. Ben Ahmed et al.
Cependant, la quantité vendue ne peut pas être sommée selon la dimension de temps, pa-
reillement, le taux de change n’est pas sommable sur aucune dimension, et le chiffre d’affaires
externe ne peut pas être expressivement agrégé par l’addition sur la dimension temporelle.
Nous visons l’extraction des règles d’association cycliques extraites à partir de ce contexte
multidimensionnel en se basant sur le concept d’additivité par rapport au temps caractérisant
les mesures du cube de données lors de l’évaluation des patterns générés. Par exemple, nous
visons la génération de règles d’association combinant plusieurs mesures selon le temps telles
que " Chaque trimestre impair, la quantité vendue atteint 77250 unités est vendue avec un
chiffre d’affaires externe arrivant à 750 selon un taux de change égal à 1.948% ". Les mé-
triques d’évaluation d’une telle règle sont basées sur les fonctions d’agrégation applicables sur
les mesures par rapport au temps.
A notre connaissance, peu de méthodes permettent l’extraction de motifs cycliques à partir
du contexte multidimensionnel contenant des mesures. L’originalité de notre approche est la
considération de telles mesures lors de l’extraction des motifs et la prise en compte du fait
qu’elles ne peuvent pas être agrégées en utilisant la fonction COUNT ou SUM par rapport au
temps. Par conséquent, nous redéfinissons les concepts de base de cette fouille articulée sur les
mesures ainsi que les métriques d’évaluation des règles par le biais des fonctions d’agrégations
appropriées.
Cet article est organisé comme suit. Dans la section 3, nous présentons un aperçu sur la
discrétisation des attributs quantitatifs, particulièrement dans le contexte multidimensionnel.
Puis, nous présentons les motifs cycliques. Ensuite, nous passons en revue les travaux anté-
rieurs dédiés à l’extraction de règles multidimensionnelles. Nous clôturons cette section par la
présentation du concept d’additivité de mesure par rapport au temps. Dans la section 4, nous
introduisons nos propres concepts de base. La section 5 décrit notre contribution. La section 6
détaille le fonctionnement de notre algorithme. Dans la section 7, nous menons une étude em-
pirique qui prouve l’utilité de notre algorithme. La conclusion et les perspectives font l’objet
de la section 8.
3 Panorama des travaux antérieurs
Dans cette section, nous présentons un survol des techniques permettant la discrétisation
des attributs quantitatifs. Puis, nous nous intéressons au processus d’extraction en présentant
un aperçu de la littérature dédiée aux règles d’association multidimensionnelles. Enfin, nous
introduisons le concept d’additivité temporelle des mesures.
3.1 Discrétisation des attributs quantitatifs
De nombreuses techniques de discrétisation sont utilisées pour transformer les attributs
quantitatifs en des attributs qualitatifs (catégoriques) Liu et al. (2002), à savoir, (i)Largeur
égale qui divise les valeurs possibles en N intervalles ; (ii) Fréquence égale qui divise les
valeurs possibles en intervalles de même taille N ; (iii) Discrétisation basée sur l’entropie
qui utilise la distribution de classe dans la détermination des points de partitionnement ; (iv)
Discrétisation basée sur le clustering pour partitionner les valeurs en groupes ; (v) Binning
employant la technique 1R DISCRETIZER de Holte pour calculer l’erreur résultante lors du
partitionnement des intervalles ; (vi) Dépendance à travers plusieurs techniques telles que χ2
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
ou STATISTIC Liu et Setiono (1995). Ces techniques déterminent la similitude des intervalles
adjacents à travers la mesure du niveau de signification.
Dans le contexte multidimensionnel, Palaniappan et Hong (2008) ont pu démontrer que
les méthodes simples de discrétisation (i.e. largeur égale et fréquence égale) aboutissent à des
résultats respectables et consomment significativement moins de temps.
3.1.1 Motifs cycliques
Plusieurs travaux de recherches sont menés sur l’extraction des RAC. Initialement, ce pro-
blème est abordé par Ozden et al. (1998). Il s’agit de l’extraction de règles d’association à partir
d’articles caractérisés par leur variation régulière au fil du temps. En effet, ces règles d’asso-
ciation peuvent mettre en exergue la variation régulière naturellement cyclique, qui peut être
quotidienne, hebdomadaire, trimestrielle ou annuelle. La découverte de telles régularités dans
le comportement des règles d’association permettent d’améliorer, par exemple, les services du
marketing à travers une meilleure identification des tendances de ventes et une prédiction per-
tinente de futures demandes. Les données dans l’analyse transactionnelle sont horodatés et les
intervalles de temps sont spécifiés par l’utilisateur divisant les données en segments disjoints,
les utilisateurs optent pour une segmentation des données "naturelle" basée sur les mois, se-
maines, jours, etc. En effet, les utilisateurs sont les plus capables de déterminer telle valeur vue
leur compréhension des données.
Nous présentons brièvement les concepts de base liés aux motifs cycliques. Un cycle est
une période dans le temps caractérisée par sa longueur (un trimestre dans notre cas). La base
de données est donc considérée comme un ensemble de cycles de longueur fixe désignée par
l’utilisateur. Un item cyclique est une valeur affectée à l’attribut produit et qui se répète cy-
cliquement selon la longueur du cycle (Gamme sous licence est vendue chaque trimestre de
2007). Un itemset cyclique est un ensemble d’items cycliques. Par exemple (Gamme sous li-
cence, modèle hôpital ) est un itemset cyclique s’il apparaît durant le premier et le second
trimestre de 2007. Un item cyclique est fréquent, dans notre cas d’étude, si cet item a été
acheté un nombre de fois supérieur à un seuil prédéfini pour la période de cycle considérée. Le
défi des algorithmes de fouille de données cycliques est l’extraction la plus efficace des motifs
cycliques fréquents. Plusieurs algorithmes ont été alors proposés tels que INTERLEAVED et
SÉQUENTIEL introduits par Ozden et al. (1998) ou MTP présenté par Thuan (2004, 2008) ou
la méthode de Chiang qui combine les motifs cycliques et séquentiels Chiang et al. (2009),
ou encore PCAR proposé par Ben Ahmed et Gouider (2010). Ces propositions reposent sur le
paradigme Générer/Elaguer où les candidats sont générés puis les non fréquents sont élagués.
3.2 Dérivation des règles d’association multidimensionnelles
Dans cette sous-section, on présente un survol de l’état de l’art. Plusieurs travaux ont généré
des règles sans prise en compte de mesure lors de l’extraction des motifs multidimensionnels.
Tout d’abord, (Kamber et al., 1997) ont introduit deux algorithmes pour l’extraction des règles
d’association à partir d’un cube de données sous contraintes 1.
1. Elles s’articulent sur la formalisation des attentes des experts à travers la spécification du type de la connais-
sance, ou des contraintes sur les données ou des contraintes d’intérêts ou des contraintes sur les règles.
E. Ben Ahmed et al.
Méthode Temporalité Hiérarchie Contraintes Evaluation de la règle
N
on
te
m
po
re
lle
s
Sé
qu
en
tie
lle
s
C
yc
liq
ue
s
un
i-
ni
ve
au
M
ul
ti-
ni
ve
au
x
So
us
co
nt
ra
in
te
s
Sa
ns
co
nt
ra
in
te
s
C
O
U
N
T
SU
M
To
ut
es
le
sf
on
ct
io
ns
(Kamber et al.,1997) x x x x
(Zhu,1998) x x x x
(Odzen et al.,1998) x x x x
(Nestorov et Jukic,2003) x x x x
(Thuan,2004,2008) x x x x
(Tjioe et Taniar,2005) x x x x
(Plantevit et al.,2005) x x x x
(Ben Messaoud et al.,2006) x x x x
(Chiang et al.,2009) x x x x x
(Plantevit et al.,2009) x x x x
(Plantevit et al.,2010) x x x x
(Ben Ahmed et Gouider,2010) x x x x
(Ben Ahmed et Gargouri,2010) x x x
(Notre approche, 2011) x x x x
FIG. 1 – Comparaison des approches dédiées aux RAC et aux règles d’association multidi-
mensionnelles.
Une autre proposition 2 présentée par (Zhu, 1998) a validé le même choix. (Nestorov et
Jukic, 2003) ont proposé la dérivation des règles d’association des entrepôts de données en
utilisant les requêtes. (Tjioe et Taniar, 2005) génèrent les associations à partir de plusieurs
dimensions en se focalisant sur les données résumées. (Plantevit et al., 2005) proposent une
nouvelle définition des motifs séquentiels multidimensionnels. (Ben Messaoud et al., 2006)
proposent d’utiliser la mesure afin de calculer le support et la confiance des règles d’association
multidimensionnelles. (Plantevit et al., 2010) dérivent des motifs séquentiels multi-niveaux 3.
Dans la même optique, (Ben Ahmed et Gargouri, 2010) ont introduit la génération de motifs
cycliques multidimensionnels à partir de plusieurs dimensions.
Toutes ces approches génèrent des règles multidimensionnelles exclusivement à partir des
dimensions sans aucune considération des mesures lors de l’extraction des motifs. Seule la
contribution de (Plantevit et al., 2008) initie au problème d’extraction de règles contenant des
mesures à partir du cube. Comme le montre la figure 1, les méthodes proposées sont limitées à
l’utilisation des mesures dans le cadre de l’évaluation des règles d’associations en employant
les fonctions COUNT ou SUM. Néanmoins, dans des situations réelles, les mesures peuvent
être corrélées et le cumul de certains attributs peut être sémantiquement non significatif par
rapport à la dimension temporelle. Pour cette raison, l’utilisation exclusive et limitée aux deux
fonctions COUNT et SUM est la plupart du temps inadéquate vu qu’elle induit à la génération
de règles incorrectement évaluées.
2. Classifiant les règles en intra-dimensionnelles (générées à partir d’une seule dimension.), inter-dimensionnelles
(extraites à partir de deux dimensions ou plus) et hybrides (extraites à partir de plusieurs dimensions avec des prédicats
répétitifs).
3. Vue la difficulté de trouver des associations robustes à partir de données élémentaires, les règles multi-niveaux
permettent de regrouper les données élémentaires en classes plus générales.
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
3.3 Additivité temporelle des mesures
Lenz et Shoshani (1997) distinguent trois types de mesures : mesure de type flot, mesure de
type stock et mesure de type unité. Cette catégorisation détermine les opérateurs d’agrégation
utilisables pour chaque mesure par rapport au temps.
(i)Mesure additive (de type flot) : Ses valeurs peuvent être combinées de façon significative
pour n’importe quelle dimension. Par exemple, il est judicieux de sommer le total des ventes
ou le chiffre d’affaires externe par rapport au temps, cela ne provoquera pas de chevauchement
entre les phénomènes du monde réel que peuvent engendre les valeurs individuelles.
(ii) Mesure semi-additive (de type stock) : Ses valeurs ne peuvent être sommées sur une
ou plusieurs des dimensions, le plus souvent la dimension temporelle. Généralement elles sont
alliées à des faits instantanés. Par exemple, la sommation de l’inventaire d’une gamme spéci-
fique telle que la gamme sous licence n’a pas de signification car les valeurs seront comptées
plusieurs fois, mais il est utile de résumer les niveaux d’inventaire des différentes gammes.
(iii) Mesure non additive (de type unité) : Ses valeurs ne peuvent pas être sommées sur
aucune dimension. Des exemples typiques sont les prix des articles ou des gammes et le coût
par unité d’une gamme telle que le modèle hôpital.
Dans cet article, nous utilisons la notion d’additivité des mesures par rapport aux hiérar-
chies temporelles proposée par Lenz et Shoshani (1997) pour introduire un processus de fouille
de règles d’associations cycliques doté d’une évaluation spécifique de chaque mesure dépen-
damment des fonctions d’agrégation qui lui sont appropriées. Pour ce faire, un algorithme
inspiré de l’Apriori Agrawal et al. est introduit tout en intégrant les mesures dans les règles
cycliques extraites des cubes en un premier volet. L’intégration de l’additivité temporelle des
mesures lors du calcul des métriques d’évaluation des règles, à savoir le support et la confiance
des règles d’association est la contribution majeure dans un second volet.
4 Formalisme et notions de base
Dans cette section, nous proposons nos concepts de base inspirés des travaux de Plantevit
et al. (2005).
4.1 Partition du Contexte
Nous considérons que tout est ensemble dans un contexte multidimensionnel. Les trois
données nécessaires pour l’extraction de motifs cycliques dans un contexte classique (Client,
Produit, Date) deviennent dans un contexte multidimensionnel des ensembles.
Considérons une table relationnelle T , où les transactions effectuées par les clients y sont
stockées, définie sur une dimension temporelle et un ensemble M de m mesures. La table est
partitionnée en deux ensembles :
1. Contexte endogène composé d’une dimension temporelleDT et des mesures de contexte
MC inclues dans le processus d’analyse ;
2. Contexte Exogène lié à toutes les dimensions et les mesures exclues de l’analyse.
Nous nous concentrons dans ce qui suit sur le contexte endogène.
E. Ben Ahmed et al.
4.1.1 Mesures de contexte
Les mesures de contexteMC peuvent être partitionnées en deux sous-catégories :
(i) Mesure de Référence M R (table est partitionnée en fonction des valeurs affectées aux
mesures de référence) ;
(ii) Mesure d’analyseM A (tuples contenant les valeurs de mesure qui seront exploitées pour
extraire des tendances cycliques).
Les mesures d’analyse peuvent être divisées en quatre sous-catégories :
– Ensemble de mesures additivesM SUM lorsque la fonction SUM peut être utilisée pour
l’agrégation des données par rapport au temps ;
– Ensemble de mesures maximalesMMAX lorsque la fonction MAX peut être appliquée
pour agréger les données par rapport au temps ;
– Ensemble de mesures minimalesMMIN lorsque la fonction d’agrégation MIN peut être
utilisée en se référant au temps ;
– Ensemble de mesures moyennesM AVG lorsque la fonction d’agrégation AVG peut être
appliquée par rapport au temps.
Dans notre exemple, nous considérons la table 1 comme étant notre contexte endogène
composé de :
1. Dimension temporelle DT={T} ;
2. Mesures de contexte MC={Q, TC, CAE} avec les mesures d’analyse égales à toutes
les mesures existantes et aucune mesure de référence n’est limitée à une valeur fixe de
mesure avecMMAX={ Q} etMMIN={CAE} etM AVG={TC}.
Définition 1. (Sous-cube Endogène)
Soit D’⊂ D un ensemble non vide contenant une dimension temporelle {D1} extraite du cube
de données C (1 ≤ d) avec d la cardinalité de toutes les dimensions etM ’⊂M un ensemble
non vide de q mesures {M 1,...,M q} extrait du cube de donnéesC (q≤m) avec m la cardinalité
de toutes les mesures.
L’e-tuple (δ1,...,δt ) est appelé un sous-cube endogène de données C avec :
– D’ with i =1, δ1 6= /0 et δ1 ∈ Dom(D1).
– M ’ iff ∀ j ∈ {1,...,q}, γ j 6= /0 et γi ∈ Dom(M j).
Dans notre exemple, dans le sous-cube endogène, chaque e-tuple e = (d1,m1,...,mq) peut être
écrit sous la forme de triple e = (r, a, t) avec r est la restriction surM R, a est la restriction sur
M A et t est la restriction sur DT .
4.2 Item cyclique dimensionnel et Itemset cyclique multidimensionnel
basés sur les mesures
Définition 2. (Item Cyclique Dimensionnel basé sur la mesure)
Soient la dimension temporelle DT , les mesures d’analyse M A = {M 1,...,M q} et une lon-
gueur de cycle l. Un item cyclique dimensionnel basé sur la mesure α est un item satisfaisant
la condition suivante : il appartenant à l’une des mesures d’analyse, à savoir, M l et ayant
une valeur de α =ml à la date t et obligatoirement à la date t + l tel que ∀ l ∈ [1,q], ml ∈
Dom(M l).
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
Un exemple typique d’item cyclique dimensionnel basé sur la mesure, considéré dans le
contexte multidimensionnel représenté par la table 3 et la délimitation de contexte considérée
précédemment α= (77500) car il appartient à la mesure quantité vendue Q, faisant partie de
la mesure d’analyse et de sa valeur 77500 appartient au domaine de la quantité vendue et est
répété chaque semestre impair de 2007.
Définition 3. (Itemset Cyclique Multidimensionnel basé sur les mesures)
Un itemset cyclique multidimensionnel basé sur les mesures I défini surM A = {M 1,...,M j}
est un ensemble non vide d’items I = {α1,...,αt} avec ∀ pi ∈ [1, θ], αpi est un item cyclique
dimensionnel basé sur la mesure défini surM A et ∀ pi , e ∈ [1, θ], αpi 6= αθ .
Exemple 1. Un exemple d’itemset cyclique multidimensionnel basé sur les mesures est I :[CAE =
600, Q = 77500] car il est composé de deux items cycliques dimensionnels basés sur les me-
sures i.e., α1=(CAE = 600) et α2=(Q= 77500). Il est répété chaque trimestre de 2007.
4.3 Support et confiance Basés sur les fonctions d’agrégation
Définition 4. : (Support d’Item Cyclique Dimensionnel basé sur la mesure)
- Le support d’un item cyclique dimensionnel basé sur la mesure α est dénoté par Supp(α).
Vu que α appartient à la mesure d’analyseM l , le support est calculé comme suit :
1. Ml ∈M SUM , le support de α représente le quotient de la valeur de α par la somme de
la mesure car cette dernière est agrégée à travers une sommation par rapport au temps :
Supp(α) =
α
SUM(Ml)
;
2. Ml ∈MMAX , le support de α représente le rapport de la valeur de α par le maximum
de la mesure vue que cette mesure est agrégée temporellement en utilisant le maximum
de la mesure : Supp(α) =
α
MAX(Ml)
;
3. Ml ∈MMIN , le support de α représente le quotient de la différence entre la valeur de α
et la valeur du minimum de la mesure par la différence entre le maximum et le minimum
de cette mesure courante :
Supp(α) =
α−MIN(Ml)
MAX(Ml)−MIN(Ml) ;
4. Ml ∈M AVG
– Si (α ≤ AVG(Ml)), le support de α représente le rapport de la valeur de α par la
moyenne de la mesure si la valeur de α est inférieure à cette moyenne :
Supp(α) =
α
AVG(Ml)
;
– Sinon le support de α représente le quotient de la différence entre la valeur de α et
la valeur du minimum par la différence entre le maximum et le minimum de la mesure
courante :
Supp(α) =
α−MIN(Ml)
MAX(Ml)−MIN(Ml) ;
Dans notre exemple, se référant à la table 3, on considère les items suivants :
– (α1=77500) ∈ Q avec Q ∈MMAX , son support est égal à
Supp(α1) =
α1
MAX(Ml)
=
α1
MAX(Q)
=
77500
85000
= 0.911
E. Ben Ahmed et al.
– (α2=700) ∈CAE avecCAE ∈MMIN , son support est égal à
Supp(α2) =
α2−MIN(Ml)
MAX(Ml)−MIN(Ml) =
α2−MIN(CAE)
MAX(CAE)−MIN(CAE) =
700−600
700−600 = 1;
– (α3=1,947%) ∈ TC et TC ∈M AVG avec AVG(TC)= (1,947∗4)4 = 1,947.
α3=1,947% <= AVG(TC) =1,947 alors α3, son support est égal à
Supp(α3) =
α3
AVG(TC)
=
1,947
1,947
= 1.
Définition 5. : (Support d’un Itemset Cyclique Multidimensionnel basé sur les mesures)
On considère un itemset cyclique multidimensionnel basé sur les mesures I = {α1, ...,αp}
composé de p mesures deM A.
Le support d’itemset cyclique multidimensionnel I, dénoté Supp(I) est calculé comme suit :
Supp(I) =
p
∏
i=1
SUPP(αi);
Exemple 2. L’itemset cyclique multidimensionnel basé sur les mesures I=[CAE = 600, Q =
77500] a un support relatif aux ventes de 77500 unités avec un chiffre d’affaires externe 600
Supp(I) = SUPP(CAE = 600)∗SUPP(Q= 77500)
=
600−MIN(CAE)
MAX(CAE)−MIN(CAE) ∗
Q= 77500
MAX(Q)
=
700−600
700−600 ∗
77500
85000
= 1∗0.911= 0.911.
4.4 Support et confiance des règles
Définition 6. : (Support de Règle )
- Le support de la règleR : X⇒Y , dénoté Supp(R), est égal au quotient du nombre de tuples
contenant X et Y par le nombre total des tuples dans le sous-cube.
Supp(R) = SUPP(X∪Y )SUPP(ALL,ALL) ;
Le support deR, Supp(R) ∈ [0, 1].
Définition 7. : (Confiance de Règle)
- La confiance d’une règleR : X ⇒Y , dénotée Con f (R), est égale au quotient du nombre des
tuples contenant X et Y par le nombre de tuples contenant X dans le sous-cube.
Con f (R) = Supp(R)Supp(X) ;
La confiance deR, Con f (R) ∈ [ 0, 1 ].
Dans notre exemple, la règleR :CAE = 600⇒ Q= 77500 a :
Supp(R) = Supp(CAE = 600∪Q= 77500) = SUPP(600)∗SUPP(Q= 77500)
=
700−600
700−600 ∗
77500
MAX(Q)
=
700−600
700−600 ∗
77500
85000
= 1∗0.911= 0.911.
Con f (R) =
Supp(R)
Supp(Y )
=
Supp(R)
Supp(CAE=600)
=
0.911
1
= 0.911.
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
5 Génération des règles d’association cycliques multidimen-
sionnelles basées sur les mesures
Pour dériver des règles d’association cycliques multidimensionnelles basées sur les me-
sures, nous proposons le processus d’extraction articulé sur les deux phases suivantes :
- Phase de prétraitement contient deux étapes : (i) la dérivation du sous-cube endogène se-
lon la spécification de l’expert en utilisant une requête SQL ; (ii) la discrétisation des mesures
d’analyse en utilisant la technique de fréquence égale ;
- Phase de traitement consiste à l’extraction des règles d’association cycliques basées sur les
mesures à partir du cube de données et l’évaluation de ces règles par des critères de qualité
enrichis par les fonctions d’agrégation.
5.1 Phase de prétraitement
Cette phase comporte les deux étapes qu’on présentera dans cette sous-section.
5.1.1 Dérivation du sous-cube endogène
En se basant sur la spécification de l’expert du contexte endogène, une requête SQL sera
lancée pour obtenir le sous-cube endogène par la sélection des mesures d’analyse selon les
restrictions des mesures de référence. Ceci s’accomplit grâce à l’utilisation d’une requête SQL
qui permettra de délimiter le nouveau domaine d’analyse. Par exemple, considérons le cas dé-
crit par la table 1 et le contexte délimité comme suit : la dimension temporelle est la dimension
Temps, les mesures d’analyse sont la quantité vendue et le chiffre d’affaire externe avec la me-
sure de référence fixée à la mesure taux de change ayant des taux dépassant 1.5%. La requête
lancée est illustrée par la figure 2.
SELECT Temps, QuantitéVendue, ChiffresDAffairesExterne
FROM T
WHERE TauxDeChange > 1.5% ;
FIG. 2 – Exemple de requête SQL lancée pour obtenir le sous-cube endogène.
5.1.2 Discrétisation des mesures d’analyse en utilisant la technique de fréquence égale
Pour générer les règles d’association cycliques multidimensionnelles à partir du sous-cube
endogène, une discrétisation des mesures de contexte est primordiale. Le choix de la technique
de fréquence égale est motivé par le fait que les intervalles sont créés de telle sorte que la fré-
quence de chaque intervalle est constante et donc chaque intervalle contient à peu près le même
nombre de valeurs. Dans notre cas, l’expert fixe la fréquence à quarante. En fait, les quarante
valeurs les plus proches forment un intervalle indépendant. Par exemple, 77520, 75000, 77520
et trente-sept autres valeurs de la quantité vendue appartenant à l’intervalle de 75000 et 80000
composent l’intervalle [75000-80000]. Appliquant cette méthode, le sous-cube obtenu après
l’étape de discrétisation est représenté par la table 2.
E. Ben Ahmed et al.
Temps Quantité vendue Taux de Change Chiffre d’affaires Externe
T Q TC CAE
Premier trimestre 2007 75000-80000 1,946%- 1,948% 450-750
Second trimestre 2007 75000-80000 1,946%- 1,948% 450-750
Troisième trimestre 2007 75000-80000 1,946%- 1,948% 450-750
Quatrième trimestre 2007 80000-90000 1,946%- 1,948% 800-1000
TAB. 2 – Table T avec une discrétisation des mesures par la technique de fréquence égale
Une fois la discrétisation effectuée, nous utilisons la valeur médiane pour chaque intervalle
de mesure afin qu’on puisse considérer l’additivité temporelle des mesures lors de l’évaluation
des motifs générés. En fait, la valeur médiane peut être calculée en utilisant la formule suivante
Vmediane = Vmax+Vmin2 .
Par exemple, dans notre cas (table 2), l’item considéré pour la mesure quantité vendue est
α = Vmax+Vmin2 =
75000+80000
2 = 77500. La sortie de la table est représentée par la table 3 qui
sera une entrée pour notre algorithme.
Temps Quantité vendue Taux de Change Chiffre d’affaires Externe
T Q TC CAE
Premier trimestre 2007 77500 1,947% 600
Second trimestre 2007 77500 1,947% 600
Troisième trimestre 2007 77500 1,947% 600
Quatrième trimestre 2007 85000 1,947% 700
TAB. 3 – Table T finale obtenue suite à la phase de prétraitement
5.2 Phase de traitement pour la génération des règles cycliques multidi-
mensionnelles basées sur les mesures
Suite à la dérivation du sous-cube endogène puis la discrétisation des mesures évaluées et
enfin le calcul de médiane pour chaque intervalle trouvé, l’algorithme permettant l’extraction
des règles d’association cycliques multidimensionnelles basées sur le mesures, appelé MICAR
reçoit en entrée mis à part le sous-cube obtenu, le seuil minimum de supportMinsupp, le seuil
minimum de confianceMinCon f et la longueur du cycle l.
Notation Description
SC Sous-cube endogène
α Item cyclique dimensionnel potentiel basé sur la mesure
I Itemset cyclique multidimensionnel basé sur les mesures
C i (resp.F i) Ensemble des candidates (resp. fréquents) d’i-itemsets cycliques multidimensionnels
basés sur les mesures.
M insupp (resp.M incon f ) Seuil minimum de support (resp. de confiance)
D t Temps t
l Longueur du cycle
Supp(C ) Support de l’itemset cyclique multidimensionnel C basé sur les mesures
MMAX Ensemble des mesures agrégées par la fonction MAX
(resp.MMIN ,M AVG,M SUM ) (resp. MIN, AVG, SUM)
TAB. 4 – Liste des notations utilisées pour l’algorithme MICAR.
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
Algorithme 1 : MICAR : Règles d’Association Cycliques MultIdimensionnelles basées
sur les Mesures
Data : SC,M insupp,M incon f , l,MMAX ,MMIN ,M SUM ,M AVG
Result :R : Règles d’association cycliques multidimensionnelles basées sur les mesures dans SC
début
F 1= Trouver les 1-itemsets cycliques multidimensionnels basés sur les mesures (SC, l,D t ,M inSupp) ;
pour (k=2 ; k 6= /0 ; k++ ) faire
C k = CandidatGeneration(C k−1) ;
si C k est un itemset cyclique multidimensionnel basé sur les mesures alors
Pour chaque transaction T ∈ SC à la date D t faire
C t=subset(C k , T )
Pour chaque candidat C ∈ C t faire
C .count = CalculSupport(SC, l,D t , C ) ;
F k = { C ∈ C k , C .count >M insupp }
RetourF k = ∪k F k ;
// Génération de Règles
pour (i=2 ; i<k ; i++) faire
Générer tous les sous-ensembles deF i ;
Pour chaque sous-ensemble s non videF i faire
r = s→ (F i-s) ;
si (confiance(r) >M incon f ) alors
R=R ∪ r ;
RetourR ;
fin
Procédure Trouver 1-itemsets cycliques multidimensionnels basés sur les mesures (SC, l,D t ,M inSupp)
Result :F 1
début
tant que ( !Fin de tuples dans SC) faire
Pour chaque transaction T ∈ SC faire
Pour chaque item α ∈ T faire
Pour chaque transaction T ′ ∈ SC à la date D t+l faire
// α ∈ Mk
si (α existe dans T ′) et (Mk ∈M A) alors
si Mk ∈M SUM alors
Supp(α)= αSUM(Mk ) ; // avec m la mesure courante
si Mk ∈MMAX alors
Supp(α)= αMAX(Mk) ;
si Mk ∈MMIN alors
Supp(α)= α−MIN(Mk)MAX(Mk)−MIN(Mk) ;
si Mk ∈M AVG alors
si α >= AVG(Mk) alors
Supp(α)= αAVG(Mk) ;
Supp(α) = α−MIN(Mk)MAX(Mk)−MIN(Mk) ;
si (Supp(α) >M inSupp ) alors
F 1 =F 1 ∪ α ;
RetourF 1 ;
fin
Procedure CalculSupport (SC, l,D t , C )
Result : Supp(C )
début
NoMoreCyclic : Booléen ;
NoMoreCyclic = faux ;
tant que (( !Fin de tuples dans SC) et ( !NoMoreCyclic)) faire
C k = CandidatGeneration(C k−1) ;
Pour chaque transaction T ∈ SC à la date D t+l faire
si C existe dans T alors
si Itemset I de C contientM A alors
Supp(C )= ∏ni=1 Supp(i).
NoMoreCyclic = vrai ;
Retour Supp(C ) ;
fin
E. Ben Ahmed et al.
Il fournit en sortie de la liste des règles d’association cycliques multidimensionnelles ba-
sées sur les mesures. Les notations utilisées sont présentées par la table 4 et le pseudo-code de
l’algorithme est illustré dans ce qui suit. En fait, MICAR, un processus itératif, fonctionne en
trois étapes successives :
En premier lieu, nous procédons par un niveau croissant de recherche pour trouver les
i-itemsets cycliques multidimensionnels larges basés sur les mesures, où le niveau de (i) repré-
sente le nombre d’items dans l’itemset. On noteC(i) le candidat i-itemset cyclique multidimen-
sionnel basé sur les mesures potentiellement fréquent, et F(i) i-itemsets cycliques multidimen-
sionnels basés sur les mesures fréquents. Pour chaque niveau de (i), si l’ensemble C(i) n’est
pas vide, la première étape de notre algorithme extrait les motifs cycliques multidimensionnels
basés sur les mesures fréquents F(i) à partir de C(i) selon deux conditions :
– un itemset cyclique multidimensionnel basé sur les mesures A ∈ C(i) doit être une
conjonction de membres de mesures d’analyse ;
– et un itemset cyclique basé sur les mesures doit avoir un support supérieur au seuil
minimum de support Minsupp pour être inclus dans F(i).
Par exemple, I :[CAE = 600, Q = 77500] est un itemset cyclique multidimensionnel basé sur
les mesures fréquent si son support dépasse le seuil minimum de support.
La deuxième étape utilise les i-itemsets cycliques multidimensionnels basés sur les mesures
larges F(i) pour obtenir un nouvel ensembleC(i+1) de (i+1)-candidats. Un (i + 1)- candidat
est formé par l’union de deux i-itemsets A et B à partir de F(i) en fonction de trois conditions :
– A et B doivent avoir (i - 1) items cycliques dimensionnels basés sur les mesures com-
muns ;
– Tous les sous-itemsets multidimensionnels cycliques AUB basés sur les mesures doivent
être des instances deM A,
– Tous les sous-itemsets cycliques de A UB basés sur les mesures doivent être des itemsets
cycliques multidimensionnels basés sur les mesures fréquents.
Enfin, la troisième étape consiste à scanner F(i) niveau par niveau. De tous les A ∈ F(i), on
extrait les règles d’association cycliques multidimensionnelles basées sur les mesures ayant
une confiance supérieure au seuil minimum de confiance MinCon f . La règle R : CAE=600
⇒ Q=77500 est un exemple de règle d’association cyclique multidimensionnelle basée sur les
mesures dont sa confiance dépasseMinCon f .
6 Évaluation expérimentale
Les expérimentations ont été menées sur un PC Pentium doté d’une fréquence d’horloge
égale à 2 GHz et d’une mémoire centrale égale à 512 Mo. Nous présentons les résultats des
tests réalisés sur un entrepôt de ventes réel 4, contenant une table de faits de vente ayant trois
dimensions, à savoir le temps, le lieu et le client et cinq mesures i.e., la quantité vendue, le
chiffre d’affaires interne, le taux de change, le chiffre d’affaires externe et le bénéfice réalisé.
Chaque dimension contient presque cinq attributs et a une hiérarchie de concept comportant
trois niveaux. L’entrepôt de données se dote d’une architecture OLAP relationnel (ROLAP)
et est modélisé par un schéma en étoile. La première figure 3.(a) montre le comportement de
4. L’entrepôt de données relatif aux ventes a été mis en place en se basant sur les données d’une entreprise cotée en
bourse dont ses indicateurs d’activité sont disponibles à l’adresse http ://www.bvmt.com.tn/companies/ ?view=listed.
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
(a) (b)
 2000
 4000
 6000
 8000
 10000
 12000
 0  10  20  30  40  50  60  70  80  90  100
Te
m
ps
 d
’e
xc
ut
io
n(s
)
MinSupp(%)
frequence des intervalles=10
frequence des intervalles =50
frequence des intervalles =100
 0
 5000
 10000
 15000
 20000
 25000
 30000
 35000
 40000
 0  10  20  30  40  50  60  70  80  90  100
Te
m
ps
 d
’e
xc
ut
io
n(s
)
MinSupp(%)
MinConf=10%
MinConf=50%
MinConf=100%
(c) (d)
 1000
 1200
 1400
 1600
 1800
 2000
 0  10  20  30  40  50  60  70  80  90  100
Te
m
ps
 d
’e
xc
ut
io
n(s
)
MinSupp(%)
longueur du cycle=2
longueur du cycle=4
longueur du cycle=6
 2000
 4000
 6000
 8000
 10000
 12000
 0  10  20  30  40  50  60  70  80  90  100
Te
m
ps
 d
’e
xc
ut
io
n(s
)
MinSupp(%)
Nombre des mesures=3
Nombre des mesures =4
Nombre des mesures =5
FIG. 3 – Le temps d’exécution de notre algorithme par rapport à la variation de (a) la fré-
quence d’intervalle, (b) le minimum de confiance, (c) la longueur du cycle, (d) le nombre de
mesures.
notre approche en cas de changement de fréquence d’intervalle lors de la discrétisation. L’aug-
mentation de la fréquence d’intervalles, diminue la performance de notre méthode car si on
accroît la fréquence, le nombre de candidats qui pourront être éventuellement fréquents aug-
mente aussi.
La figure 3.(b) souligne la relation entre le temps d’exécution de notre algorithme et le support
des règles obtenues en fonction de plusieurs seuils de confiance. Généralement, l’extraction
de règles d’association nécessite moins de temps quand il s’agit de valeurs croissantes du sup-
port. Figure 3.(c) présente un test de notre algorithme avec la variation de la longueur du cycle.
Pour les petites valeurs de support, le temps d’exécution augmente considérablement en di-
minuant la longueur du cycle. Toutefois, pour de grandes valeurs de support, la longueur du
cycle a un moindre effet sur le temps de réponse de notre algorithme. La longueur typique
du cycle est d’une année c’est à dire quatre trimestres vu que généralement les mêmes événe-
ments se répètent annuellement. Dans la figure 3.(d), nous signalons que l’efficacité de l’algo-
rithme dépend étroitement du nombre de mesures. Lorsque le nombre de mesures est élevé, le
nombre d’itemsets fréquents obtenus parmi plusieurs candidats est élevé. Cependant, lorsque
ce nombre est réduit, le nombre des itemsets fréquents est également faible. On en conclut que
la performance de notre algorithme s’améliore en diminuant le nombre de mesures.
En général, ces expériences illustrent un temps d’exécution acceptable. L’efficacité de notre
algorithme est due à : (i) l’utilisation de la fouille de données sous contraintes réduit fortement
l’espace de recherche des règles d’association cycliques et, par conséquent, diminue considé-
E. Ben Ahmed et al.
rablement le temps d’exécution du processus de fouille ; (ii) l’utilisation de la propriété Apriori
qui est certainement adaptée à des cubes de données éparses et réduit considérablement la com-
plexité de la recherche itemsets larges, (iii) l’utilisation des fonctions d’agrégation appropriées
pour évaluer l’association multidimensionnelle basée sur les mesures pendant le processus de
fouille.
7 Conclusion
Dans cet article, nous avons introduit une nouvelle méthode pour extraire des règles d’as-
sociation cycliques multidimensionnelles basées sur les mesures en tenant compte de l’addi-
tivité de ces mesures par rapport au temps lors de l’évaluation des motifs extraits à partir du
contexte OLAP. Ainsi, une nouvelle définition des motifs cycliques multidimensionnels à base
de mesure est fournie. Une redéfinition des métriques d’évaluation inspirée de la caractéris-
tique d’additivité temporelle des mesures est présentée en utilisant les fonctions d’agrégation
adéquates qui caractérisent chaque mesure. En conséquence, une nouvelle méthode appelée
MICAR pour extraire ces motifs est introduite. D’autres perspectives pour des futurs travaux
concernent principalement les pistes suivantes : (i) l’utilisation d’autres techniques de discréti-
sation pour éviter la perte de l’information des mesures, (ii) la combinaison des techniques de
discrétisation pour optimiser la répartition optimale des mesures en intervalles, (iii) l’extraction
de motifs cycliques disjonctifs dans un contexte OLAP.
Références
Agrawal, R., T. Imielinski, et N. Swami. Mining association rules between sets of items in
large databases. In Proceedings of the 1993 ACM SIGMOD International Conference on
Management of Data, Washington, D.C., May 26-28, 1993, pp. 207–216.
Ben Ahmed, E. et F. Gargouri (2010). Règles d’association cycliques dans un contexte multi-
dimensionnel. In Atelier des Systèmes Décisionnels (ASD’10).
Ben Ahmed, E. et M. Gouider (2010). Towards a new mechanism of extracting cyclic asso-
ciation rules based on partition aspect. In IEEE Research Challenges In Computer Science
(RCIS’10’), pp. 69 – 78.
Ben Messaoud, R., O. Boussaid, S. Rabaséda, et R. Missaoui (2006). Enhanced mining of
association rules from data cubes. In Proceedings of the 9 th ACM International Workshop
on Data Warehousing and OLAP (DOLAP 2006, pp. 11–18.
Chiang, D., C. Wang, S. Chen, et C. Chen (2009). The cyclic model analysis on sequential
patterns. IEEE Trans. on Knowl. and Data Eng. 21, 1617–1628.
Han, J., W. Gong, et Y. Yin (1999). Efficient mining of partial periodic patterns in time series
database. In ICDE, pp. 106–115.
Kamber, M., J. Han, et J. Chiang (1997). Metarule-guided mining of multi-dimensional as-
sociation rules using data cubes. In Proceedings of the 1997 International Conference on
Knowledge Discovery and Data Mining (KDD’97), Newport Beach, CA,, pp. 207–210.
Lenz, H. et A. Shoshani (1997). Summarizability in olap and statistical data bases. pp. 132–
143.
Usage Des Mesures Pour La Génération Des Règles d’Associations Cycliques
Liu, H., F. Hussain, C. Tan, et M. Dash (2002). Discretization : An enabling technique. In
Data Mining and Knowledge Discovery, Volume (6), pp. 393–423.
Liu, H. et R. Setiono (1995). Chi2 : Feature selection and discretization of numeric attributes.
In IEEE Int. Conf. Tools with AI (ICTAI’95), pp. 388U˝391.
Nestorov, S. et N. Jukic (2003). Ad-hoc association-rule mining within the data warehouse.
In Proceedings of the 36 th Hawaii International Conference on System Sciences (HICSS
2003, pp. 232–242.
Ozden, B., S. Ramaswamy, et A. Silberschatz (1998). Cyclic association rules. In Proceedings
of the Fourteenth International Conference on Data Engineering, February 23-27, 1998,
Orlando, Florida, USA, pp. 412–421. IEEE Computer Society.
Palaniappan, S. et T. Hong (2008). Discretization of continuous valued dimensions in olap
data cubes. International Journal of Computer Science and Network Security 8, 116–126.
Plantevit, M., A. Laurent, D. Laurent, M. Teisseire, et Y. Choong (2010). Mining multidimen-
sional and multilevel sequential patterns. ACM Transactions on Knowledge Discovery from
Data 4, 155–174.
Plantevit, M., M. Laurent, et M. Teisseire (2008). Motifs séquentiels multidimensionnels et
mesure. différentes techniques pour calculer le support. Ingénierie des Systèmes d’Informa-
tion 13(6), 9–32.
Plantevit, M., C. Y.W., A. Laurent, D. Laurent, et M. Teisseire (2005). M2sp : Mining se-
quential patterns among several dimensions. In PKDD 2005, 9th European Conference on
Principles and Practice of Knowledge Discovery in Databases, Lecture Notes in Computer
Science, pp. 205–216.
Thuan, N. (2004). Mining cylic association rules in temporal database. The Journal Science
and technology developement, Vietnam National University 7(8), 12–19.
Thuan, N. (2008). Mining time pattern association rules in temporal database. In SCSS (1),
pp. 7–11.
Tjioe, H. et D. Taniar (2005). Mining association rules in data warehouses. IJDWM 1(3),
28–62.
Zhu, H. (December 1998). On-line analytical mining of association rules. Ph. D. thesis,
Master’s thesis,Simon Fraser University, Burnaby, British Columbia, Canada.
Summary
The online analytical processing (OLAP) does not provide any explanation of correlations
discovered between data. Thus, the coupling of OLAP and data mining, especially association
rules, is considered as an efficient solution to this problem. In this context, we mainly focus
on a particular class of association rules which is the cyclic association rules. These rules
aimed to discover patterns that display regular variation over user-defined intervals. Generally,
the generated patterns do not take an advantage from the specificities of the multidimensional
context namely, the consideration of the measures and their aggregations. In this paper, we
introduce a novel method for extracting cyclic association rules frommeasures, and we redefine
the evaluation metrics of association rules quality inspired of the temporal summarizability of
measures concept through the integration of appropriate aggregation functions. To prove the
usefulness of our approach, we conduct an empirical study on a real data warehouse.
