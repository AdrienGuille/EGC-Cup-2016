Mesurer l’inte´reˆt des re`gles d’association
Benoıˆt Vaillant∗, Patrick Meyer∗∗∗, Elie Prudhomme∗∗,
Ste´phane Lallich∗∗, Philippe Lenca∗, Se´bastien Bigaret∗
∗GET ENST Bretagne / De´partement LUSSI – CNRS UMR 2872
Technopoˆle de Brest Iroise - CS 83818, 29238 Brest Cedex, France
{prenom.nom}@enst-bretagne.fr
∗∗Laboratoire ERIC - Universite´ Lumie`re - Lyon 2
5 avenue Pierre Mende`s-France, 69676 Bron Cedex, France
lallich@univ-lyon2.fr
∗∗∗Service de Mathe´matiques Applique´es, Faculte´ de Droit,
d’Economie et de Finance, Universite´ du Luxembourg,
162a, avenue de la Faı¨encerie, L-1511 Luxembourg
patrick.meyer@uni.lu
Re´sume´. Cet article pre´sente nos travaux sur la mesure de l’inte´reˆt des re`gles
d’association. Une vingtaine de mesures ont e´te´ retenues, sur la base d’un
crite`re d’e´ligibilite´. Diffe´rentes proprie´te´s sont d’abord propose´es qui fondent
une e´tude formelle des mesures. Cette e´tude formelle se double d’une e´tude
de comportement, graˆce a` HERBS, une plate-forme de´veloppe´e pour expe´ri-
menter les mesures sur des bases de re`gles. Il est alors possible de confronter
la typologie formelle des mesures et la typologie expe´rimentale. Une fois
transforme´es en crite`res, ces proprie´te´s fondent une me´thode d’assistance au
choix de l’utilisateur. Le proble`me de la validation est enfin aborde´, ou` l’on
pre´sente une me´thode de controˆle du risque multiple adapte´e au proble`me.
1 Introduction
Nous nous inte´ressons aux mesures relatives a` l’inte´reˆt des re`gles d’association A→ B
telles que de´finies dans (Agrawal et al., 1993) : dans une base de donne´es transactionnelles,
A→ B signifie que si les articles qui constituent A sont dans le panier d’une me´nage`re, alors
le plus souvent les articles qui constituent B le sont aussi. Les algorithmes de type APRIORI
(fonde´ sur le support et la confiance) ont tendance a` produire un grand nombre de re`gles pas
toujours inte´ressantes du point de vue de l’utilisateur. Les mesures d’inte´reˆt jouent alors un
roˆle essentiel en permettant de pre´-filtrer les re`gles extraites.
Cet article pre´sente une synthe`se de l’ensemble de nos travaux sur la qualite´ des re`gles
d’association. C’est un re´sume´ de (Vaillant et al., 2005).
Diffe´rentes voies ont e´te´ explore´es. Ainsi, nous de´finissons des mesures et proposons
des proprie´te´s souhaitables section 2. La section 3 concerne le de´veloppement de la pla-
teforme expe´rimentale HERBS. La section 4 est relative au de´veloppement d’une aide a` la
se´lection de bonnes mesures. Les deux typologies des mesures, l’une fonde´e sur une ap-
proche expe´rimentale, l’autre sur une approche formelle sont mises en regard section 5.
Enfin, la section 6 s’inte´resse a` la validation des re`gles.
- 421 - RNTI-E-5
Mesurer l’inte´reˆt des re`gles d’association
2 Mesures et proprie´te´s
Notre premier travail a e´te´ de recenser les mesures de l’inte´reˆt des re`gles d’association
et de mettre en e´vidence leurs proprie´te´s, tant dans une perspective d’analyse formelle
(Teytaud et Lallich, 2001), (Lallich, 2002), que d’expe´rimentation (Vaillant, 2002). Ces
proprie´te´s ont ensuite e´te´ e´crites de fac¸on ope´rationnelle pour servir de base a` nos travaux
d’aide a` la de´cision (Lenca et al., 2002, Lenca et al., 2004).
Les re`gles d’association A→ B se focalisent sur les copre´sences en traitant les itemsets
de fac¸on non syme´trique, une mesure doit impe´rativement distinguer A → B de A → B
(Lallich et Teytaud, 2004) et une re`gle A→ B doit eˆtre distingue´e de l’implication A⇒ B
et de l’e´quivalence A ⇔ B. Ainsi a` la diffe´rence de (Tan et al., 2002), (Hilderman et
Hamilton, 2001), nous nous sommes limite´s aux mesures (nous en avons e´tudie´ 20) qui
sont de´croissantes avec nab (resp. croissantes avec nab)1.
Pour analyser formellement ces mesures, puis les e´valuer dans une perspective d’aide a`
la de´cision, nous proposons 8 proprie´te´s (en gras, ci-dessous). L’ante´ce´dent et le conse´quent
d’une re`gle n’ayant pas le meˆme roˆle, il est souhaitable qu’une mesure e´value de fac¸on
diffe´rente les re`gles A→ B et B → A (dissyme´trie). Pour une meˆme proportion d’exem-
ples pab2, une re`gle est d’autant plus inte´ressante que pb est faible (de´croissance avec pb).
Les comparaisons sont plus faciles lorsque les mesures ont une valeur qui ne de´pend pas
des marges en cas de re`gle logique, ainsi qu’en cas d’inde´pendance. Certains auteurs,
tel (Gras et al., 2004), privile´gient des mesures concaves lors de l’apparition des premiers
contre-exemples, d’autres peuvent pre´fe´rer une de´croissance convexe plus brutale, ou sim-
plement line´aire (courbure a` l’origine). La mesure doit-elle prendre en compte le nombre
total de transactions n (mesure statistique) ou non (descriptive) ? Les re`gles statistiques in-
tuitivement plus fonde´es, ont l’inconve´nient de perdre leur pouvoir discriminant de`s que n
est grand (prise en compte de n). Face a` la multitude de re`gles e´value´es, il est important
de pouvoir facilement fixer le seuil a` partir duquel on conside`re que les re`gles ont un re´el
inte´reˆt sans avoir a` les classer (fixation du seuil). On peut se re´fe´rer a` la probabilite´ critique
de la valeur observe´e de la mesure sous l’hypothe`se d’inde´pendance (ou p-value). Celle-ci
ne doit pas eˆtre interpre´te´e comme un risque statistique compte tenu de la multitude de tests
effectue´s, mais comme un parame`tre de controˆle, sauf a` controˆler effectivement le risque
multiple avec le crite`re UAFWER (voir section 6).
3 HERBS : une plate-forme d’expe´rimentation
Dans le cadre de la recherche de re`gles d’association, il est classique d’effectuer une
ope´ration de filtrage au moyen de mesures de qualite´. Mais a` notre connaissance, les ou-
tils disponibles ne proposent qu’un sous-ensemble re´duit de mesures, et qui plus est leur
inte´gration est a` but fonctionnel et non afin d’en e´tudier les comportements.
1Soit E l’ensemble des enregistrements, on note n = |E| ; pour A→ B, on note na = |A|, le nombre
d’enregistrements ve´rifiant A, nb = |B|, le nombre d’enregistrements ve´rifiant B, nab = |A ∩ B|, le nombre
d’exemples de la re`gle et n
ab¯
= |A ∩ B¯|, le nombre de contre-exemples a` la re`gle.
2Pour X ⊂ E, on remplace nX/n par pX lorsque l’on conside`re les fre´quences relatives plutoˆt que les
fre´quences absolues
- 422 -RNTI-E-5
Vaillant et al.
Nous avons de´veloppe´ HERBS (Vaillant, 2002), qui inte`gre 20 mesures de qualite´ dont
nous e´tudions par ailleurs les proprie´te´s formelles. Il est possible d’importer des re`gles
aux formats de sortie C4.5 (http://www.rulequest.com/Personal) et APRIORI
(http://fuzzy.cs.uni-magdeburg.de/˜borgelt/doc/apriori).Afin d’e´-
valuer ces re`gles, il est possible d’importer des donne´es au format csv. D’autres formats
d’e´changes sont envisage´s.
A partir de couples de bases de cas et de re`gles compatibles (i.e. portant sur les meˆmes
attributs), HERBS permet d’effectuer divers types d’analyse :
Etude d’une mesure Plusieurs traitements nous semblent inte´ressants afin de caracte´riser
le comportement d’une mesure donne´e :
– Evaluation des objets que la mesure va avoir a` traiter au moyen de quelques gran-
deurs : nombre de cas et de re`gles, taux de couverture, indice de recouvrement,
et nombre de re`gles “particulie`res” (logiques, sans exemples, et ne passant pas
l’hypothe`se d’inde´pendance).
– Se´lection de l’ensemble des N meilleures re`gles selon la mesure donne´e.
– Trace´ de la distribution des valeurs prises par la mesure.
Comparaison de mesures Afin de comparer le comportement expe´rimental de mesures,
trois voies ont e´te´ de´veloppe´es :
– L’extraction de l’ensemble des re`gles classe´es k fois parmi les N meilleures par p
mesures.
– La comparaison des pre´ordres induits par deux mesures.
– Le trace´ des distributions croise´es des valeurs de deux mesures.
A partir de HERBS nous avons obtenu une classification expe´rimentale des mesures.
Cette dernie`re est mise en regard (section 5) d’une classification obtenue a` partir de pro-
prie´te´s formelles (Vaillant et al., 2004).
4 Assistance au choix des mesures
Les mesures d’inte´reˆt posse`dent des proprie´te´s diverses (Lallich et Teytaud, 2002) et
l’ensemble des n meilleures re`gles re´sultant d’un pre´filtrage d’une base de m > n re`gles
peut varier grandement selon la mesure utilise´e (Vaillant, 2002). Ainsi, lorsque l’utilisateur
est confronte´ a` la se´lection du sous-ensemble des n meilleures re`gles il est aussi confronte´
au choix des mesures d’inte´reˆt a` appliquer : choisir les bonnes re`gles c’est aussi choisir les
bonnesmesures (Lenca et al., 2002), (Lenca et al., 2003b).
Ce choix doit eˆtre guide´ par les pre´fe´rences et les objectifs du principal inte´resse´, l’uti-
lisateur expert des donne´es. L’utilisateur est au cœur du processus et les travaux l’impli-
quant fortement sont a` notre avis fort prometteurs, par exemple (Poulet, 1999), (Lehn et
al., 1999) et (Blanchard et al., 2004). Partant des huit proprie´te´s pre´sente´es section 2 nous
avons identifie´ celles reposant sur les pre´fe´rences de l’utilisateur et celles plus normatives
afin de de´finir des crite`res de de´cision sur les mesures. Diffe´rentes me´thodes d’aide multi-
crite`res a` la de´cision ont e´te´ applique´es (Lenca et al., 2003b), (Lenca et al., 2003a) afin
d’obtenir, selon la me´thode, un sous-ensemble de bonnes mesures ou un classement des
mesures. Dans (Lenca et al., 2004) nous pre´cisons six e´le´ments de´finissant le contexte et a`
- 423 - RNTI-E-5
Mesurer l’inte´reˆt des re`gles d’association
prendre en compte pour l’assistance au choix des mesures : l’ensemble de donne´es, l’en-
semble de re`gles, l’ensemble de mesures, l’ensemble de proprie´te´s des mesures, l’ensemble
de pre´fe´rences de l’utilisateur, l’ensemble de crite`res de de´cision. Nous y pre´sentons une
e´tude de´taille´e de deux sce´narios utilisateur (tole´rance –Sc1– ou non –Sc2– de l’apparition
de contre-exemples dans les re`gles) et des classements des mesures selon ces sce´narios.
5 Typologies formelle et expe´rimentale des mesures
Nous avons extrait un sous-ensemble pertinent de 6 proprie´te´s formelles, de´taille´es
dans (Lenca et al., 2003a). Ce sous-ensemble de proprie´te´s nous a permis de construire
une matrice de de´cision e´valuant les mesures. A partir de ces e´valuations, on peut ainsi
construire une matrice de distance entre les mesures. En appliquant une classification as-
cendante hie´rarchique avec le crite`re de WARD on distingue quatre classes principales.
Cette partition formelle est compare´e a` la partition issue du comportement expe´rimentale
des mesures dans (Vaillant et al., 2004).
6 Validation de re`gles
Le plus souvent, les transactions a` partir desquelles sont extraites les re`gles d’asso-
ciation ne sont qu’un e´chantillon d’une population plus vaste. Au terme de la proce´dure
d’extraction et d’e´valuation des re`gles, on dispose d’une multitude de re`gles de´crites par
diffe´rentes mesures, au minimum le support et la confiance, ainsi qu’unemesure de l’inte´reˆt
de la re`gle. Telle mesure de´passe-t-elle significativement une valeur fixe´e, par exemple la
confiance pb/a d’une re`gle A → B est-elle significativement supe´rieure a` sa fre´quence
a priori ? Dans ce dernier cas, il s’agit de tester l’hypothe`se d’inde´pendance (H0) du
conse´quent B et de l’ante´ce´dent A contre une hypothe`se de de´pendance positive (H1),
afin de ne retenir que les re`gles statistiquement significatives. On doit donc pratiquer une
multitude de tests, ce qui pose le proble`me du controˆle du risque multiple. Par exemple, si
l’on effectue le test d’inde´pendance de A etB pour 10000 re`gles successivement, en fixant
a` 0.05 le niveau du risque de 1re espe`ce α = P (de´cider H1/H0), alors meˆme qu’aucune
re`gle ne serait pertinente, on se´lectionne quand meˆme 500 re`gles en moyenne.
Dans le but de controˆler le risque multiple, nous avons d’abord utilise´ des outils de la
the´orie de l’apprentissage statistique, fonde´s pour l’essentiel sur la dimension de Vapnik,
afin de proposer des bornes uniformes non asymptotiques pour toutes les re`gles et toutes
les mesures conside´re´es (Teytaud et Lallich, 2001). Par la suite (Lallich et Teytaud, 2004),
nous avons propose´ BS, un algorithme fonde´ sur le bootstrap qui controˆle le risque de 1re
espe`ce sur l’ensemble des tests. Ces me´thodes assurent que le risque de faire la moindre
fausse de´couverte soit e´gal a` un seuil fixe´, mais elles ont l’inconve´nient d’exprimer un point
de vue tre`s se´ve`re sur les erreurs, ce qui les rend peu puissantes et les ame`ne a` manquer
plus souvent de vraies de´couvertes.
Pour reme´dier a` ce de´faut, nous avons choisi de controˆler non pas le risque, mais le
nombre V de fausses de´couvertes, suivant les proce´dures de se´lection de ge`nes de´velope´es
en biostatistique. Nous avons propose´ (Lallich et al., 2004) un crite`re original,User Adjus-
ted Family Wise Error Rate, UAFWER = Pr(V > V0), que nous controˆlons au risque δ
- 424 -RNTI-E-5
Vaillant et al.
graˆce a` une proce´dure fonde´e sur le bootstrap. Ce crite`re est plus tole´rant au sens ou` il as-
sure au risque δ d’avoir au maximum V0 fausses de´couvertes. Applique´e a` diffe´rentes bases
de re`gles, cette proce´dure a permis d’e´liminer jusqu’a` 50% de re`gles non significatives. La
me´thode propose´e a le double avantage de ge´rer la de´pendance entre les diffe´rentes re`gles,
graˆce au bootstrap, et de ne pas ne´cessiter la connaissance de la loi de la statistique de test
sousH0, exigeant seulement une valeur fixe sousH0.
7 Conclusion
Le principe de notre de´marche commune est de mettre en regard deux approches com-
ple´mentaires de la mesure de l’inte´reˆt des re`gles d’association, l’une formelle, l’autre em-
pirique. Dans le cadre de l’approche formelle, nous proposons un certain nombre de pro-
prie´te´s ope´rationnelles qui permettent d’e´valuer les mesures. Pour mener a` bien l’approche
empirique, nous avons de´veloppe´ HERBS, une plateforme d’expe´rimentation des mesures
sur des bases de re`gles et nous nous sommes donne´s de controˆler la validation statistique
des re`gles retenues. Nous avons aussi fait le lien avec l’utilisateur en lui donnant le moyen
de choisir la mesure qui correspond le mieux a` ses pre´fe´rences en termes de proprie´te´s.
D’autres proprie´te´s inte´ressantes sont a` l’e´tude et devraient eˆtre inte´gre´es dans notre plate-
forme, ainsi que dans le module d’aide a` la de´cision.
Re´fe´rences
Agrawal R., Imielinski T. et Swami A.N. (1993). Mining association rules between sets
of items in large databases. In ACM SIGMOD Int. Conf. on Management of Data, pp
207–216.
Blanchard J., Guillet F. et Briand H. (2004). Une visualisation oriente´e qualite´ pour la
fouille anthropocentre´e de re`gles d’association. Cahiers Romans de Sciences Cognitives
– In Cognito, 1(3) :79–100.
Gras R., Couturier R., Blanchard J., Briand H., Kuntz P. et Peter P. (2004). Quelques
crite`res pour une mesure de qualite´ de re`gles d’association. RNTI-E-1, pp 3–31.
Hilderman Robert J. et Hamilton Howard J. (2001). Evaluation of interestingnessmeasures
for ranking discovered knowledge. Lecture Notes in Computer Science, 2035 :247–259.
Lallich S., Prudhomme E. et Teytaud O. (2004). Controˆle du risque multiple en se´lection
de re`gles d’association significatives. RNTI-E-2, 2 :305–316.
Lallich S. et Teytaud O. (2002). ´Evaluation et validation de l’inte´reˆt des re`gles d’associa-
tion. Rapport de recherche pour le groupe de travail GAFOQUALITE´ (AS STIC fouille de
bases de donne´es), E.R.I.C., Universite´ Lyon 2.
Lallich S. et Teytaud O. (2004). ´Evaluation et validation de l’inte´reˆt des re`gles d’associa-
tion. RNTI-E-1, pp 193–217.
Lallich S. (2002). Mesure et validation en extraction des connaissances a` partir des
donne´es. Habilitation a` Diriger des Recherches – Universite´ Lyon 2.
Lehn R., Guillet F., Kuntz P., Briand H. et Philippe´ J. (1999). Felix : An interactive rule mi-
ning interface in a kdd process. In Lenca P., editor, Proceedings of the Human Centered
Processes Conference, pp 169–174, Brest, France.
- 425 - RNTI-E-5
Mesurer l’inte´reˆt des re`gles d’association
Lenca P., Meyer P., Vaillant B. et Picouet P. (2002). Aide multicrite`re a` la de´cision pour
e´valuer les indices de qualite´ des connaissances - mode´lisation des pre´fe´rences de l’uti-
lisateur. Rapport de recherche pour le groupe de travail GAFOQUALITE´ (AS STIC fouille
de bases de donne´es), ENST Bretagne.
Lenca P., Meyer P., Picouet P., Vaillant B. et Lallich S. (2003a). Crite`res d’e´valuation des
mesures de qualite´ en ECD. Entreposage et Fouille de donne´es, (1) :123–134.
Lenca P., Meyer P., Vaillant B. et Picouet P. (2003b). Aide multicrite`re a` la de´cision pour
e´valuer les indices de qualite´ des connaissances – mode´lisation des pre´fe´rences de l’uti-
lisateur. RSTI-RIA (EGC 2003), 1(17) :271–282.
Lenca P., Meyer P., Vaillant B., Picouet P. et S. Lallich (2004). ´Evaluation et analyse
multicrite`re des mesures de qualite´ des re`gles d’association. Mesures de Qualite´ pour la
Fouille de Donne´es, (RNTI-E-1) :219–246.
Poulet F. (1999). Visualization in data-mining and knowledge discovery. In Lenca P.,
editor, Proceedings of the Human Centered Processes Conference, pp 183–191, Brest,
France.
Tan P.-N., Kumar V. et Srivastava J. (2002). Selecting the right interestingness measure for
association patterns. In Eighth ACM SIGKDD Int. Conf. on KDD, pp 32–41.
Teytaud O. et Lallich S. (2001). Bornes uniformes en extraction de re`gles d’association.
In Confe´rence d’Apprentissage, CAp’01, pp 133–148.
Vaillant B., Lenca P. et Lallich S. (2004). A clustering of interestingness measures. In
Discovery Science, volume 3245 of Lecture Notes in Artificial Intelligence, pp 290–297.
Springer-Verlag.
Vaillant B., Meyer P., Prudhomme E., Lallich S. et Lenca P. (2005). Mesurer l’inte´reˆt des
re`gles d’association. In Atelier Qualite´ des Donne´es et des Connaissances (EGC 2005),
pp 69–78.
Vaillant B. (2002). Evaluation de connaissances : le proble`me du choix d’une mesure de
qualite´ en ECD. Rapport de DEA, ENST Bretagne.
- 426 -RNTI-E-5
